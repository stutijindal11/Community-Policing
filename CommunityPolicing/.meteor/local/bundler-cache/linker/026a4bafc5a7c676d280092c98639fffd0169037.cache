[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\n\n(function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/bevanhunt_leaflet/packages/bevanhunt_leaflet.js                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/bevanhunt:leaflet/.npm/package/node_modules/leaflet/dist/leaflet-src.js                                 //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n/*                                                                                                                  // 1\n Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com                           // 2\n (c) 2010-2013, Vladimir Agafonkin                                                                                  // 3\n (c) 2010-2011, CloudMade                                                                                           // 4\n*/                                                                                                                  // 5\n(function (window, document, undefined) {                                                                           // 6\nvar oldL = window.L,                                                                                                // 7\n    L = {};                                                                                                         // 8\n                                                                                                                    // 9\nL.version = '0.7.2';                                                                                                // 10\n                                                                                                                    // 11\n// define Leaflet for Node module pattern loaders, including Browserify                                             // 12\nif (typeof module === 'object' && typeof module.exports === 'object') {                                             // 13\n\tmodule.exports = L;                                                                                                // 14\n                                                                                                                    // 15\n// define Leaflet as an AMD module                                                                                  // 16\n} else if (typeof define === 'function' && define.amd) {                                                            // 17\n\tdefine(L);                                                                                                         // 18\n}                                                                                                                   // 19\n                                                                                                                    // 20\n// define Leaflet as a global L variable, saving the original L to restore later if needed                          // 21\n                                                                                                                    // 22\nL.noConflict = function () {                                                                                        // 23\n\twindow.L = oldL;                                                                                                   // 24\n\treturn this;                                                                                                       // 25\n};                                                                                                                  // 26\n                                                                                                                    // 27\nwindow.L = L;                                                                                                       // 28\n                                                                                                                    // 29\n                                                                                                                    // 30\n/*                                                                                                                  // 31\n * L.Util contains various utility functions used throughout Leaflet code.                                          // 32\n */                                                                                                                 // 33\n                                                                                                                    // 34\nL.Util = {                                                                                                          // 35\n\textend: function (dest) { // (Object[, Object, ...]) ->                                                            // 36\n\t\tvar sources = Array.prototype.slice.call(arguments, 1),                                                           // 37\n\t\t    i, j, len, src;                                                                                               // 38\n                                                                                                                    // 39\n\t\tfor (j = 0, len = sources.length; j < len; j++) {                                                                 // 40\n\t\t\tsrc = sources[j] || {};                                                                                          // 41\n\t\t\tfor (i in src) {                                                                                                 // 42\n\t\t\t\tif (src.hasOwnProperty(i)) {                                                                                    // 43\n\t\t\t\t\tdest[i] = src[i];                                                                                              // 44\n\t\t\t\t}                                                                                                               // 45\n\t\t\t}                                                                                                                // 46\n\t\t}                                                                                                                 // 47\n\t\treturn dest;                                                                                                      // 48\n\t},                                                                                                                 // 49\n                                                                                                                    // 50\n\tbind: function (fn, obj) { // (Function, Object) -> Function                                                       // 51\n\t\tvar args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;                                // 52\n\t\treturn function () {                                                                                              // 53\n\t\t\treturn fn.apply(obj, args || arguments);                                                                         // 54\n\t\t};                                                                                                                // 55\n\t},                                                                                                                 // 56\n                                                                                                                    // 57\n\tstamp: (function () {                                                                                              // 58\n\t\tvar lastId = 0,                                                                                                   // 59\n\t\t    key = '_leaflet_id';                                                                                          // 60\n\t\treturn function (obj) {                                                                                           // 61\n\t\t\tobj[key] = obj[key] || ++lastId;                                                                                 // 62\n\t\t\treturn obj[key];                                                                                                 // 63\n\t\t};                                                                                                                // 64\n\t}()),                                                                                                              // 65\n                                                                                                                    // 66\n\tinvokeEach: function (obj, method, context) {                                                                      // 67\n\t\tvar i, args;                                                                                                      // 68\n                                                                                                                    // 69\n\t\tif (typeof obj === 'object') {                                                                                    // 70\n\t\t\targs = Array.prototype.slice.call(arguments, 3);                                                                 // 71\n                                                                                                                    // 72\n\t\t\tfor (i in obj) {                                                                                                 // 73\n\t\t\t\tmethod.apply(context, [i, obj[i]].concat(args));                                                                // 74\n\t\t\t}                                                                                                                // 75\n\t\t\treturn true;                                                                                                     // 76\n\t\t}                                                                                                                 // 77\n                                                                                                                    // 78\n\t\treturn false;                                                                                                     // 79\n\t},                                                                                                                 // 80\n                                                                                                                    // 81\n\tlimitExecByInterval: function (fn, time, context) {                                                                // 82\n\t\tvar lock, execOnUnlock;                                                                                           // 83\n                                                                                                                    // 84\n\t\treturn function wrapperFn() {                                                                                     // 85\n\t\t\tvar args = arguments;                                                                                            // 86\n                                                                                                                    // 87\n\t\t\tif (lock) {                                                                                                      // 88\n\t\t\t\texecOnUnlock = true;                                                                                            // 89\n\t\t\t\treturn;                                                                                                         // 90\n\t\t\t}                                                                                                                // 91\n                                                                                                                    // 92\n\t\t\tlock = true;                                                                                                     // 93\n                                                                                                                    // 94\n\t\t\tsetTimeout(function () {                                                                                         // 95\n\t\t\t\tlock = false;                                                                                                   // 96\n                                                                                                                    // 97\n\t\t\t\tif (execOnUnlock) {                                                                                             // 98\n\t\t\t\t\twrapperFn.apply(context, args);                                                                                // 99\n\t\t\t\t\texecOnUnlock = false;                                                                                          // 100\n\t\t\t\t}                                                                                                               // 101\n\t\t\t}, time);                                                                                                        // 102\n                                                                                                                    // 103\n\t\t\tfn.apply(context, args);                                                                                         // 104\n\t\t};                                                                                                                // 105\n\t},                                                                                                                 // 106\n                                                                                                                    // 107\n\tfalseFn: function () {                                                                                             // 108\n\t\treturn false;                                                                                                     // 109\n\t},                                                                                                                 // 110\n                                                                                                                    // 111\n\tformatNum: function (num, digits) {                                                                                // 112\n\t\tvar pow = Math.pow(10, digits || 5);                                                                              // 113\n\t\treturn Math.round(num * pow) / pow;                                                                               // 114\n\t},                                                                                                                 // 115\n                                                                                                                    // 116\n\ttrim: function (str) {                                                                                             // 117\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');                                                     // 118\n\t},                                                                                                                 // 119\n                                                                                                                    // 120\n\tsplitWords: function (str) {                                                                                       // 121\n\t\treturn L.Util.trim(str).split(/\\s+/);                                                                             // 122\n\t},                                                                                                                 // 123\n                                                                                                                    // 124\n\tsetOptions: function (obj, options) {                                                                              // 125\n\t\tobj.options = L.extend({}, obj.options, options);                                                                 // 126\n\t\treturn obj.options;                                                                                               // 127\n\t},                                                                                                                 // 128\n                                                                                                                    // 129\n\tgetParamString: function (obj, existingUrl, uppercase) {                                                           // 130\n\t\tvar params = [];                                                                                                  // 131\n\t\tfor (var i in obj) {                                                                                              // 132\n\t\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));             // 133\n\t\t}                                                                                                                 // 134\n\t\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');                        // 135\n\t},                                                                                                                 // 136\n\ttemplate: function (str, data) {                                                                                   // 137\n\t\treturn str.replace(/\\{ *([\\w_]+) *\\}/g, function (str, key) {                                                     // 138\n\t\t\tvar value = data[key];                                                                                           // 139\n\t\t\tif (value === undefined) {                                                                                       // 140\n\t\t\t\tthrow new Error('No value provided for variable ' + str);                                                       // 141\n\t\t\t} else if (typeof value === 'function') {                                                                        // 142\n\t\t\t\tvalue = value(data);                                                                                            // 143\n\t\t\t}                                                                                                                // 144\n\t\t\treturn value;                                                                                                    // 145\n\t\t});                                                                                                               // 146\n\t},                                                                                                                 // 147\n                                                                                                                    // 148\n\tisArray: Array.isArray || function (obj) {                                                                         // 149\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');                                                // 150\n\t},                                                                                                                 // 151\n                                                                                                                    // 152\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='                                        // 153\n};                                                                                                                  // 154\n                                                                                                                    // 155\n(function () {                                                                                                      // 156\n                                                                                                                    // 157\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/                                // 158\n                                                                                                                    // 159\n\tfunction getPrefixed(name) {                                                                                       // 160\n\t\tvar i, fn,                                                                                                        // 161\n\t\t    prefixes = ['webkit', 'moz', 'o', 'ms'];                                                                      // 162\n                                                                                                                    // 163\n\t\tfor (i = 0; i < prefixes.length && !fn; i++) {                                                                    // 164\n\t\t\tfn = window[prefixes[i] + name];                                                                                 // 165\n\t\t}                                                                                                                 // 166\n                                                                                                                    // 167\n\t\treturn fn;                                                                                                        // 168\n\t}                                                                                                                  // 169\n                                                                                                                    // 170\n\tvar lastTime = 0;                                                                                                  // 171\n                                                                                                                    // 172\n\tfunction timeoutDefer(fn) {                                                                                        // 173\n\t\tvar time = +new Date(),                                                                                           // 174\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));                                                             // 175\n                                                                                                                    // 176\n\t\tlastTime = time + timeToCall;                                                                                     // 177\n\t\treturn window.setTimeout(fn, timeToCall);                                                                         // 178\n\t}                                                                                                                  // 179\n                                                                                                                    // 180\n\tvar requestFn = window.requestAnimationFrame ||                                                                    // 181\n\t        getPrefixed('RequestAnimationFrame') || timeoutDefer;                                                      // 182\n                                                                                                                    // 183\n\tvar cancelFn = window.cancelAnimationFrame ||                                                                      // 184\n\t        getPrefixed('CancelAnimationFrame') ||                                                                     // 185\n\t        getPrefixed('CancelRequestAnimationFrame') ||                                                              // 186\n\t        function (id) { window.clearTimeout(id); };                                                                // 187\n                                                                                                                    // 188\n                                                                                                                    // 189\n\tL.Util.requestAnimFrame = function (fn, context, immediate, element) {                                             // 190\n\t\tfn = L.bind(fn, context);                                                                                         // 191\n                                                                                                                    // 192\n\t\tif (immediate && requestFn === timeoutDefer) {                                                                    // 193\n\t\t\tfn();                                                                                                            // 194\n\t\t} else {                                                                                                          // 195\n\t\t\treturn requestFn.call(window, fn, element);                                                                      // 196\n\t\t}                                                                                                                 // 197\n\t};                                                                                                                 // 198\n                                                                                                                    // 199\n\tL.Util.cancelAnimFrame = function (id) {                                                                           // 200\n\t\tif (id) {                                                                                                         // 201\n\t\t\tcancelFn.call(window, id);                                                                                       // 202\n\t\t}                                                                                                                 // 203\n\t};                                                                                                                 // 204\n                                                                                                                    // 205\n}());                                                                                                               // 206\n                                                                                                                    // 207\n// shortcuts for most used utility functions                                                                        // 208\nL.extend = L.Util.extend;                                                                                           // 209\nL.bind = L.Util.bind;                                                                                               // 210\nL.stamp = L.Util.stamp;                                                                                             // 211\nL.setOptions = L.Util.setOptions;                                                                                   // 212\n                                                                                                                    // 213\n                                                                                                                    // 214\n/*                                                                                                                  // 215\n * L.Class powers the OOP facilities of the library.                                                                // 216\n * Thanks to John Resig and Dean Edwards for inspiration!                                                           // 217\n */                                                                                                                 // 218\n                                                                                                                    // 219\nL.Class = function () {};                                                                                           // 220\n                                                                                                                    // 221\nL.Class.extend = function (props) {                                                                                 // 222\n                                                                                                                    // 223\n\t// extended class with the new prototype                                                                           // 224\n\tvar NewClass = function () {                                                                                       // 225\n                                                                                                                    // 226\n\t\t// call the constructor                                                                                           // 227\n\t\tif (this.initialize) {                                                                                            // 228\n\t\t\tthis.initialize.apply(this, arguments);                                                                          // 229\n\t\t}                                                                                                                 // 230\n                                                                                                                    // 231\n\t\t// call all constructor hooks                                                                                     // 232\n\t\tif (this._initHooks) {                                                                                            // 233\n\t\t\tthis.callInitHooks();                                                                                            // 234\n\t\t}                                                                                                                 // 235\n\t};                                                                                                                 // 236\n                                                                                                                    // 237\n\t// instantiate class without calling constructor                                                                   // 238\n\tvar F = function () {};                                                                                            // 239\n\tF.prototype = this.prototype;                                                                                      // 240\n                                                                                                                    // 241\n\tvar proto = new F();                                                                                               // 242\n\tproto.constructor = NewClass;                                                                                      // 243\n                                                                                                                    // 244\n\tNewClass.prototype = proto;                                                                                        // 245\n                                                                                                                    // 246\n\t//inherit parent's statics                                                                                         // 247\n\tfor (var i in this) {                                                                                              // 248\n\t\tif (this.hasOwnProperty(i) && i !== 'prototype') {                                                                // 249\n\t\t\tNewClass[i] = this[i];                                                                                           // 250\n\t\t}                                                                                                                 // 251\n\t}                                                                                                                  // 252\n                                                                                                                    // 253\n\t// mix static properties into the class                                                                            // 254\n\tif (props.statics) {                                                                                               // 255\n\t\tL.extend(NewClass, props.statics);                                                                                // 256\n\t\tdelete props.statics;                                                                                             // 257\n\t}                                                                                                                  // 258\n                                                                                                                    // 259\n\t// mix includes into the prototype                                                                                 // 260\n\tif (props.includes) {                                                                                              // 261\n\t\tL.Util.extend.apply(null, [proto].concat(props.includes));                                                        // 262\n\t\tdelete props.includes;                                                                                            // 263\n\t}                                                                                                                  // 264\n                                                                                                                    // 265\n\t// merge options                                                                                                   // 266\n\tif (props.options && proto.options) {                                                                              // 267\n\t\tprops.options = L.extend({}, proto.options, props.options);                                                       // 268\n\t}                                                                                                                  // 269\n                                                                                                                    // 270\n\t// mix given properties into the prototype                                                                         // 271\n\tL.extend(proto, props);                                                                                            // 272\n                                                                                                                    // 273\n\tproto._initHooks = [];                                                                                             // 274\n                                                                                                                    // 275\n\tvar parent = this;                                                                                                 // 276\n\t// jshint camelcase: false                                                                                         // 277\n\tNewClass.__super__ = parent.prototype;                                                                             // 278\n                                                                                                                    // 279\n\t// add method for calling all hooks                                                                                // 280\n\tproto.callInitHooks = function () {                                                                                // 281\n                                                                                                                    // 282\n\t\tif (this._initHooksCalled) { return; }                                                                            // 283\n                                                                                                                    // 284\n\t\tif (parent.prototype.callInitHooks) {                                                                             // 285\n\t\t\tparent.prototype.callInitHooks.call(this);                                                                       // 286\n\t\t}                                                                                                                 // 287\n                                                                                                                    // 288\n\t\tthis._initHooksCalled = true;                                                                                     // 289\n                                                                                                                    // 290\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {                                                    // 291\n\t\t\tproto._initHooks[i].call(this);                                                                                  // 292\n\t\t}                                                                                                                 // 293\n\t};                                                                                                                 // 294\n                                                                                                                    // 295\n\treturn NewClass;                                                                                                   // 296\n};                                                                                                                  // 297\n                                                                                                                    // 298\n                                                                                                                    // 299\n// method for adding properties to prototype                                                                        // 300\nL.Class.include = function (props) {                                                                                // 301\n\tL.extend(this.prototype, props);                                                                                   // 302\n};                                                                                                                  // 303\n                                                                                                                    // 304\n// merge new default options to the Class                                                                           // 305\nL.Class.mergeOptions = function (options) {                                                                         // 306\n\tL.extend(this.prototype.options, options);                                                                         // 307\n};                                                                                                                  // 308\n                                                                                                                    // 309\n// add a constructor hook                                                                                           // 310\nL.Class.addInitHook = function (fn) { // (Function) || (String, args...)                                            // 311\n\tvar args = Array.prototype.slice.call(arguments, 1);                                                               // 312\n                                                                                                                    // 313\n\tvar init = typeof fn === 'function' ? fn : function () {                                                           // 314\n\t\tthis[fn].apply(this, args);                                                                                       // 315\n\t};                                                                                                                 // 316\n                                                                                                                    // 317\n\tthis.prototype._initHooks = this.prototype._initHooks || [];                                                       // 318\n\tthis.prototype._initHooks.push(init);                                                                              // 319\n};                                                                                                                  // 320\n                                                                                                                    // 321\n                                                                                                                    // 322\n/*                                                                                                                  // 323\n * L.Mixin.Events is used to add custom events functionality to Leaflet classes.                                    // 324\n */                                                                                                                 // 325\n                                                                                                                    // 326\nvar eventsKey = '_leaflet_events';                                                                                  // 327\n                                                                                                                    // 328\nL.Mixin = {};                                                                                                       // 329\n                                                                                                                    // 330\nL.Mixin.Events = {                                                                                                  // 331\n                                                                                                                    // 332\n\taddEventListener: function (types, fn, context) { // (String, Function[, Object]) or (Object[, Object])            // 333\n                                                                                                                    // 334\n\t\t// types can be a map of types/handlers                                                                           // 335\n\t\tif (L.Util.invokeEach(types, this.addEventListener, this, fn, context)) { return this; }                          // 336\n                                                                                                                    // 337\n\t\tvar events = this[eventsKey] = this[eventsKey] || {},                                                             // 338\n\t\t    contextId = context && context !== this && L.stamp(context),                                                  // 339\n\t\t    i, len, event, type, indexKey, indexLenKey, typeIndex;                                                        // 340\n                                                                                                                    // 341\n\t\t// types can be a string of space-separated words                                                                 // 342\n\t\ttypes = L.Util.splitWords(types);                                                                                 // 343\n                                                                                                                    // 344\n\t\tfor (i = 0, len = types.length; i < len; i++) {                                                                   // 345\n\t\t\tevent = {                                                                                                        // 346\n\t\t\t\taction: fn,                                                                                                     // 347\n\t\t\t\tcontext: context || this                                                                                        // 348\n\t\t\t};                                                                                                               // 349\n\t\t\ttype = types[i];                                                                                                 // 350\n                                                                                                                    // 351\n\t\t\tif (contextId) {                                                                                                 // 352\n\t\t\t\t// store listeners of a particular context in a separate hash (if it has an id)                                 // 353\n\t\t\t\t// gives a major performance boost when removing thousands of map layers                                        // 354\n                                                                                                                    // 355\n\t\t\t\tindexKey = type + '_idx';                                                                                       // 356\n\t\t\t\tindexLenKey = indexKey + '_len';                                                                                // 357\n                                                                                                                    // 358\n\t\t\t\ttypeIndex = events[indexKey] = events[indexKey] || {};                                                          // 359\n                                                                                                                    // 360\n\t\t\t\tif (!typeIndex[contextId]) {                                                                                    // 361\n\t\t\t\t\ttypeIndex[contextId] = [];                                                                                     // 362\n                                                                                                                    // 363\n\t\t\t\t\t// keep track of the number of keys in the index to quickly check if it's empty                                // 364\n\t\t\t\t\tevents[indexLenKey] = (events[indexLenKey] || 0) + 1;                                                          // 365\n\t\t\t\t}                                                                                                               // 366\n                                                                                                                    // 367\n\t\t\t\ttypeIndex[contextId].push(event);                                                                               // 368\n                                                                                                                    // 369\n                                                                                                                    // 370\n\t\t\t} else {                                                                                                         // 371\n\t\t\t\tevents[type] = events[type] || [];                                                                              // 372\n\t\t\t\tevents[type].push(event);                                                                                       // 373\n\t\t\t}                                                                                                                // 374\n\t\t}                                                                                                                 // 375\n                                                                                                                    // 376\n\t\treturn this;                                                                                                      // 377\n\t},                                                                                                                 // 378\n                                                                                                                    // 379\n\thasEventListeners: function (type) { // (String) -> Boolean                                                        // 380\n\t\tvar events = this[eventsKey];                                                                                     // 381\n\t\treturn !!events && ((type in events && events[type].length > 0) ||                                                // 382\n\t\t                    (type + '_idx' in events && events[type + '_idx_len'] > 0));                                  // 383\n\t},                                                                                                                 // 384\n                                                                                                                    // 385\n\tremoveEventListener: function (types, fn, context) { // ([String, Function, Object]) or (Object[, Object])         // 386\n                                                                                                                    // 387\n\t\tif (!this[eventsKey]) {                                                                                           // 388\n\t\t\treturn this;                                                                                                     // 389\n\t\t}                                                                                                                 // 390\n                                                                                                                    // 391\n\t\tif (!types) {                                                                                                     // 392\n\t\t\treturn this.clearAllEventListeners();                                                                            // 393\n\t\t}                                                                                                                 // 394\n                                                                                                                    // 395\n\t\tif (L.Util.invokeEach(types, this.removeEventListener, this, fn, context)) { return this; }                       // 396\n                                                                                                                    // 397\n\t\tvar events = this[eventsKey],                                                                                     // 398\n\t\t    contextId = context && context !== this && L.stamp(context),                                                  // 399\n\t\t    i, len, type, listeners, j, indexKey, indexLenKey, typeIndex, removed;                                        // 400\n                                                                                                                    // 401\n\t\ttypes = L.Util.splitWords(types);                                                                                 // 402\n                                                                                                                    // 403\n\t\tfor (i = 0, len = types.length; i < len; i++) {                                                                   // 404\n\t\t\ttype = types[i];                                                                                                 // 405\n\t\t\tindexKey = type + '_idx';                                                                                        // 406\n\t\t\tindexLenKey = indexKey + '_len';                                                                                 // 407\n                                                                                                                    // 408\n\t\t\ttypeIndex = events[indexKey];                                                                                    // 409\n                                                                                                                    // 410\n\t\t\tif (!fn) {                                                                                                       // 411\n\t\t\t\t// clear all listeners for a type if function isn't specified                                                   // 412\n\t\t\t\tdelete events[type];                                                                                            // 413\n\t\t\t\tdelete events[indexKey];                                                                                        // 414\n\t\t\t\tdelete events[indexLenKey];                                                                                     // 415\n                                                                                                                    // 416\n\t\t\t} else {                                                                                                         // 417\n\t\t\t\tlisteners = contextId && typeIndex ? typeIndex[contextId] : events[type];                                       // 418\n                                                                                                                    // 419\n\t\t\t\tif (listeners) {                                                                                                // 420\n\t\t\t\t\tfor (j = listeners.length - 1; j >= 0; j--) {                                                                  // 421\n\t\t\t\t\t\tif ((listeners[j].action === fn) && (!context || (listeners[j].context === context))) {                       // 422\n\t\t\t\t\t\t\tremoved = listeners.splice(j, 1);                                                                            // 423\n\t\t\t\t\t\t\t// set the old action to a no-op, because it is possible                                                     // 424\n\t\t\t\t\t\t\t// that the listener is being iterated over as part of a dispatch                                            // 425\n\t\t\t\t\t\t\tremoved[0].action = L.Util.falseFn;                                                                          // 426\n\t\t\t\t\t\t}                                                                                                             // 427\n\t\t\t\t\t}                                                                                                              // 428\n                                                                                                                    // 429\n\t\t\t\t\tif (context && typeIndex && (listeners.length === 0)) {                                                        // 430\n\t\t\t\t\t\tdelete typeIndex[contextId];                                                                                  // 431\n\t\t\t\t\t\tevents[indexLenKey]--;                                                                                        // 432\n\t\t\t\t\t}                                                                                                              // 433\n\t\t\t\t}                                                                                                               // 434\n\t\t\t}                                                                                                                // 435\n\t\t}                                                                                                                 // 436\n                                                                                                                    // 437\n\t\treturn this;                                                                                                      // 438\n\t},                                                                                                                 // 439\n                                                                                                                    // 440\n\tclearAllEventListeners: function () {                                                                              // 441\n\t\tdelete this[eventsKey];                                                                                           // 442\n\t\treturn this;                                                                                                      // 443\n\t},                                                                                                                 // 444\n                                                                                                                    // 445\n\tfireEvent: function (type, data) { // (String[, Object])                                                           // 446\n\t\tif (!this.hasEventListeners(type)) {                                                                              // 447\n\t\t\treturn this;                                                                                                     // 448\n\t\t}                                                                                                                 // 449\n                                                                                                                    // 450\n\t\tvar event = L.Util.extend({}, data, { type: type, target: this });                                                // 451\n                                                                                                                    // 452\n\t\tvar events = this[eventsKey],                                                                                     // 453\n\t\t    listeners, i, len, typeIndex, contextId;                                                                      // 454\n                                                                                                                    // 455\n\t\tif (events[type]) {                                                                                               // 456\n\t\t\t// make sure adding/removing listeners inside other listeners won't cause infinite loop                          // 457\n\t\t\tlisteners = events[type].slice();                                                                                // 458\n                                                                                                                    // 459\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {                                                              // 460\n\t\t\t\tlisteners[i].action.call(listeners[i].context, event);                                                          // 461\n\t\t\t}                                                                                                                // 462\n\t\t}                                                                                                                 // 463\n                                                                                                                    // 464\n\t\t// fire event for the context-indexed listeners as well                                                           // 465\n\t\ttypeIndex = events[type + '_idx'];                                                                                // 466\n                                                                                                                    // 467\n\t\tfor (contextId in typeIndex) {                                                                                    // 468\n\t\t\tlisteners = typeIndex[contextId].slice();                                                                        // 469\n                                                                                                                    // 470\n\t\t\tif (listeners) {                                                                                                 // 471\n\t\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {                                                             // 472\n\t\t\t\t\tlisteners[i].action.call(listeners[i].context, event);                                                         // 473\n\t\t\t\t}                                                                                                               // 474\n\t\t\t}                                                                                                                // 475\n\t\t}                                                                                                                 // 476\n                                                                                                                    // 477\n\t\treturn this;                                                                                                      // 478\n\t},                                                                                                                 // 479\n                                                                                                                    // 480\n\taddOneTimeEventListener: function (types, fn, context) {                                                           // 481\n                                                                                                                    // 482\n\t\tif (L.Util.invokeEach(types, this.addOneTimeEventListener, this, fn, context)) { return this; }                   // 483\n                                                                                                                    // 484\n\t\tvar handler = L.bind(function () {                                                                                // 485\n\t\t\tthis                                                                                                             // 486\n\t\t\t    .removeEventListener(types, fn, context)                                                                     // 487\n\t\t\t    .removeEventListener(types, handler, context);                                                               // 488\n\t\t}, this);                                                                                                         // 489\n                                                                                                                    // 490\n\t\treturn this                                                                                                       // 491\n\t\t    .addEventListener(types, fn, context)                                                                         // 492\n\t\t    .addEventListener(types, handler, context);                                                                   // 493\n\t}                                                                                                                  // 494\n};                                                                                                                  // 495\n                                                                                                                    // 496\nL.Mixin.Events.on = L.Mixin.Events.addEventListener;                                                                // 497\nL.Mixin.Events.off = L.Mixin.Events.removeEventListener;                                                            // 498\nL.Mixin.Events.once = L.Mixin.Events.addOneTimeEventListener;                                                       // 499\nL.Mixin.Events.fire = L.Mixin.Events.fireEvent;                                                                     // 500\n                                                                                                                    // 501\n                                                                                                                    // 502\n/*                                                                                                                  // 503\n * L.Browser handles different browser and feature detections for internal Leaflet use.                             // 504\n */                                                                                                                 // 505\n                                                                                                                    // 506\n(function () {                                                                                                      // 507\n                                                                                                                    // 508\n\tvar ie = 'ActiveXObject' in window,                                                                                // 509\n\t\tielt9 = ie && !document.addEventListener,                                                                         // 510\n                                                                                                                    // 511\n\t    // terrible browser detection to work around Safari / iOS / Android browser bugs                               // 512\n\t    ua = navigator.userAgent.toLowerCase(),                                                                        // 513\n\t    webkit = ua.indexOf('webkit') !== -1,                                                                          // 514\n\t    chrome = ua.indexOf('chrome') !== -1,                                                                          // 515\n\t    phantomjs = ua.indexOf('phantom') !== -1,                                                                      // 516\n\t    android = ua.indexOf('android') !== -1,                                                                        // 517\n\t    android23 = ua.search('android [23]') !== -1,                                                                  // 518\n\t\tgecko = ua.indexOf('gecko') !== -1,                                                                               // 519\n                                                                                                                    // 520\n\t    mobile = typeof orientation !== undefined + '',                                                                // 521\n\t    msPointer = window.navigator && window.navigator.msPointerEnabled &&                                           // 522\n\t              window.navigator.msMaxTouchPoints && !window.PointerEvent,                                           // 523\n\t\tpointer = (window.PointerEvent && window.navigator.pointerEnabled && window.navigator.maxTouchPoints) ||          // 524\n\t\t\t\t  msPointer,                                                                                                    // 525\n\t    retina = ('devicePixelRatio' in window && window.devicePixelRatio > 1) ||                                      // 526\n\t             ('matchMedia' in window && window.matchMedia('(min-resolution:144dpi)') &&                            // 527\n\t              window.matchMedia('(min-resolution:144dpi)').matches),                                               // 528\n                                                                                                                    // 529\n\t    doc = document.documentElement,                                                                                // 530\n\t    ie3d = ie && ('transition' in doc.style),                                                                      // 531\n\t    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,             // 532\n\t    gecko3d = 'MozPerspective' in doc.style,                                                                       // 533\n\t    opera3d = 'OTransition' in doc.style,                                                                          // 534\n\t    any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d || opera3d) && !phantomjs;                        // 535\n                                                                                                                    // 536\n                                                                                                                    // 537\n\t// PhantomJS has 'ontouchstart' in document.documentElement, but doesn't actually support touch.                   // 538\n\t// https://github.com/Leaflet/Leaflet/pull/1434#issuecomment-13843151                                              // 539\n                                                                                                                    // 540\n\tvar touch = !window.L_NO_TOUCH && !phantomjs && (function () {                                                     // 541\n                                                                                                                    // 542\n\t\tvar startName = 'ontouchstart';                                                                                   // 543\n                                                                                                                    // 544\n\t\t// IE10+ (We simulate these into touch* events in L.DomEvent and L.DomEvent.Pointer) or WebKit, etc.              // 545\n\t\tif (pointer || (startName in doc)) {                                                                              // 546\n\t\t\treturn true;                                                                                                     // 547\n\t\t}                                                                                                                 // 548\n                                                                                                                    // 549\n\t\t// Firefox/Gecko                                                                                                  // 550\n\t\tvar div = document.createElement('div'),                                                                          // 551\n\t\t    supported = false;                                                                                            // 552\n                                                                                                                    // 553\n\t\tif (!div.setAttribute) {                                                                                          // 554\n\t\t\treturn false;                                                                                                    // 555\n\t\t}                                                                                                                 // 556\n\t\tdiv.setAttribute(startName, 'return;');                                                                           // 557\n                                                                                                                    // 558\n\t\tif (typeof div[startName] === 'function') {                                                                       // 559\n\t\t\tsupported = true;                                                                                                // 560\n\t\t}                                                                                                                 // 561\n                                                                                                                    // 562\n\t\tdiv.removeAttribute(startName);                                                                                   // 563\n\t\tdiv = null;                                                                                                       // 564\n                                                                                                                    // 565\n\t\treturn supported;                                                                                                 // 566\n\t}());                                                                                                              // 567\n                                                                                                                    // 568\n                                                                                                                    // 569\n\tL.Browser = {                                                                                                      // 570\n\t\tie: ie,                                                                                                           // 571\n\t\tielt9: ielt9,                                                                                                     // 572\n\t\twebkit: webkit,                                                                                                   // 573\n\t\tgecko: gecko && !webkit && !window.opera && !ie,                                                                  // 574\n                                                                                                                    // 575\n\t\tandroid: android,                                                                                                 // 576\n\t\tandroid23: android23,                                                                                             // 577\n                                                                                                                    // 578\n\t\tchrome: chrome,                                                                                                   // 579\n                                                                                                                    // 580\n\t\tie3d: ie3d,                                                                                                       // 581\n\t\twebkit3d: webkit3d,                                                                                               // 582\n\t\tgecko3d: gecko3d,                                                                                                 // 583\n\t\topera3d: opera3d,                                                                                                 // 584\n\t\tany3d: any3d,                                                                                                     // 585\n                                                                                                                    // 586\n\t\tmobile: mobile,                                                                                                   // 587\n\t\tmobileWebkit: mobile && webkit,                                                                                   // 588\n\t\tmobileWebkit3d: mobile && webkit3d,                                                                               // 589\n\t\tmobileOpera: mobile && window.opera,                                                                              // 590\n                                                                                                                    // 591\n\t\ttouch: touch,                                                                                                     // 592\n\t\tmsPointer: msPointer,                                                                                             // 593\n\t\tpointer: pointer,                                                                                                 // 594\n                                                                                                                    // 595\n\t\tretina: retina                                                                                                    // 596\n\t};                                                                                                                 // 597\n                                                                                                                    // 598\n}());                                                                                                               // 599\n                                                                                                                    // 600\n                                                                                                                    // 601\n/*                                                                                                                  // 602\n * L.Point represents a point with x and y coordinates.                                                             // 603\n */                                                                                                                 // 604\n                                                                                                                    // 605\nL.Point = function (/*Number*/ x, /*Number*/ y, /*Boolean*/ round) {                                                // 606\n\tthis.x = (round ? Math.round(x) : x);                                                                              // 607\n\tthis.y = (round ? Math.round(y) : y);                                                                              // 608\n};                                                                                                                  // 609\n                                                                                                                    // 610\nL.Point.prototype = {                                                                                               // 611\n                                                                                                                    // 612\n\tclone: function () {                                                                                               // 613\n\t\treturn new L.Point(this.x, this.y);                                                                               // 614\n\t},                                                                                                                 // 615\n                                                                                                                    // 616\n\t// non-destructive, returns a new point                                                                            // 617\n\tadd: function (point) {                                                                                            // 618\n\t\treturn this.clone()._add(L.point(point));                                                                         // 619\n\t},                                                                                                                 // 620\n                                                                                                                    // 621\n\t// destructive, used directly for performance in situations where it's safe to modify existing point               // 622\n\t_add: function (point) {                                                                                           // 623\n\t\tthis.x += point.x;                                                                                                // 624\n\t\tthis.y += point.y;                                                                                                // 625\n\t\treturn this;                                                                                                      // 626\n\t},                                                                                                                 // 627\n                                                                                                                    // 628\n\tsubtract: function (point) {                                                                                       // 629\n\t\treturn this.clone()._subtract(L.point(point));                                                                    // 630\n\t},                                                                                                                 // 631\n                                                                                                                    // 632\n\t_subtract: function (point) {                                                                                      // 633\n\t\tthis.x -= point.x;                                                                                                // 634\n\t\tthis.y -= point.y;                                                                                                // 635\n\t\treturn this;                                                                                                      // 636\n\t},                                                                                                                 // 637\n                                                                                                                    // 638\n\tdivideBy: function (num) {                                                                                         // 639\n\t\treturn this.clone()._divideBy(num);                                                                               // 640\n\t},                                                                                                                 // 641\n                                                                                                                    // 642\n\t_divideBy: function (num) {                                                                                        // 643\n\t\tthis.x /= num;                                                                                                    // 644\n\t\tthis.y /= num;                                                                                                    // 645\n\t\treturn this;                                                                                                      // 646\n\t},                                                                                                                 // 647\n                                                                                                                    // 648\n\tmultiplyBy: function (num) {                                                                                       // 649\n\t\treturn this.clone()._multiplyBy(num);                                                                             // 650\n\t},                                                                                                                 // 651\n                                                                                                                    // 652\n\t_multiplyBy: function (num) {                                                                                      // 653\n\t\tthis.x *= num;                                                                                                    // 654\n\t\tthis.y *= num;                                                                                                    // 655\n\t\treturn this;                                                                                                      // 656\n\t},                                                                                                                 // 657\n                                                                                                                    // 658\n\tround: function () {                                                                                               // 659\n\t\treturn this.clone()._round();                                                                                     // 660\n\t},                                                                                                                 // 661\n                                                                                                                    // 662\n\t_round: function () {                                                                                              // 663\n\t\tthis.x = Math.round(this.x);                                                                                      // 664\n\t\tthis.y = Math.round(this.y);                                                                                      // 665\n\t\treturn this;                                                                                                      // 666\n\t},                                                                                                                 // 667\n                                                                                                                    // 668\n\tfloor: function () {                                                                                               // 669\n\t\treturn this.clone()._floor();                                                                                     // 670\n\t},                                                                                                                 // 671\n                                                                                                                    // 672\n\t_floor: function () {                                                                                              // 673\n\t\tthis.x = Math.floor(this.x);                                                                                      // 674\n\t\tthis.y = Math.floor(this.y);                                                                                      // 675\n\t\treturn this;                                                                                                      // 676\n\t},                                                                                                                 // 677\n                                                                                                                    // 678\n\tdistanceTo: function (point) {                                                                                     // 679\n\t\tpoint = L.point(point);                                                                                           // 680\n                                                                                                                    // 681\n\t\tvar x = point.x - this.x,                                                                                         // 682\n\t\t    y = point.y - this.y;                                                                                         // 683\n                                                                                                                    // 684\n\t\treturn Math.sqrt(x * x + y * y);                                                                                  // 685\n\t},                                                                                                                 // 686\n                                                                                                                    // 687\n\tequals: function (point) {                                                                                         // 688\n\t\tpoint = L.point(point);                                                                                           // 689\n                                                                                                                    // 690\n\t\treturn point.x === this.x &&                                                                                      // 691\n\t\t       point.y === this.y;                                                                                        // 692\n\t},                                                                                                                 // 693\n                                                                                                                    // 694\n\tcontains: function (point) {                                                                                       // 695\n\t\tpoint = L.point(point);                                                                                           // 696\n                                                                                                                    // 697\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&                                                                   // 698\n\t\t       Math.abs(point.y) <= Math.abs(this.y);                                                                     // 699\n\t},                                                                                                                 // 700\n                                                                                                                    // 701\n\ttoString: function () {                                                                                            // 702\n\t\treturn 'Point(' +                                                                                                 // 703\n\t\t        L.Util.formatNum(this.x) + ', ' +                                                                         // 704\n\t\t        L.Util.formatNum(this.y) + ')';                                                                           // 705\n\t}                                                                                                                  // 706\n};                                                                                                                  // 707\n                                                                                                                    // 708\nL.point = function (x, y, round) {                                                                                  // 709\n\tif (x instanceof L.Point) {                                                                                        // 710\n\t\treturn x;                                                                                                         // 711\n\t}                                                                                                                  // 712\n\tif (L.Util.isArray(x)) {                                                                                           // 713\n\t\treturn new L.Point(x[0], x[1]);                                                                                   // 714\n\t}                                                                                                                  // 715\n\tif (x === undefined || x === null) {                                                                               // 716\n\t\treturn x;                                                                                                         // 717\n\t}                                                                                                                  // 718\n\treturn new L.Point(x, y, round);                                                                                   // 719\n};                                                                                                                  // 720\n                                                                                                                    // 721\n                                                                                                                    // 722\n/*                                                                                                                  // 723\n * L.Bounds represents a rectangular area on the screen in pixel coordinates.                                       // 724\n */                                                                                                                 // 725\n                                                                                                                    // 726\nL.Bounds = function (a, b) { //(Point, Point) or Point[]                                                            // 727\n\tif (!a) { return; }                                                                                                // 728\n                                                                                                                    // 729\n\tvar points = b ? [a, b] : a;                                                                                       // 730\n                                                                                                                    // 731\n\tfor (var i = 0, len = points.length; i < len; i++) {                                                               // 732\n\t\tthis.extend(points[i]);                                                                                           // 733\n\t}                                                                                                                  // 734\n};                                                                                                                  // 735\n                                                                                                                    // 736\nL.Bounds.prototype = {                                                                                              // 737\n\t// extend the bounds to contain the given point                                                                    // 738\n\textend: function (point) { // (Point)                                                                              // 739\n\t\tpoint = L.point(point);                                                                                           // 740\n                                                                                                                    // 741\n\t\tif (!this.min && !this.max) {                                                                                     // 742\n\t\t\tthis.min = point.clone();                                                                                        // 743\n\t\t\tthis.max = point.clone();                                                                                        // 744\n\t\t} else {                                                                                                          // 745\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);                                                                      // 746\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);                                                                      // 747\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);                                                                      // 748\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);                                                                      // 749\n\t\t}                                                                                                                 // 750\n\t\treturn this;                                                                                                      // 751\n\t},                                                                                                                 // 752\n                                                                                                                    // 753\n\tgetCenter: function (round) { // (Boolean) -> Point                                                                // 754\n\t\treturn new L.Point(                                                                                               // 755\n\t\t        (this.min.x + this.max.x) / 2,                                                                            // 756\n\t\t        (this.min.y + this.max.y) / 2, round);                                                                    // 757\n\t},                                                                                                                 // 758\n                                                                                                                    // 759\n\tgetBottomLeft: function () { // -> Point                                                                           // 760\n\t\treturn new L.Point(this.min.x, this.max.y);                                                                       // 761\n\t},                                                                                                                 // 762\n                                                                                                                    // 763\n\tgetTopRight: function () { // -> Point                                                                             // 764\n\t\treturn new L.Point(this.max.x, this.min.y);                                                                       // 765\n\t},                                                                                                                 // 766\n                                                                                                                    // 767\n\tgetSize: function () {                                                                                             // 768\n\t\treturn this.max.subtract(this.min);                                                                               // 769\n\t},                                                                                                                 // 770\n                                                                                                                    // 771\n\tcontains: function (obj) { // (Bounds) or (Point) -> Boolean                                                       // 772\n\t\tvar min, max;                                                                                                     // 773\n                                                                                                                    // 774\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.Point) {                                                       // 775\n\t\t\tobj = L.point(obj);                                                                                              // 776\n\t\t} else {                                                                                                          // 777\n\t\t\tobj = L.bounds(obj);                                                                                             // 778\n\t\t}                                                                                                                 // 779\n                                                                                                                    // 780\n\t\tif (obj instanceof L.Bounds) {                                                                                    // 781\n\t\t\tmin = obj.min;                                                                                                   // 782\n\t\t\tmax = obj.max;                                                                                                   // 783\n\t\t} else {                                                                                                          // 784\n\t\t\tmin = max = obj;                                                                                                 // 785\n\t\t}                                                                                                                 // 786\n                                                                                                                    // 787\n\t\treturn (min.x >= this.min.x) &&                                                                                   // 788\n\t\t       (max.x <= this.max.x) &&                                                                                   // 789\n\t\t       (min.y >= this.min.y) &&                                                                                   // 790\n\t\t       (max.y <= this.max.y);                                                                                     // 791\n\t},                                                                                                                 // 792\n                                                                                                                    // 793\n\tintersects: function (bounds) { // (Bounds) -> Boolean                                                             // 794\n\t\tbounds = L.bounds(bounds);                                                                                        // 795\n                                                                                                                    // 796\n\t\tvar min = this.min,                                                                                               // 797\n\t\t    max = this.max,                                                                                               // 798\n\t\t    min2 = bounds.min,                                                                                            // 799\n\t\t    max2 = bounds.max,                                                                                            // 800\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),                                                         // 801\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);                                                         // 802\n                                                                                                                    // 803\n\t\treturn xIntersects && yIntersects;                                                                                // 804\n\t},                                                                                                                 // 805\n                                                                                                                    // 806\n\tisValid: function () {                                                                                             // 807\n\t\treturn !!(this.min && this.max);                                                                                  // 808\n\t}                                                                                                                  // 809\n};                                                                                                                  // 810\n                                                                                                                    // 811\nL.bounds = function (a, b) { // (Bounds) or (Point, Point) or (Point[])                                             // 812\n\tif (!a || a instanceof L.Bounds) {                                                                                 // 813\n\t\treturn a;                                                                                                         // 814\n\t}                                                                                                                  // 815\n\treturn new L.Bounds(a, b);                                                                                         // 816\n};                                                                                                                  // 817\n                                                                                                                    // 818\n                                                                                                                    // 819\n/*                                                                                                                  // 820\n * L.Transformation is an utility class to perform simple point transformations through a 2d-matrix.                // 821\n */                                                                                                                 // 822\n                                                                                                                    // 823\nL.Transformation = function (a, b, c, d) {                                                                          // 824\n\tthis._a = a;                                                                                                       // 825\n\tthis._b = b;                                                                                                       // 826\n\tthis._c = c;                                                                                                       // 827\n\tthis._d = d;                                                                                                       // 828\n};                                                                                                                  // 829\n                                                                                                                    // 830\nL.Transformation.prototype = {                                                                                      // 831\n\ttransform: function (point, scale) { // (Point, Number) -> Point                                                   // 832\n\t\treturn this._transform(point.clone(), scale);                                                                     // 833\n\t},                                                                                                                 // 834\n                                                                                                                    // 835\n\t// destructive transform (faster)                                                                                  // 836\n\t_transform: function (point, scale) {                                                                              // 837\n\t\tscale = scale || 1;                                                                                               // 838\n\t\tpoint.x = scale * (this._a * point.x + this._b);                                                                  // 839\n\t\tpoint.y = scale * (this._c * point.y + this._d);                                                                  // 840\n\t\treturn point;                                                                                                     // 841\n\t},                                                                                                                 // 842\n                                                                                                                    // 843\n\tuntransform: function (point, scale) {                                                                             // 844\n\t\tscale = scale || 1;                                                                                               // 845\n\t\treturn new L.Point(                                                                                               // 846\n\t\t        (point.x / scale - this._b) / this._a,                                                                    // 847\n\t\t        (point.y / scale - this._d) / this._c);                                                                   // 848\n\t}                                                                                                                  // 849\n};                                                                                                                  // 850\n                                                                                                                    // 851\n                                                                                                                    // 852\n/*                                                                                                                  // 853\n * L.DomUtil contains various utility functions for working with DOM.                                               // 854\n */                                                                                                                 // 855\n                                                                                                                    // 856\nL.DomUtil = {                                                                                                       // 857\n\tget: function (id) {                                                                                               // 858\n\t\treturn (typeof id === 'string' ? document.getElementById(id) : id);                                               // 859\n\t},                                                                                                                 // 860\n                                                                                                                    // 861\n\tgetStyle: function (el, style) {                                                                                   // 862\n                                                                                                                    // 863\n\t\tvar value = el.style[style];                                                                                      // 864\n                                                                                                                    // 865\n\t\tif (!value && el.currentStyle) {                                                                                  // 866\n\t\t\tvalue = el.currentStyle[style];                                                                                  // 867\n\t\t}                                                                                                                 // 868\n                                                                                                                    // 869\n\t\tif ((!value || value === 'auto') && document.defaultView) {                                                       // 870\n\t\t\tvar css = document.defaultView.getComputedStyle(el, null);                                                       // 871\n\t\t\tvalue = css ? css[style] : null;                                                                                 // 872\n\t\t}                                                                                                                 // 873\n                                                                                                                    // 874\n\t\treturn value === 'auto' ? null : value;                                                                           // 875\n\t},                                                                                                                 // 876\n                                                                                                                    // 877\n\tgetViewportOffset: function (element) {                                                                            // 878\n                                                                                                                    // 879\n\t\tvar top = 0,                                                                                                      // 880\n\t\t    left = 0,                                                                                                     // 881\n\t\t    el = element,                                                                                                 // 882\n\t\t    docBody = document.body,                                                                                      // 883\n\t\t    docEl = document.documentElement,                                                                             // 884\n\t\t    pos;                                                                                                          // 885\n                                                                                                                    // 886\n\t\tdo {                                                                                                              // 887\n\t\t\ttop  += el.offsetTop  || 0;                                                                                      // 888\n\t\t\tleft += el.offsetLeft || 0;                                                                                      // 889\n                                                                                                                    // 890\n\t\t\t//add borders                                                                                                    // 891\n\t\t\ttop += parseInt(L.DomUtil.getStyle(el, 'borderTopWidth'), 10) || 0;                                              // 892\n\t\t\tleft += parseInt(L.DomUtil.getStyle(el, 'borderLeftWidth'), 10) || 0;                                            // 893\n                                                                                                                    // 894\n\t\t\tpos = L.DomUtil.getStyle(el, 'position');                                                                        // 895\n                                                                                                                    // 896\n\t\t\tif (el.offsetParent === docBody && pos === 'absolute') { break; }                                                // 897\n                                                                                                                    // 898\n\t\t\tif (pos === 'fixed') {                                                                                           // 899\n\t\t\t\ttop  += docBody.scrollTop  || docEl.scrollTop  || 0;                                                            // 900\n\t\t\t\tleft += docBody.scrollLeft || docEl.scrollLeft || 0;                                                            // 901\n\t\t\t\tbreak;                                                                                                          // 902\n\t\t\t}                                                                                                                // 903\n                                                                                                                    // 904\n\t\t\tif (pos === 'relative' && !el.offsetLeft) {                                                                      // 905\n\t\t\t\tvar width = L.DomUtil.getStyle(el, 'width'),                                                                    // 906\n\t\t\t\t    maxWidth = L.DomUtil.getStyle(el, 'max-width'),                                                             // 907\n\t\t\t\t    r = el.getBoundingClientRect();                                                                             // 908\n                                                                                                                    // 909\n\t\t\t\tif (width !== 'none' || maxWidth !== 'none') {                                                                  // 910\n\t\t\t\t\tleft += r.left + el.clientLeft;                                                                                // 911\n\t\t\t\t}                                                                                                               // 912\n                                                                                                                    // 913\n\t\t\t\t//calculate full y offset since we're breaking out of the loop                                                  // 914\n\t\t\t\ttop += r.top + (docBody.scrollTop  || docEl.scrollTop  || 0);                                                   // 915\n                                                                                                                    // 916\n\t\t\t\tbreak;                                                                                                          // 917\n\t\t\t}                                                                                                                // 918\n                                                                                                                    // 919\n\t\t\tel = el.offsetParent;                                                                                            // 920\n                                                                                                                    // 921\n\t\t} while (el);                                                                                                     // 922\n                                                                                                                    // 923\n\t\tel = element;                                                                                                     // 924\n                                                                                                                    // 925\n\t\tdo {                                                                                                              // 926\n\t\t\tif (el === docBody) { break; }                                                                                   // 927\n                                                                                                                    // 928\n\t\t\ttop  -= el.scrollTop  || 0;                                                                                      // 929\n\t\t\tleft -= el.scrollLeft || 0;                                                                                      // 930\n                                                                                                                    // 931\n\t\t\tel = el.parentNode;                                                                                              // 932\n\t\t} while (el);                                                                                                     // 933\n                                                                                                                    // 934\n\t\treturn new L.Point(left, top);                                                                                    // 935\n\t},                                                                                                                 // 936\n                                                                                                                    // 937\n\tdocumentIsLtr: function () {                                                                                       // 938\n\t\tif (!L.DomUtil._docIsLtrCached) {                                                                                 // 939\n\t\t\tL.DomUtil._docIsLtrCached = true;                                                                                // 940\n\t\t\tL.DomUtil._docIsLtr = L.DomUtil.getStyle(document.body, 'direction') === 'ltr';                                  // 941\n\t\t}                                                                                                                 // 942\n\t\treturn L.DomUtil._docIsLtr;                                                                                       // 943\n\t},                                                                                                                 // 944\n                                                                                                                    // 945\n\tcreate: function (tagName, className, container) {                                                                 // 946\n                                                                                                                    // 947\n\t\tvar el = document.createElement(tagName);                                                                         // 948\n\t\tel.className = className;                                                                                         // 949\n                                                                                                                    // 950\n\t\tif (container) {                                                                                                  // 951\n\t\t\tcontainer.appendChild(el);                                                                                       // 952\n\t\t}                                                                                                                 // 953\n                                                                                                                    // 954\n\t\treturn el;                                                                                                        // 955\n\t},                                                                                                                 // 956\n                                                                                                                    // 957\n\thasClass: function (el, name) {                                                                                    // 958\n\t\tif (el.classList !== undefined) {                                                                                 // 959\n\t\t\treturn el.classList.contains(name);                                                                              // 960\n\t\t}                                                                                                                 // 961\n\t\tvar className = L.DomUtil._getClass(el);                                                                          // 962\n\t\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);                          // 963\n\t},                                                                                                                 // 964\n                                                                                                                    // 965\n\taddClass: function (el, name) {                                                                                    // 966\n\t\tif (el.classList !== undefined) {                                                                                 // 967\n\t\t\tvar classes = L.Util.splitWords(name);                                                                           // 968\n\t\t\tfor (var i = 0, len = classes.length; i < len; i++) {                                                            // 969\n\t\t\t\tel.classList.add(classes[i]);                                                                                   // 970\n\t\t\t}                                                                                                                // 971\n\t\t} else if (!L.DomUtil.hasClass(el, name)) {                                                                       // 972\n\t\t\tvar className = L.DomUtil._getClass(el);                                                                         // 973\n\t\t\tL.DomUtil._setClass(el, (className ? className + ' ' : '') + name);                                              // 974\n\t\t}                                                                                                                 // 975\n\t},                                                                                                                 // 976\n                                                                                                                    // 977\n\tremoveClass: function (el, name) {                                                                                 // 978\n\t\tif (el.classList !== undefined) {                                                                                 // 979\n\t\t\tel.classList.remove(name);                                                                                       // 980\n\t\t} else {                                                                                                          // 981\n\t\t\tL.DomUtil._setClass(el, L.Util.trim((' ' + L.DomUtil._getClass(el) + ' ').replace(' ' + name + ' ', ' ')));      // 982\n\t\t}                                                                                                                 // 983\n\t},                                                                                                                 // 984\n                                                                                                                    // 985\n\t_setClass: function (el, name) {                                                                                   // 986\n\t\tif (el.className.baseVal === undefined) {                                                                         // 987\n\t\t\tel.className = name;                                                                                             // 988\n\t\t} else {                                                                                                          // 989\n\t\t\t// in case of SVG element                                                                                        // 990\n\t\t\tel.className.baseVal = name;                                                                                     // 991\n\t\t}                                                                                                                 // 992\n\t},                                                                                                                 // 993\n                                                                                                                    // 994\n\t_getClass: function (el) {                                                                                         // 995\n\t\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;                                  // 996\n\t},                                                                                                                 // 997\n                                                                                                                    // 998\n\tsetOpacity: function (el, value) {                                                                                 // 999\n                                                                                                                    // 1000\n\t\tif ('opacity' in el.style) {                                                                                      // 1001\n\t\t\tel.style.opacity = value;                                                                                        // 1002\n                                                                                                                    // 1003\n\t\t} else if ('filter' in el.style) {                                                                                // 1004\n                                                                                                                    // 1005\n\t\t\tvar filter = false,                                                                                              // 1006\n\t\t\t    filterName = 'DXImageTransform.Microsoft.Alpha';                                                             // 1007\n                                                                                                                    // 1008\n\t\t\t// filters collection throws an error if we try to retrieve a filter that doesn't exist                          // 1009\n\t\t\ttry {                                                                                                            // 1010\n\t\t\t\tfilter = el.filters.item(filterName);                                                                           // 1011\n\t\t\t} catch (e) {                                                                                                    // 1012\n\t\t\t\t// don't set opacity to 1 if we haven't already set an opacity,                                                 // 1013\n\t\t\t\t// it isn't needed and breaks transparent pngs.                                                                 // 1014\n\t\t\t\tif (value === 1) { return; }                                                                                    // 1015\n\t\t\t}                                                                                                                // 1016\n                                                                                                                    // 1017\n\t\t\tvalue = Math.round(value * 100);                                                                                 // 1018\n                                                                                                                    // 1019\n\t\t\tif (filter) {                                                                                                    // 1020\n\t\t\t\tfilter.Enabled = (value !== 100);                                                                               // 1021\n\t\t\t\tfilter.Opacity = value;                                                                                         // 1022\n\t\t\t} else {                                                                                                         // 1023\n\t\t\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';                                         // 1024\n\t\t\t}                                                                                                                // 1025\n\t\t}                                                                                                                 // 1026\n\t},                                                                                                                 // 1027\n                                                                                                                    // 1028\n\ttestProp: function (props) {                                                                                       // 1029\n                                                                                                                    // 1030\n\t\tvar style = document.documentElement.style;                                                                       // 1031\n                                                                                                                    // 1032\n\t\tfor (var i = 0; i < props.length; i++) {                                                                          // 1033\n\t\t\tif (props[i] in style) {                                                                                         // 1034\n\t\t\t\treturn props[i];                                                                                                // 1035\n\t\t\t}                                                                                                                // 1036\n\t\t}                                                                                                                 // 1037\n\t\treturn false;                                                                                                     // 1038\n\t},                                                                                                                 // 1039\n                                                                                                                    // 1040\n\tgetTranslateString: function (point) {                                                                             // 1041\n\t\t// on WebKit browsers (Chrome/Safari/iOS Safari/Android) using translate3d instead of translate                   // 1042\n\t\t// makes animation smoother as it ensures HW accel is used. Firefox 13 doesn't care                               // 1043\n\t\t// (same speed either way), Opera 12 doesn't support translate3d                                                  // 1044\n                                                                                                                    // 1045\n\t\tvar is3d = L.Browser.webkit3d,                                                                                    // 1046\n\t\t    open = 'translate' + (is3d ? '3d' : '') + '(',                                                                // 1047\n\t\t    close = (is3d ? ',0' : '') + ')';                                                                             // 1048\n                                                                                                                    // 1049\n\t\treturn open + point.x + 'px,' + point.y + 'px' + close;                                                           // 1050\n\t},                                                                                                                 // 1051\n                                                                                                                    // 1052\n\tgetScaleString: function (scale, origin) {                                                                         // 1053\n                                                                                                                    // 1054\n\t\tvar preTranslateStr = L.DomUtil.getTranslateString(origin.add(origin.multiplyBy(-1 * scale))),                    // 1055\n\t\t    scaleStr = ' scale(' + scale + ') ';                                                                          // 1056\n                                                                                                                    // 1057\n\t\treturn preTranslateStr + scaleStr;                                                                                // 1058\n\t},                                                                                                                 // 1059\n                                                                                                                    // 1060\n\tsetPosition: function (el, point, disable3D) { // (HTMLElement, Point[, Boolean])                                  // 1061\n                                                                                                                    // 1062\n\t\t// jshint camelcase: false                                                                                        // 1063\n\t\tel._leaflet_pos = point;                                                                                          // 1064\n                                                                                                                    // 1065\n\t\tif (!disable3D && L.Browser.any3d) {                                                                              // 1066\n\t\t\tel.style[L.DomUtil.TRANSFORM] =  L.DomUtil.getTranslateString(point);                                            // 1067\n\t\t} else {                                                                                                          // 1068\n\t\t\tel.style.left = point.x + 'px';                                                                                  // 1069\n\t\t\tel.style.top = point.y + 'px';                                                                                   // 1070\n\t\t}                                                                                                                 // 1071\n\t},                                                                                                                 // 1072\n                                                                                                                    // 1073\n\tgetPosition: function (el) {                                                                                       // 1074\n\t\t// this method is only used for elements previously positioned using setPosition,                                 // 1075\n\t\t// so it's safe to cache the position for performance                                                             // 1076\n                                                                                                                    // 1077\n\t\t// jshint camelcase: false                                                                                        // 1078\n\t\treturn el._leaflet_pos;                                                                                           // 1079\n\t}                                                                                                                  // 1080\n};                                                                                                                  // 1081\n                                                                                                                    // 1082\n                                                                                                                    // 1083\n// prefix style property names                                                                                      // 1084\n                                                                                                                    // 1085\nL.DomUtil.TRANSFORM = L.DomUtil.testProp(                                                                           // 1086\n        ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);                             // 1087\n                                                                                                                    // 1088\n// webkitTransition comes first because some browser versions that drop vendor prefix don't do                      // 1089\n// the same for the transitionend event, in particular the Android 4.1 stock browser                                // 1090\n                                                                                                                    // 1091\nL.DomUtil.TRANSITION = L.DomUtil.testProp(                                                                          // 1092\n        ['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);                        // 1093\n                                                                                                                    // 1094\nL.DomUtil.TRANSITION_END =                                                                                          // 1095\n        L.DomUtil.TRANSITION === 'webkitTransition' || L.DomUtil.TRANSITION === 'OTransition' ?                     // 1096\n        L.DomUtil.TRANSITION + 'End' : 'transitionend';                                                             // 1097\n                                                                                                                    // 1098\n(function () {                                                                                                      // 1099\n    if ('onselectstart' in document) {                                                                              // 1100\n        L.extend(L.DomUtil, {                                                                                       // 1101\n            disableTextSelection: function () {                                                                     // 1102\n                L.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);                                    // 1103\n            },                                                                                                      // 1104\n                                                                                                                    // 1105\n            enableTextSelection: function () {                                                                      // 1106\n                L.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);                                   // 1107\n            }                                                                                                       // 1108\n        });                                                                                                         // 1109\n    } else {                                                                                                        // 1110\n        var userSelectProperty = L.DomUtil.testProp(                                                                // 1111\n            ['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);                    // 1112\n                                                                                                                    // 1113\n        L.extend(L.DomUtil, {                                                                                       // 1114\n            disableTextSelection: function () {                                                                     // 1115\n                if (userSelectProperty) {                                                                           // 1116\n                    var style = document.documentElement.style;                                                     // 1117\n                    this._userSelect = style[userSelectProperty];                                                   // 1118\n                    style[userSelectProperty] = 'none';                                                             // 1119\n                }                                                                                                   // 1120\n            },                                                                                                      // 1121\n                                                                                                                    // 1122\n            enableTextSelection: function () {                                                                      // 1123\n                if (userSelectProperty) {                                                                           // 1124\n                    document.documentElement.style[userSelectProperty] = this._userSelect;                          // 1125\n                    delete this._userSelect;                                                                        // 1126\n                }                                                                                                   // 1127\n            }                                                                                                       // 1128\n        });                                                                                                         // 1129\n    }                                                                                                               // 1130\n                                                                                                                    // 1131\n\tL.extend(L.DomUtil, {                                                                                              // 1132\n\t\tdisableImageDrag: function () {                                                                                   // 1133\n\t\t\tL.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);                                                   // 1134\n\t\t},                                                                                                                // 1135\n                                                                                                                    // 1136\n\t\tenableImageDrag: function () {                                                                                    // 1137\n\t\t\tL.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);                                                  // 1138\n\t\t}                                                                                                                 // 1139\n\t});                                                                                                                // 1140\n})();                                                                                                               // 1141\n                                                                                                                    // 1142\n                                                                                                                    // 1143\n/*                                                                                                                  // 1144\n * L.LatLng represents a geographical point with latitude and longitude coordinates.                                // 1145\n */                                                                                                                 // 1146\n                                                                                                                    // 1147\nL.LatLng = function (lat, lng, alt) { // (Number, Number, Number)                                                   // 1148\n\tlat = parseFloat(lat);                                                                                             // 1149\n\tlng = parseFloat(lng);                                                                                             // 1150\n                                                                                                                    // 1151\n\tif (isNaN(lat) || isNaN(lng)) {                                                                                    // 1152\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');                                             // 1153\n\t}                                                                                                                  // 1154\n                                                                                                                    // 1155\n\tthis.lat = lat;                                                                                                    // 1156\n\tthis.lng = lng;                                                                                                    // 1157\n                                                                                                                    // 1158\n\tif (alt !== undefined) {                                                                                           // 1159\n\t\tthis.alt = parseFloat(alt);                                                                                       // 1160\n\t}                                                                                                                  // 1161\n};                                                                                                                  // 1162\n                                                                                                                    // 1163\nL.extend(L.LatLng, {                                                                                                // 1164\n\tDEG_TO_RAD: Math.PI / 180,                                                                                         // 1165\n\tRAD_TO_DEG: 180 / Math.PI,                                                                                         // 1166\n\tMAX_MARGIN: 1.0E-9 // max margin of error for the \"equals\" check                                                   // 1167\n});                                                                                                                 // 1168\n                                                                                                                    // 1169\nL.LatLng.prototype = {                                                                                              // 1170\n\tequals: function (obj) { // (LatLng) -> Boolean                                                                    // 1171\n\t\tif (!obj) { return false; }                                                                                       // 1172\n                                                                                                                    // 1173\n\t\tobj = L.latLng(obj);                                                                                              // 1174\n                                                                                                                    // 1175\n\t\tvar margin = Math.max(                                                                                            // 1176\n\t\t        Math.abs(this.lat - obj.lat),                                                                             // 1177\n\t\t        Math.abs(this.lng - obj.lng));                                                                            // 1178\n                                                                                                                    // 1179\n\t\treturn margin <= L.LatLng.MAX_MARGIN;                                                                             // 1180\n\t},                                                                                                                 // 1181\n                                                                                                                    // 1182\n\ttoString: function (precision) { // (Number) -> String                                                             // 1183\n\t\treturn 'LatLng(' +                                                                                                // 1184\n\t\t        L.Util.formatNum(this.lat, precision) + ', ' +                                                            // 1185\n\t\t        L.Util.formatNum(this.lng, precision) + ')';                                                              // 1186\n\t},                                                                                                                 // 1187\n                                                                                                                    // 1188\n\t// Haversine distance formula, see http://en.wikipedia.org/wiki/Haversine_formula                                  // 1189\n\t// TODO move to projection code, LatLng shouldn't know about Earth                                                 // 1190\n\tdistanceTo: function (other) { // (LatLng) -> Number                                                               // 1191\n\t\tother = L.latLng(other);                                                                                          // 1192\n                                                                                                                    // 1193\n\t\tvar R = 6378137, // earth radius in meters                                                                        // 1194\n\t\t    d2r = L.LatLng.DEG_TO_RAD,                                                                                    // 1195\n\t\t    dLat = (other.lat - this.lat) * d2r,                                                                          // 1196\n\t\t    dLon = (other.lng - this.lng) * d2r,                                                                          // 1197\n\t\t    lat1 = this.lat * d2r,                                                                                        // 1198\n\t\t    lat2 = other.lat * d2r,                                                                                       // 1199\n\t\t    sin1 = Math.sin(dLat / 2),                                                                                    // 1200\n\t\t    sin2 = Math.sin(dLon / 2);                                                                                    // 1201\n                                                                                                                    // 1202\n\t\tvar a = sin1 * sin1 + sin2 * sin2 * Math.cos(lat1) * Math.cos(lat2);                                              // 1203\n                                                                                                                    // 1204\n\t\treturn R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));                                                        // 1205\n\t},                                                                                                                 // 1206\n                                                                                                                    // 1207\n\twrap: function (a, b) { // (Number, Number) -> LatLng                                                              // 1208\n\t\tvar lng = this.lng;                                                                                               // 1209\n                                                                                                                    // 1210\n\t\ta = a || -180;                                                                                                    // 1211\n\t\tb = b ||  180;                                                                                                    // 1212\n                                                                                                                    // 1213\n\t\tlng = (lng + b) % (b - a) + (lng < a || lng === b ? b : a);                                                       // 1214\n                                                                                                                    // 1215\n\t\treturn new L.LatLng(this.lat, lng);                                                                               // 1216\n\t}                                                                                                                  // 1217\n};                                                                                                                  // 1218\n                                                                                                                    // 1219\nL.latLng = function (a, b) { // (LatLng) or ([Number, Number]) or (Number, Number)                                  // 1220\n\tif (a instanceof L.LatLng) {                                                                                       // 1221\n\t\treturn a;                                                                                                         // 1222\n\t}                                                                                                                  // 1223\n\tif (L.Util.isArray(a)) {                                                                                           // 1224\n\t\tif (typeof a[0] === 'number' || typeof a[0] === 'string') {                                                       // 1225\n\t\t\treturn new L.LatLng(a[0], a[1], a[2]);                                                                           // 1226\n\t\t} else {                                                                                                          // 1227\n\t\t\treturn null;                                                                                                     // 1228\n\t\t}                                                                                                                 // 1229\n\t}                                                                                                                  // 1230\n\tif (a === undefined || a === null) {                                                                               // 1231\n\t\treturn a;                                                                                                         // 1232\n\t}                                                                                                                  // 1233\n\tif (typeof a === 'object' && 'lat' in a) {                                                                         // 1234\n\t\treturn new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon);                                                           // 1235\n\t}                                                                                                                  // 1236\n\tif (b === undefined) {                                                                                             // 1237\n\t\treturn null;                                                                                                      // 1238\n\t}                                                                                                                  // 1239\n\treturn new L.LatLng(a, b);                                                                                         // 1240\n};                                                                                                                  // 1241\n                                                                                                                    // 1242\n                                                                                                                    // 1243\n                                                                                                                    // 1244\n/*                                                                                                                  // 1245\n * L.LatLngBounds represents a rectangular area on the map in geographical coordinates.                             // 1246\n */                                                                                                                 // 1247\n                                                                                                                    // 1248\nL.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])                                // 1249\n\tif (!southWest) { return; }                                                                                        // 1250\n                                                                                                                    // 1251\n\tvar latlngs = northEast ? [southWest, northEast] : southWest;                                                      // 1252\n                                                                                                                    // 1253\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {                                                              // 1254\n\t\tthis.extend(latlngs[i]);                                                                                          // 1255\n\t}                                                                                                                  // 1256\n};                                                                                                                  // 1257\n                                                                                                                    // 1258\nL.LatLngBounds.prototype = {                                                                                        // 1259\n\t// extend the bounds to contain the given point or bounds                                                          // 1260\n\textend: function (obj) { // (LatLng) or (LatLngBounds)                                                             // 1261\n\t\tif (!obj) { return this; }                                                                                        // 1262\n                                                                                                                    // 1263\n\t\tvar latLng = L.latLng(obj);                                                                                       // 1264\n\t\tif (latLng !== null) {                                                                                            // 1265\n\t\t\tobj = latLng;                                                                                                    // 1266\n\t\t} else {                                                                                                          // 1267\n\t\t\tobj = L.latLngBounds(obj);                                                                                       // 1268\n\t\t}                                                                                                                 // 1269\n                                                                                                                    // 1270\n\t\tif (obj instanceof L.LatLng) {                                                                                    // 1271\n\t\t\tif (!this._southWest && !this._northEast) {                                                                      // 1272\n\t\t\t\tthis._southWest = new L.LatLng(obj.lat, obj.lng);                                                               // 1273\n\t\t\t\tthis._northEast = new L.LatLng(obj.lat, obj.lng);                                                               // 1274\n\t\t\t} else {                                                                                                         // 1275\n\t\t\t\tthis._southWest.lat = Math.min(obj.lat, this._southWest.lat);                                                   // 1276\n\t\t\t\tthis._southWest.lng = Math.min(obj.lng, this._southWest.lng);                                                   // 1277\n                                                                                                                    // 1278\n\t\t\t\tthis._northEast.lat = Math.max(obj.lat, this._northEast.lat);                                                   // 1279\n\t\t\t\tthis._northEast.lng = Math.max(obj.lng, this._northEast.lng);                                                   // 1280\n\t\t\t}                                                                                                                // 1281\n\t\t} else if (obj instanceof L.LatLngBounds) {                                                                       // 1282\n\t\t\tthis.extend(obj._southWest);                                                                                     // 1283\n\t\t\tthis.extend(obj._northEast);                                                                                     // 1284\n\t\t}                                                                                                                 // 1285\n\t\treturn this;                                                                                                      // 1286\n\t},                                                                                                                 // 1287\n                                                                                                                    // 1288\n\t// extend the bounds by a percentage                                                                               // 1289\n\tpad: function (bufferRatio) { // (Number) -> LatLngBounds                                                          // 1290\n\t\tvar sw = this._southWest,                                                                                         // 1291\n\t\t    ne = this._northEast,                                                                                         // 1292\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,                                                       // 1293\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;                                                        // 1294\n                                                                                                                    // 1295\n\t\treturn new L.LatLngBounds(                                                                                        // 1296\n\t\t        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),                                                // 1297\n\t\t        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));                                               // 1298\n\t},                                                                                                                 // 1299\n                                                                                                                    // 1300\n\tgetCenter: function () { // -> LatLng                                                                              // 1301\n\t\treturn new L.LatLng(                                                                                              // 1302\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,                                                          // 1303\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);                                                         // 1304\n\t},                                                                                                                 // 1305\n                                                                                                                    // 1306\n\tgetSouthWest: function () {                                                                                        // 1307\n\t\treturn this._southWest;                                                                                           // 1308\n\t},                                                                                                                 // 1309\n                                                                                                                    // 1310\n\tgetNorthEast: function () {                                                                                        // 1311\n\t\treturn this._northEast;                                                                                           // 1312\n\t},                                                                                                                 // 1313\n                                                                                                                    // 1314\n\tgetNorthWest: function () {                                                                                        // 1315\n\t\treturn new L.LatLng(this.getNorth(), this.getWest());                                                             // 1316\n\t},                                                                                                                 // 1317\n                                                                                                                    // 1318\n\tgetSouthEast: function () {                                                                                        // 1319\n\t\treturn new L.LatLng(this.getSouth(), this.getEast());                                                             // 1320\n\t},                                                                                                                 // 1321\n                                                                                                                    // 1322\n\tgetWest: function () {                                                                                             // 1323\n\t\treturn this._southWest.lng;                                                                                       // 1324\n\t},                                                                                                                 // 1325\n                                                                                                                    // 1326\n\tgetSouth: function () {                                                                                            // 1327\n\t\treturn this._southWest.lat;                                                                                       // 1328\n\t},                                                                                                                 // 1329\n                                                                                                                    // 1330\n\tgetEast: function () {                                                                                             // 1331\n\t\treturn this._northEast.lng;                                                                                       // 1332\n\t},                                                                                                                 // 1333\n                                                                                                                    // 1334\n\tgetNorth: function () {                                                                                            // 1335\n\t\treturn this._northEast.lat;                                                                                       // 1336\n\t},                                                                                                                 // 1337\n                                                                                                                    // 1338\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean                                                // 1339\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.LatLng) {                                                      // 1340\n\t\t\tobj = L.latLng(obj);                                                                                             // 1341\n\t\t} else {                                                                                                          // 1342\n\t\t\tobj = L.latLngBounds(obj);                                                                                       // 1343\n\t\t}                                                                                                                 // 1344\n                                                                                                                    // 1345\n\t\tvar sw = this._southWest,                                                                                         // 1346\n\t\t    ne = this._northEast,                                                                                         // 1347\n\t\t    sw2, ne2;                                                                                                     // 1348\n                                                                                                                    // 1349\n\t\tif (obj instanceof L.LatLngBounds) {                                                                              // 1350\n\t\t\tsw2 = obj.getSouthWest();                                                                                        // 1351\n\t\t\tne2 = obj.getNorthEast();                                                                                        // 1352\n\t\t} else {                                                                                                          // 1353\n\t\t\tsw2 = ne2 = obj;                                                                                                 // 1354\n\t\t}                                                                                                                 // 1355\n                                                                                                                    // 1356\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&                                                              // 1357\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);                                                                // 1358\n\t},                                                                                                                 // 1359\n                                                                                                                    // 1360\n\tintersects: function (bounds) { // (LatLngBounds)                                                                  // 1361\n\t\tbounds = L.latLngBounds(bounds);                                                                                  // 1362\n                                                                                                                    // 1363\n\t\tvar sw = this._southWest,                                                                                         // 1364\n\t\t    ne = this._northEast,                                                                                         // 1365\n\t\t    sw2 = bounds.getSouthWest(),                                                                                  // 1366\n\t\t    ne2 = bounds.getNorthEast(),                                                                                  // 1367\n                                                                                                                    // 1368\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),                                                   // 1369\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);                                                   // 1370\n                                                                                                                    // 1371\n\t\treturn latIntersects && lngIntersects;                                                                            // 1372\n\t},                                                                                                                 // 1373\n                                                                                                                    // 1374\n\ttoBBoxString: function () {                                                                                        // 1375\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');                              // 1376\n\t},                                                                                                                 // 1377\n                                                                                                                    // 1378\n\tequals: function (bounds) { // (LatLngBounds)                                                                      // 1379\n\t\tif (!bounds) { return false; }                                                                                    // 1380\n                                                                                                                    // 1381\n\t\tbounds = L.latLngBounds(bounds);                                                                                  // 1382\n                                                                                                                    // 1383\n\t\treturn this._southWest.equals(bounds.getSouthWest()) &&                                                           // 1384\n\t\t       this._northEast.equals(bounds.getNorthEast());                                                             // 1385\n\t},                                                                                                                 // 1386\n                                                                                                                    // 1387\n\tisValid: function () {                                                                                             // 1388\n\t\treturn !!(this._southWest && this._northEast);                                                                    // 1389\n\t}                                                                                                                  // 1390\n};                                                                                                                  // 1391\n                                                                                                                    // 1392\n//TODO International date line?                                                                                     // 1393\n                                                                                                                    // 1394\nL.latLngBounds = function (a, b) { // (LatLngBounds) or (LatLng, LatLng)                                            // 1395\n\tif (!a || a instanceof L.LatLngBounds) {                                                                           // 1396\n\t\treturn a;                                                                                                         // 1397\n\t}                                                                                                                  // 1398\n\treturn new L.LatLngBounds(a, b);                                                                                   // 1399\n};                                                                                                                  // 1400\n                                                                                                                    // 1401\n                                                                                                                    // 1402\n/*                                                                                                                  // 1403\n * L.Projection contains various geographical projections used by CRS classes.                                      // 1404\n */                                                                                                                 // 1405\n                                                                                                                    // 1406\nL.Projection = {};                                                                                                  // 1407\n                                                                                                                    // 1408\n                                                                                                                    // 1409\n/*                                                                                                                  // 1410\n * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS used by default.                    // 1411\n */                                                                                                                 // 1412\n                                                                                                                    // 1413\nL.Projection.SphericalMercator = {                                                                                  // 1414\n\tMAX_LATITUDE: 85.0511287798,                                                                                       // 1415\n                                                                                                                    // 1416\n\tproject: function (latlng) { // (LatLng) -> Point                                                                  // 1417\n\t\tvar d = L.LatLng.DEG_TO_RAD,                                                                                      // 1418\n\t\t    max = this.MAX_LATITUDE,                                                                                      // 1419\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),                                                              // 1420\n\t\t    x = latlng.lng * d,                                                                                           // 1421\n\t\t    y = lat * d;                                                                                                  // 1422\n                                                                                                                    // 1423\n\t\ty = Math.log(Math.tan((Math.PI / 4) + (y / 2)));                                                                  // 1424\n                                                                                                                    // 1425\n\t\treturn new L.Point(x, y);                                                                                         // 1426\n\t},                                                                                                                 // 1427\n                                                                                                                    // 1428\n\tunproject: function (point) { // (Point, Boolean) -> LatLng                                                        // 1429\n\t\tvar d = L.LatLng.RAD_TO_DEG,                                                                                      // 1430\n\t\t    lng = point.x * d,                                                                                            // 1431\n\t\t    lat = (2 * Math.atan(Math.exp(point.y)) - (Math.PI / 2)) * d;                                                 // 1432\n                                                                                                                    // 1433\n\t\treturn new L.LatLng(lat, lng);                                                                                    // 1434\n\t}                                                                                                                  // 1435\n};                                                                                                                  // 1436\n                                                                                                                    // 1437\n                                                                                                                    // 1438\n/*                                                                                                                  // 1439\n * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326 and Simple.                         // 1440\n */                                                                                                                 // 1441\n                                                                                                                    // 1442\nL.Projection.LonLat = {                                                                                             // 1443\n\tproject: function (latlng) {                                                                                       // 1444\n\t\treturn new L.Point(latlng.lng, latlng.lat);                                                                       // 1445\n\t},                                                                                                                 // 1446\n                                                                                                                    // 1447\n\tunproject: function (point) {                                                                                      // 1448\n\t\treturn new L.LatLng(point.y, point.x);                                                                            // 1449\n\t}                                                                                                                  // 1450\n};                                                                                                                  // 1451\n                                                                                                                    // 1452\n                                                                                                                    // 1453\n/*                                                                                                                  // 1454\n * L.CRS is a base object for all defined CRS (Coordinate Reference Systems) in Leaflet.                            // 1455\n */                                                                                                                 // 1456\n                                                                                                                    // 1457\nL.CRS = {                                                                                                           // 1458\n\tlatLngToPoint: function (latlng, zoom) { // (LatLng, Number) -> Point                                              // 1459\n\t\tvar projectedPoint = this.projection.project(latlng),                                                             // 1460\n\t\t    scale = this.scale(zoom);                                                                                     // 1461\n                                                                                                                    // 1462\n\t\treturn this.transformation._transform(projectedPoint, scale);                                                     // 1463\n\t},                                                                                                                 // 1464\n                                                                                                                    // 1465\n\tpointToLatLng: function (point, zoom) { // (Point, Number[, Boolean]) -> LatLng                                    // 1466\n\t\tvar scale = this.scale(zoom),                                                                                     // 1467\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);                                           // 1468\n                                                                                                                    // 1469\n\t\treturn this.projection.unproject(untransformedPoint);                                                             // 1470\n\t},                                                                                                                 // 1471\n                                                                                                                    // 1472\n\tproject: function (latlng) {                                                                                       // 1473\n\t\treturn this.projection.project(latlng);                                                                           // 1474\n\t},                                                                                                                 // 1475\n                                                                                                                    // 1476\n\tscale: function (zoom) {                                                                                           // 1477\n\t\treturn 256 * Math.pow(2, zoom);                                                                                   // 1478\n\t},                                                                                                                 // 1479\n                                                                                                                    // 1480\n\tgetSize: function (zoom) {                                                                                         // 1481\n\t\tvar s = this.scale(zoom);                                                                                         // 1482\n\t\treturn L.point(s, s);                                                                                             // 1483\n\t}                                                                                                                  // 1484\n};                                                                                                                  // 1485\n                                                                                                                    // 1486\n                                                                                                                    // 1487\n/*                                                                                                                  // 1488\n * A simple CRS that can be used for flat non-Earth maps like panoramas or game maps.                               // 1489\n */                                                                                                                 // 1490\n                                                                                                                    // 1491\nL.CRS.Simple = L.extend({}, L.CRS, {                                                                                // 1492\n\tprojection: L.Projection.LonLat,                                                                                   // 1493\n\ttransformation: new L.Transformation(1, 0, -1, 0),                                                                 // 1494\n                                                                                                                    // 1495\n\tscale: function (zoom) {                                                                                           // 1496\n\t\treturn Math.pow(2, zoom);                                                                                         // 1497\n\t}                                                                                                                  // 1498\n});                                                                                                                 // 1499\n                                                                                                                    // 1500\n                                                                                                                    // 1501\n/*                                                                                                                  // 1502\n * L.CRS.EPSG3857 (Spherical Mercator) is the most common CRS for web mapping                                       // 1503\n * and is used by Leaflet by default.                                                                               // 1504\n */                                                                                                                 // 1505\n                                                                                                                    // 1506\nL.CRS.EPSG3857 = L.extend({}, L.CRS, {                                                                              // 1507\n\tcode: 'EPSG:3857',                                                                                                 // 1508\n                                                                                                                    // 1509\n\tprojection: L.Projection.SphericalMercator,                                                                        // 1510\n\ttransformation: new L.Transformation(0.5 / Math.PI, 0.5, -0.5 / Math.PI, 0.5),                                     // 1511\n                                                                                                                    // 1512\n\tproject: function (latlng) { // (LatLng) -> Point                                                                  // 1513\n\t\tvar projectedPoint = this.projection.project(latlng),                                                             // 1514\n\t\t    earthRadius = 6378137;                                                                                        // 1515\n\t\treturn projectedPoint.multiplyBy(earthRadius);                                                                    // 1516\n\t}                                                                                                                  // 1517\n});                                                                                                                 // 1518\n                                                                                                                    // 1519\nL.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {                                                                   // 1520\n\tcode: 'EPSG:900913'                                                                                                // 1521\n});                                                                                                                 // 1522\n                                                                                                                    // 1523\n                                                                                                                    // 1524\n/*                                                                                                                  // 1525\n * L.CRS.EPSG4326 is a CRS popular among advanced GIS specialists.                                                  // 1526\n */                                                                                                                 // 1527\n                                                                                                                    // 1528\nL.CRS.EPSG4326 = L.extend({}, L.CRS, {                                                                              // 1529\n\tcode: 'EPSG:4326',                                                                                                 // 1530\n                                                                                                                    // 1531\n\tprojection: L.Projection.LonLat,                                                                                   // 1532\n\ttransformation: new L.Transformation(1 / 360, 0.5, -1 / 360, 0.5)                                                  // 1533\n});                                                                                                                 // 1534\n                                                                                                                    // 1535\n                                                                                                                    // 1536\n/*                                                                                                                  // 1537\n * L.Map is the central class of the API - it is used to create a map.                                              // 1538\n */                                                                                                                 // 1539\n                                                                                                                    // 1540\nL.Map = L.Class.extend({                                                                                            // 1541\n                                                                                                                    // 1542\n\tincludes: L.Mixin.Events,                                                                                          // 1543\n                                                                                                                    // 1544\n\toptions: {                                                                                                         // 1545\n\t\tcrs: L.CRS.EPSG3857,                                                                                              // 1546\n                                                                                                                    // 1547\n\t\t/*                                                                                                                // 1548\n\t\tcenter: LatLng,                                                                                                   // 1549\n\t\tzoom: Number,                                                                                                     // 1550\n\t\tlayers: Array,                                                                                                    // 1551\n\t\t*/                                                                                                                // 1552\n                                                                                                                    // 1553\n\t\tfadeAnimation: L.DomUtil.TRANSITION && !L.Browser.android23,                                                      // 1554\n\t\ttrackResize: true,                                                                                                // 1555\n\t\tmarkerZoomAnimation: L.DomUtil.TRANSITION && L.Browser.any3d                                                      // 1556\n\t},                                                                                                                 // 1557\n                                                                                                                    // 1558\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)                                            // 1559\n\t\toptions = L.setOptions(this, options);                                                                            // 1560\n                                                                                                                    // 1561\n                                                                                                                    // 1562\n\t\tthis._initContainer(id);                                                                                          // 1563\n\t\tthis._initLayout();                                                                                               // 1564\n                                                                                                                    // 1565\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980                                                        // 1566\n\t\tthis._onResize = L.bind(this._onResize, this);                                                                    // 1567\n                                                                                                                    // 1568\n\t\tthis._initEvents();                                                                                               // 1569\n                                                                                                                    // 1570\n\t\tif (options.maxBounds) {                                                                                          // 1571\n\t\t\tthis.setMaxBounds(options.maxBounds);                                                                            // 1572\n\t\t}                                                                                                                 // 1573\n                                                                                                                    // 1574\n\t\tif (options.center && options.zoom !== undefined) {                                                               // 1575\n\t\t\tthis.setView(L.latLng(options.center), options.zoom, {reset: true});                                             // 1576\n\t\t}                                                                                                                 // 1577\n                                                                                                                    // 1578\n\t\tthis._handlers = [];                                                                                              // 1579\n                                                                                                                    // 1580\n\t\tthis._layers = {};                                                                                                // 1581\n\t\tthis._zoomBoundLayers = {};                                                                                       // 1582\n\t\tthis._tileLayersNum = 0;                                                                                          // 1583\n                                                                                                                    // 1584\n\t\tthis.callInitHooks();                                                                                             // 1585\n                                                                                                                    // 1586\n\t\tthis._addLayers(options.layers);                                                                                  // 1587\n\t},                                                                                                                 // 1588\n                                                                                                                    // 1589\n                                                                                                                    // 1590\n\t// public methods that modify map state                                                                            // 1591\n                                                                                                                    // 1592\n\t// replaced by animation-powered implementation in Map.PanAnimation.js                                             // 1593\n\tsetView: function (center, zoom) {                                                                                 // 1594\n\t\tzoom = zoom === undefined ? this.getZoom() : zoom;                                                                // 1595\n\t\tthis._resetView(L.latLng(center), this._limitZoom(zoom));                                                         // 1596\n\t\treturn this;                                                                                                      // 1597\n\t},                                                                                                                 // 1598\n                                                                                                                    // 1599\n\tsetZoom: function (zoom, options) {                                                                                // 1600\n\t\tif (!this._loaded) {                                                                                              // 1601\n\t\t\tthis._zoom = this._limitZoom(zoom);                                                                              // 1602\n\t\t\treturn this;                                                                                                     // 1603\n\t\t}                                                                                                                 // 1604\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});                                                     // 1605\n\t},                                                                                                                 // 1606\n                                                                                                                    // 1607\n\tzoomIn: function (delta, options) {                                                                                // 1608\n\t\treturn this.setZoom(this._zoom + (delta || 1), options);                                                          // 1609\n\t},                                                                                                                 // 1610\n                                                                                                                    // 1611\n\tzoomOut: function (delta, options) {                                                                               // 1612\n\t\treturn this.setZoom(this._zoom - (delta || 1), options);                                                          // 1613\n\t},                                                                                                                 // 1614\n                                                                                                                    // 1615\n\tsetZoomAround: function (latlng, zoom, options) {                                                                  // 1616\n\t\tvar scale = this.getZoomScale(zoom),                                                                              // 1617\n\t\t    viewHalf = this.getSize().divideBy(2),                                                                        // 1618\n\t\t    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),                    // 1619\n                                                                                                                    // 1620\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),                                   // 1621\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));                                          // 1622\n                                                                                                                    // 1623\n\t\treturn this.setView(newCenter, zoom, {zoom: options});                                                            // 1624\n\t},                                                                                                                 // 1625\n                                                                                                                    // 1626\n\tfitBounds: function (bounds, options) {                                                                            // 1627\n                                                                                                                    // 1628\n\t\toptions = options || {};                                                                                          // 1629\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);                                          // 1630\n                                                                                                                    // 1631\n\t\tvar paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),                                     // 1632\n\t\t    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),                                 // 1633\n                                                                                                                    // 1634\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR)),                                           // 1635\n\t\t    paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),                                                    // 1636\n                                                                                                                    // 1637\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),                                                          // 1638\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),                                                          // 1639\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);                           // 1640\n                                                                                                                    // 1641\n\t\tzoom = options && options.maxZoom ? Math.min(options.maxZoom, zoom) : zoom;                                       // 1642\n                                                                                                                    // 1643\n\t\treturn this.setView(center, zoom, options);                                                                       // 1644\n\t},                                                                                                                 // 1645\n                                                                                                                    // 1646\n\tfitWorld: function (options) {                                                                                     // 1647\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);                                                         // 1648\n\t},                                                                                                                 // 1649\n                                                                                                                    // 1650\n\tpanTo: function (center, options) { // (LatLng)                                                                    // 1651\n\t\treturn this.setView(center, this._zoom, {pan: options});                                                          // 1652\n\t},                                                                                                                 // 1653\n                                                                                                                    // 1654\n\tpanBy: function (offset) { // (Point)                                                                              // 1655\n\t\t// replaced with animated panBy in Map.PanAnimation.js                                                            // 1656\n\t\tthis.fire('movestart');                                                                                           // 1657\n                                                                                                                    // 1658\n\t\tthis._rawPanBy(L.point(offset));                                                                                  // 1659\n                                                                                                                    // 1660\n\t\tthis.fire('move');                                                                                                // 1661\n\t\treturn this.fire('moveend');                                                                                      // 1662\n\t},                                                                                                                 // 1663\n                                                                                                                    // 1664\n\tsetMaxBounds: function (bounds) {                                                                                  // 1665\n\t\tbounds = L.latLngBounds(bounds);                                                                                  // 1666\n                                                                                                                    // 1667\n\t\tthis.options.maxBounds = bounds;                                                                                  // 1668\n                                                                                                                    // 1669\n\t\tif (!bounds) {                                                                                                    // 1670\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds, this);                                                      // 1671\n\t\t}                                                                                                                 // 1672\n                                                                                                                    // 1673\n\t\tif (this._loaded) {                                                                                               // 1674\n\t\t\tthis._panInsideMaxBounds();                                                                                      // 1675\n\t\t}                                                                                                                 // 1676\n                                                                                                                    // 1677\n\t\treturn this.on('moveend', this._panInsideMaxBounds, this);                                                        // 1678\n\t},                                                                                                                 // 1679\n                                                                                                                    // 1680\n\tpanInsideBounds: function (bounds, options) {                                                                      // 1681\n\t\tvar center = this.getCenter(),                                                                                    // 1682\n\t\t\tnewCenter = this._limitCenter(center, this._zoom, bounds);                                                       // 1683\n                                                                                                                    // 1684\n\t\tif (center.equals(newCenter)) { return this; }                                                                    // 1685\n                                                                                                                    // 1686\n\t\treturn this.panTo(newCenter, options);                                                                            // 1687\n\t},                                                                                                                 // 1688\n                                                                                                                    // 1689\n\taddLayer: function (layer) {                                                                                       // 1690\n\t\t// TODO method is too big, refactor                                                                               // 1691\n                                                                                                                    // 1692\n\t\tvar id = L.stamp(layer);                                                                                          // 1693\n                                                                                                                    // 1694\n\t\tif (this._layers[id]) { return this; }                                                                            // 1695\n                                                                                                                    // 1696\n\t\tthis._layers[id] = layer;                                                                                         // 1697\n                                                                                                                    // 1698\n\t\t// TODO getMaxZoom, getMinZoom in ILayer (instead of options)                                                     // 1699\n\t\tif (layer.options && (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom))) {                          // 1700\n\t\t\tthis._zoomBoundLayers[id] = layer;                                                                               // 1701\n\t\t\tthis._updateZoomLevels();                                                                                        // 1702\n\t\t}                                                                                                                 // 1703\n                                                                                                                    // 1704\n\t\t// TODO looks ugly, refactor!!!                                                                                   // 1705\n\t\tif (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {                                // 1706\n\t\t\tthis._tileLayersNum++;                                                                                           // 1707\n\t\t\tthis._tileLayersToLoad++;                                                                                        // 1708\n\t\t\tlayer.on('load', this._onTileLayerLoad, this);                                                                   // 1709\n\t\t}                                                                                                                 // 1710\n                                                                                                                    // 1711\n\t\tif (this._loaded) {                                                                                               // 1712\n\t\t\tthis._layerAdd(layer);                                                                                           // 1713\n\t\t}                                                                                                                 // 1714\n                                                                                                                    // 1715\n\t\treturn this;                                                                                                      // 1716\n\t},                                                                                                                 // 1717\n                                                                                                                    // 1718\n\tremoveLayer: function (layer) {                                                                                    // 1719\n\t\tvar id = L.stamp(layer);                                                                                          // 1720\n                                                                                                                    // 1721\n\t\tif (!this._layers[id]) { return this; }                                                                           // 1722\n                                                                                                                    // 1723\n\t\tif (this._loaded) {                                                                                               // 1724\n\t\t\tlayer.onRemove(this);                                                                                            // 1725\n\t\t}                                                                                                                 // 1726\n                                                                                                                    // 1727\n\t\tdelete this._layers[id];                                                                                          // 1728\n                                                                                                                    // 1729\n\t\tif (this._loaded) {                                                                                               // 1730\n\t\t\tthis.fire('layerremove', {layer: layer});                                                                        // 1731\n\t\t}                                                                                                                 // 1732\n                                                                                                                    // 1733\n\t\tif (this._zoomBoundLayers[id]) {                                                                                  // 1734\n\t\t\tdelete this._zoomBoundLayers[id];                                                                                // 1735\n\t\t\tthis._updateZoomLevels();                                                                                        // 1736\n\t\t}                                                                                                                 // 1737\n                                                                                                                    // 1738\n\t\t// TODO looks ugly, refactor                                                                                      // 1739\n\t\tif (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {                                // 1740\n\t\t\tthis._tileLayersNum--;                                                                                           // 1741\n\t\t\tthis._tileLayersToLoad--;                                                                                        // 1742\n\t\t\tlayer.off('load', this._onTileLayerLoad, this);                                                                  // 1743\n\t\t}                                                                                                                 // 1744\n                                                                                                                    // 1745\n\t\treturn this;                                                                                                      // 1746\n\t},                                                                                                                 // 1747\n                                                                                                                    // 1748\n\thasLayer: function (layer) {                                                                                       // 1749\n\t\tif (!layer) { return false; }                                                                                     // 1750\n                                                                                                                    // 1751\n\t\treturn (L.stamp(layer) in this._layers);                                                                          // 1752\n\t},                                                                                                                 // 1753\n                                                                                                                    // 1754\n\teachLayer: function (method, context) {                                                                            // 1755\n\t\tfor (var i in this._layers) {                                                                                     // 1756\n\t\t\tmethod.call(context, this._layers[i]);                                                                           // 1757\n\t\t}                                                                                                                 // 1758\n\t\treturn this;                                                                                                      // 1759\n\t},                                                                                                                 // 1760\n                                                                                                                    // 1761\n\tinvalidateSize: function (options) {                                                                               // 1762\n\t\tif (!this._loaded) { return this; }                                                                               // 1763\n                                                                                                                    // 1764\n\t\toptions = L.extend({                                                                                              // 1765\n\t\t\tanimate: false,                                                                                                  // 1766\n\t\t\tpan: true                                                                                                        // 1767\n\t\t}, options === true ? {animate: true} : options);                                                                 // 1768\n                                                                                                                    // 1769\n\t\tvar oldSize = this.getSize();                                                                                     // 1770\n\t\tthis._sizeChanged = true;                                                                                         // 1771\n\t\tthis._initialCenter = null;                                                                                       // 1772\n                                                                                                                    // 1773\n\t\tvar newSize = this.getSize(),                                                                                     // 1774\n\t\t    oldCenter = oldSize.divideBy(2).round(),                                                                      // 1775\n\t\t    newCenter = newSize.divideBy(2).round(),                                                                      // 1776\n\t\t    offset = oldCenter.subtract(newCenter);                                                                       // 1777\n                                                                                                                    // 1778\n\t\tif (!offset.x && !offset.y) { return this; }                                                                      // 1779\n                                                                                                                    // 1780\n\t\tif (options.animate && options.pan) {                                                                             // 1781\n\t\t\tthis.panBy(offset);                                                                                              // 1782\n                                                                                                                    // 1783\n\t\t} else {                                                                                                          // 1784\n\t\t\tif (options.pan) {                                                                                               // 1785\n\t\t\t\tthis._rawPanBy(offset);                                                                                         // 1786\n\t\t\t}                                                                                                                // 1787\n                                                                                                                    // 1788\n\t\t\tthis.fire('move');                                                                                               // 1789\n                                                                                                                    // 1790\n\t\t\tif (options.debounceMoveend) {                                                                                   // 1791\n\t\t\t\tclearTimeout(this._sizeTimer);                                                                                  // 1792\n\t\t\t\tthis._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);                                          // 1793\n\t\t\t} else {                                                                                                         // 1794\n\t\t\t\tthis.fire('moveend');                                                                                           // 1795\n\t\t\t}                                                                                                                // 1796\n\t\t}                                                                                                                 // 1797\n                                                                                                                    // 1798\n\t\treturn this.fire('resize', {                                                                                      // 1799\n\t\t\toldSize: oldSize,                                                                                                // 1800\n\t\t\tnewSize: newSize                                                                                                 // 1801\n\t\t});                                                                                                               // 1802\n\t},                                                                                                                 // 1803\n                                                                                                                    // 1804\n\t// TODO handler.addTo                                                                                              // 1805\n\taddHandler: function (name, HandlerClass) {                                                                        // 1806\n\t\tif (!HandlerClass) { return this; }                                                                               // 1807\n                                                                                                                    // 1808\n\t\tvar handler = this[name] = new HandlerClass(this);                                                                // 1809\n                                                                                                                    // 1810\n\t\tthis._handlers.push(handler);                                                                                     // 1811\n                                                                                                                    // 1812\n\t\tif (this.options[name]) {                                                                                         // 1813\n\t\t\thandler.enable();                                                                                                // 1814\n\t\t}                                                                                                                 // 1815\n                                                                                                                    // 1816\n\t\treturn this;                                                                                                      // 1817\n\t},                                                                                                                 // 1818\n                                                                                                                    // 1819\n\tremove: function () {                                                                                              // 1820\n\t\tif (this._loaded) {                                                                                               // 1821\n\t\t\tthis.fire('unload');                                                                                             // 1822\n\t\t}                                                                                                                 // 1823\n                                                                                                                    // 1824\n\t\tthis._initEvents('off');                                                                                          // 1825\n                                                                                                                    // 1826\n\t\ttry {                                                                                                             // 1827\n\t\t\t// throws error in IE6-8                                                                                         // 1828\n\t\t\tdelete this._container._leaflet;                                                                                 // 1829\n\t\t} catch (e) {                                                                                                     // 1830\n\t\t\tthis._container._leaflet = undefined;                                                                            // 1831\n\t\t}                                                                                                                 // 1832\n                                                                                                                    // 1833\n\t\tthis._clearPanes();                                                                                               // 1834\n\t\tif (this._clearControlPos) {                                                                                      // 1835\n\t\t\tthis._clearControlPos();                                                                                         // 1836\n\t\t}                                                                                                                 // 1837\n                                                                                                                    // 1838\n\t\tthis._clearHandlers();                                                                                            // 1839\n                                                                                                                    // 1840\n\t\treturn this;                                                                                                      // 1841\n\t},                                                                                                                 // 1842\n                                                                                                                    // 1843\n                                                                                                                    // 1844\n\t// public methods for getting map state                                                                            // 1845\n                                                                                                                    // 1846\n\tgetCenter: function () { // (Boolean) -> LatLng                                                                    // 1847\n\t\tthis._checkIfLoaded();                                                                                            // 1848\n                                                                                                                    // 1849\n\t\tif (this._initialCenter && !this._moved()) {                                                                      // 1850\n\t\t\treturn this._initialCenter;                                                                                      // 1851\n\t\t}                                                                                                                 // 1852\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());                                                      // 1853\n\t},                                                                                                                 // 1854\n                                                                                                                    // 1855\n\tgetZoom: function () {                                                                                             // 1856\n\t\treturn this._zoom;                                                                                                // 1857\n\t},                                                                                                                 // 1858\n                                                                                                                    // 1859\n\tgetBounds: function () {                                                                                           // 1860\n\t\tvar bounds = this.getPixelBounds(),                                                                               // 1861\n\t\t    sw = this.unproject(bounds.getBottomLeft()),                                                                  // 1862\n\t\t    ne = this.unproject(bounds.getTopRight());                                                                    // 1863\n                                                                                                                    // 1864\n\t\treturn new L.LatLngBounds(sw, ne);                                                                                // 1865\n\t},                                                                                                                 // 1866\n                                                                                                                    // 1867\n\tgetMinZoom: function () {                                                                                          // 1868\n\t\treturn this.options.minZoom === undefined ?                                                                       // 1869\n\t\t\t(this._layersMinZoom === undefined ? 0 : this._layersMinZoom) :                                                  // 1870\n\t\t\tthis.options.minZoom;                                                                                            // 1871\n\t},                                                                                                                 // 1872\n                                                                                                                    // 1873\n\tgetMaxZoom: function () {                                                                                          // 1874\n\t\treturn this.options.maxZoom === undefined ?                                                                       // 1875\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :                                           // 1876\n\t\t\tthis.options.maxZoom;                                                                                            // 1877\n\t},                                                                                                                 // 1878\n                                                                                                                    // 1879\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number                  // 1880\n\t\tbounds = L.latLngBounds(bounds);                                                                                  // 1881\n                                                                                                                    // 1882\n\t\tvar zoom = this.getMinZoom() - (inside ? 1 : 0),                                                                  // 1883\n\t\t    maxZoom = this.getMaxZoom(),                                                                                  // 1884\n\t\t    size = this.getSize(),                                                                                        // 1885\n                                                                                                                    // 1886\n\t\t    nw = bounds.getNorthWest(),                                                                                   // 1887\n\t\t    se = bounds.getSouthEast(),                                                                                   // 1888\n                                                                                                                    // 1889\n\t\t    zoomNotFound = true,                                                                                          // 1890\n\t\t    boundsSize;                                                                                                   // 1891\n                                                                                                                    // 1892\n\t\tpadding = L.point(padding || [0, 0]);                                                                             // 1893\n                                                                                                                    // 1894\n\t\tdo {                                                                                                              // 1895\n\t\t\tzoom++;                                                                                                          // 1896\n\t\t\tboundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)).add(padding);                               // 1897\n\t\t\tzoomNotFound = !inside ? size.contains(boundsSize) : boundsSize.x < size.x || boundsSize.y < size.y;             // 1898\n                                                                                                                    // 1899\n\t\t} while (zoomNotFound && zoom <= maxZoom);                                                                        // 1900\n                                                                                                                    // 1901\n\t\tif (zoomNotFound && inside) {                                                                                     // 1902\n\t\t\treturn null;                                                                                                     // 1903\n\t\t}                                                                                                                 // 1904\n                                                                                                                    // 1905\n\t\treturn inside ? zoom : zoom - 1;                                                                                  // 1906\n\t},                                                                                                                 // 1907\n                                                                                                                    // 1908\n\tgetSize: function () {                                                                                             // 1909\n\t\tif (!this._size || this._sizeChanged) {                                                                           // 1910\n\t\t\tthis._size = new L.Point(                                                                                        // 1911\n\t\t\t\tthis._container.clientWidth,                                                                                    // 1912\n\t\t\t\tthis._container.clientHeight);                                                                                  // 1913\n                                                                                                                    // 1914\n\t\t\tthis._sizeChanged = false;                                                                                       // 1915\n\t\t}                                                                                                                 // 1916\n\t\treturn this._size.clone();                                                                                        // 1917\n\t},                                                                                                                 // 1918\n                                                                                                                    // 1919\n\tgetPixelBounds: function () {                                                                                      // 1920\n\t\tvar topLeftPoint = this._getTopLeftPoint();                                                                       // 1921\n\t\treturn new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));                                              // 1922\n\t},                                                                                                                 // 1923\n                                                                                                                    // 1924\n\tgetPixelOrigin: function () {                                                                                      // 1925\n\t\tthis._checkIfLoaded();                                                                                            // 1926\n\t\treturn this._initialTopLeftPoint;                                                                                 // 1927\n\t},                                                                                                                 // 1928\n                                                                                                                    // 1929\n\tgetPanes: function () {                                                                                            // 1930\n\t\treturn this._panes;                                                                                               // 1931\n\t},                                                                                                                 // 1932\n                                                                                                                    // 1933\n\tgetContainer: function () {                                                                                        // 1934\n\t\treturn this._container;                                                                                           // 1935\n\t},                                                                                                                 // 1936\n                                                                                                                    // 1937\n                                                                                                                    // 1938\n\t// TODO replace with universal implementation after refactoring projections                                        // 1939\n                                                                                                                    // 1940\n\tgetZoomScale: function (toZoom) {                                                                                  // 1941\n\t\tvar crs = this.options.crs;                                                                                       // 1942\n\t\treturn crs.scale(toZoom) / crs.scale(this._zoom);                                                                 // 1943\n\t},                                                                                                                 // 1944\n                                                                                                                    // 1945\n\tgetScaleZoom: function (scale) {                                                                                   // 1946\n\t\treturn this._zoom + (Math.log(scale) / Math.LN2);                                                                 // 1947\n\t},                                                                                                                 // 1948\n                                                                                                                    // 1949\n                                                                                                                    // 1950\n\t// conversion methods                                                                                              // 1951\n                                                                                                                    // 1952\n\tproject: function (latlng, zoom) { // (LatLng[, Number]) -> Point                                                  // 1953\n\t\tzoom = zoom === undefined ? this._zoom : zoom;                                                                    // 1954\n\t\treturn this.options.crs.latLngToPoint(L.latLng(latlng), zoom);                                                    // 1955\n\t},                                                                                                                 // 1956\n                                                                                                                    // 1957\n\tunproject: function (point, zoom) { // (Point[, Number]) -> LatLng                                                 // 1958\n\t\tzoom = zoom === undefined ? this._zoom : zoom;                                                                    // 1959\n\t\treturn this.options.crs.pointToLatLng(L.point(point), zoom);                                                      // 1960\n\t},                                                                                                                 // 1961\n                                                                                                                    // 1962\n\tlayerPointToLatLng: function (point) { // (Point)                                                                  // 1963\n\t\tvar projectedPoint = L.point(point).add(this.getPixelOrigin());                                                   // 1964\n\t\treturn this.unproject(projectedPoint);                                                                            // 1965\n\t},                                                                                                                 // 1966\n                                                                                                                    // 1967\n\tlatLngToLayerPoint: function (latlng) { // (LatLng)                                                                // 1968\n\t\tvar projectedPoint = this.project(L.latLng(latlng))._round();                                                     // 1969\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());                                                           // 1970\n\t},                                                                                                                 // 1971\n                                                                                                                    // 1972\n\tcontainerPointToLayerPoint: function (point) { // (Point)                                                          // 1973\n\t\treturn L.point(point).subtract(this._getMapPanePos());                                                            // 1974\n\t},                                                                                                                 // 1975\n                                                                                                                    // 1976\n\tlayerPointToContainerPoint: function (point) { // (Point)                                                          // 1977\n\t\treturn L.point(point).add(this._getMapPanePos());                                                                 // 1978\n\t},                                                                                                                 // 1979\n                                                                                                                    // 1980\n\tcontainerPointToLatLng: function (point) {                                                                         // 1981\n\t\tvar layerPoint = this.containerPointToLayerPoint(L.point(point));                                                 // 1982\n\t\treturn this.layerPointToLatLng(layerPoint);                                                                       // 1983\n\t},                                                                                                                 // 1984\n                                                                                                                    // 1985\n\tlatLngToContainerPoint: function (latlng) {                                                                        // 1986\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));                                // 1987\n\t},                                                                                                                 // 1988\n                                                                                                                    // 1989\n\tmouseEventToContainerPoint: function (e) { // (MouseEvent)                                                         // 1990\n\t\treturn L.DomEvent.getMousePosition(e, this._container);                                                           // 1991\n\t},                                                                                                                 // 1992\n                                                                                                                    // 1993\n\tmouseEventToLayerPoint: function (e) { // (MouseEvent)                                                             // 1994\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));                                       // 1995\n\t},                                                                                                                 // 1996\n                                                                                                                    // 1997\n\tmouseEventToLatLng: function (e) { // (MouseEvent)                                                                 // 1998\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));                                                   // 1999\n\t},                                                                                                                 // 2000\n                                                                                                                    // 2001\n                                                                                                                    // 2002\n\t// map initialization methods                                                                                      // 2003\n                                                                                                                    // 2004\n\t_initContainer: function (id) {                                                                                    // 2005\n\t\tvar container = this._container = L.DomUtil.get(id);                                                              // 2006\n                                                                                                                    // 2007\n\t\tif (!container) {                                                                                                 // 2008\n\t\t\tthrow new Error('Map container not found.');                                                                     // 2009\n\t\t} else if (container._leaflet) {                                                                                  // 2010\n\t\t\tthrow new Error('Map container is already initialized.');                                                        // 2011\n\t\t}                                                                                                                 // 2012\n                                                                                                                    // 2013\n\t\tcontainer._leaflet = true;                                                                                        // 2014\n\t},                                                                                                                 // 2015\n                                                                                                                    // 2016\n\t_initLayout: function () {                                                                                         // 2017\n\t\tvar container = this._container;                                                                                  // 2018\n                                                                                                                    // 2019\n\t\tL.DomUtil.addClass(container, 'leaflet-container' +                                                               // 2020\n\t\t\t(L.Browser.touch ? ' leaflet-touch' : '') +                                                                      // 2021\n\t\t\t(L.Browser.retina ? ' leaflet-retina' : '') +                                                                    // 2022\n\t\t\t(L.Browser.ielt9 ? ' leaflet-oldie' : '') +                                                                      // 2023\n\t\t\t(this.options.fadeAnimation ? ' leaflet-fade-anim' : ''));                                                       // 2024\n                                                                                                                    // 2025\n\t\tvar position = L.DomUtil.getStyle(container, 'position');                                                         // 2026\n                                                                                                                    // 2027\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {                                 // 2028\n\t\t\tcontainer.style.position = 'relative';                                                                           // 2029\n\t\t}                                                                                                                 // 2030\n                                                                                                                    // 2031\n\t\tthis._initPanes();                                                                                                // 2032\n                                                                                                                    // 2033\n\t\tif (this._initControlPos) {                                                                                       // 2034\n\t\t\tthis._initControlPos();                                                                                          // 2035\n\t\t}                                                                                                                 // 2036\n\t},                                                                                                                 // 2037\n                                                                                                                    // 2038\n\t_initPanes: function () {                                                                                          // 2039\n\t\tvar panes = this._panes = {};                                                                                     // 2040\n                                                                                                                    // 2041\n\t\tthis._mapPane = panes.mapPane = this._createPane('leaflet-map-pane', this._container);                            // 2042\n                                                                                                                    // 2043\n\t\tthis._tilePane = panes.tilePane = this._createPane('leaflet-tile-pane', this._mapPane);                           // 2044\n\t\tpanes.objectsPane = this._createPane('leaflet-objects-pane', this._mapPane);                                      // 2045\n\t\tpanes.shadowPane = this._createPane('leaflet-shadow-pane');                                                       // 2046\n\t\tpanes.overlayPane = this._createPane('leaflet-overlay-pane');                                                     // 2047\n\t\tpanes.markerPane = this._createPane('leaflet-marker-pane');                                                       // 2048\n\t\tpanes.popupPane = this._createPane('leaflet-popup-pane');                                                         // 2049\n                                                                                                                    // 2050\n\t\tvar zoomHide = ' leaflet-zoom-hide';                                                                              // 2051\n                                                                                                                    // 2052\n\t\tif (!this.options.markerZoomAnimation) {                                                                          // 2053\n\t\t\tL.DomUtil.addClass(panes.markerPane, zoomHide);                                                                  // 2054\n\t\t\tL.DomUtil.addClass(panes.shadowPane, zoomHide);                                                                  // 2055\n\t\t\tL.DomUtil.addClass(panes.popupPane, zoomHide);                                                                   // 2056\n\t\t}                                                                                                                 // 2057\n\t},                                                                                                                 // 2058\n                                                                                                                    // 2059\n\t_createPane: function (className, container) {                                                                     // 2060\n\t\treturn L.DomUtil.create('div', className, container || this._panes.objectsPane);                                  // 2061\n\t},                                                                                                                 // 2062\n                                                                                                                    // 2063\n\t_clearPanes: function () {                                                                                         // 2064\n\t\tthis._container.removeChild(this._mapPane);                                                                       // 2065\n\t},                                                                                                                 // 2066\n                                                                                                                    // 2067\n\t_addLayers: function (layers) {                                                                                    // 2068\n\t\tlayers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];                                              // 2069\n                                                                                                                    // 2070\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {                                                              // 2071\n\t\t\tthis.addLayer(layers[i]);                                                                                        // 2072\n\t\t}                                                                                                                 // 2073\n\t},                                                                                                                 // 2074\n                                                                                                                    // 2075\n                                                                                                                    // 2076\n\t// private methods that modify map state                                                                           // 2077\n                                                                                                                    // 2078\n\t_resetView: function (center, zoom, preserveMapOffset, afterZoomAnim) {                                            // 2079\n                                                                                                                    // 2080\n\t\tvar zoomChanged = (this._zoom !== zoom);                                                                          // 2081\n                                                                                                                    // 2082\n\t\tif (!afterZoomAnim) {                                                                                             // 2083\n\t\t\tthis.fire('movestart');                                                                                          // 2084\n                                                                                                                    // 2085\n\t\t\tif (zoomChanged) {                                                                                               // 2086\n\t\t\t\tthis.fire('zoomstart');                                                                                         // 2087\n\t\t\t}                                                                                                                // 2088\n\t\t}                                                                                                                 // 2089\n                                                                                                                    // 2090\n\t\tthis._zoom = zoom;                                                                                                // 2091\n\t\tthis._initialCenter = center;                                                                                     // 2092\n                                                                                                                    // 2093\n\t\tthis._initialTopLeftPoint = this._getNewTopLeftPoint(center);                                                     // 2094\n                                                                                                                    // 2095\n\t\tif (!preserveMapOffset) {                                                                                         // 2096\n\t\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));                                                         // 2097\n\t\t} else {                                                                                                          // 2098\n\t\t\tthis._initialTopLeftPoint._add(this._getMapPanePos());                                                           // 2099\n\t\t}                                                                                                                 // 2100\n                                                                                                                    // 2101\n\t\tthis._tileLayersToLoad = this._tileLayersNum;                                                                     // 2102\n                                                                                                                    // 2103\n\t\tvar loading = !this._loaded;                                                                                      // 2104\n\t\tthis._loaded = true;                                                                                              // 2105\n                                                                                                                    // 2106\n\t\tthis.fire('viewreset', {hard: !preserveMapOffset});                                                               // 2107\n                                                                                                                    // 2108\n\t\tif (loading) {                                                                                                    // 2109\n\t\t\tthis.fire('load');                                                                                               // 2110\n\t\t\tthis.eachLayer(this._layerAdd, this);                                                                            // 2111\n\t\t}                                                                                                                 // 2112\n                                                                                                                    // 2113\n\t\tthis.fire('move');                                                                                                // 2114\n                                                                                                                    // 2115\n\t\tif (zoomChanged || afterZoomAnim) {                                                                               // 2116\n\t\t\tthis.fire('zoomend');                                                                                            // 2117\n\t\t}                                                                                                                 // 2118\n                                                                                                                    // 2119\n\t\tthis.fire('moveend', {hard: !preserveMapOffset});                                                                 // 2120\n\t},                                                                                                                 // 2121\n                                                                                                                    // 2122\n\t_rawPanBy: function (offset) {                                                                                     // 2123\n\t\tL.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));                                     // 2124\n\t},                                                                                                                 // 2125\n                                                                                                                    // 2126\n\t_getZoomSpan: function () {                                                                                        // 2127\n\t\treturn this.getMaxZoom() - this.getMinZoom();                                                                     // 2128\n\t},                                                                                                                 // 2129\n                                                                                                                    // 2130\n\t_updateZoomLevels: function () {                                                                                   // 2131\n\t\tvar i,                                                                                                            // 2132\n\t\t\tminZoom = Infinity,                                                                                              // 2133\n\t\t\tmaxZoom = -Infinity,                                                                                             // 2134\n\t\t\toldZoomSpan = this._getZoomSpan();                                                                               // 2135\n                                                                                                                    // 2136\n\t\tfor (i in this._zoomBoundLayers) {                                                                                // 2137\n\t\t\tvar layer = this._zoomBoundLayers[i];                                                                            // 2138\n\t\t\tif (!isNaN(layer.options.minZoom)) {                                                                             // 2139\n\t\t\t\tminZoom = Math.min(minZoom, layer.options.minZoom);                                                             // 2140\n\t\t\t}                                                                                                                // 2141\n\t\t\tif (!isNaN(layer.options.maxZoom)) {                                                                             // 2142\n\t\t\t\tmaxZoom = Math.max(maxZoom, layer.options.maxZoom);                                                             // 2143\n\t\t\t}                                                                                                                // 2144\n\t\t}                                                                                                                 // 2145\n                                                                                                                    // 2146\n\t\tif (i === undefined) { // we have no tilelayers                                                                   // 2147\n\t\t\tthis._layersMaxZoom = this._layersMinZoom = undefined;                                                           // 2148\n\t\t} else {                                                                                                          // 2149\n\t\t\tthis._layersMaxZoom = maxZoom;                                                                                   // 2150\n\t\t\tthis._layersMinZoom = minZoom;                                                                                   // 2151\n\t\t}                                                                                                                 // 2152\n                                                                                                                    // 2153\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {                                                                        // 2154\n\t\t\tthis.fire('zoomlevelschange');                                                                                   // 2155\n\t\t}                                                                                                                 // 2156\n\t},                                                                                                                 // 2157\n                                                                                                                    // 2158\n\t_panInsideMaxBounds: function () {                                                                                 // 2159\n\t\tthis.panInsideBounds(this.options.maxBounds);                                                                     // 2160\n\t},                                                                                                                 // 2161\n                                                                                                                    // 2162\n\t_checkIfLoaded: function () {                                                                                      // 2163\n\t\tif (!this._loaded) {                                                                                              // 2164\n\t\t\tthrow new Error('Set map center and zoom first.');                                                               // 2165\n\t\t}                                                                                                                 // 2166\n\t},                                                                                                                 // 2167\n                                                                                                                    // 2168\n\t// map events                                                                                                      // 2169\n                                                                                                                    // 2170\n\t_initEvents: function (onOff) {                                                                                    // 2171\n\t\tif (!L.DomEvent) { return; }                                                                                      // 2172\n                                                                                                                    // 2173\n\t\tonOff = onOff || 'on';                                                                                            // 2174\n                                                                                                                    // 2175\n\t\tL.DomEvent[onOff](this._container, 'click', this._onMouseClick, this);                                            // 2176\n                                                                                                                    // 2177\n\t\tvar events = ['dblclick', 'mousedown', 'mouseup', 'mouseenter',                                                   // 2178\n\t\t              'mouseleave', 'mousemove', 'contextmenu'],                                                          // 2179\n\t\t    i, len;                                                                                                       // 2180\n                                                                                                                    // 2181\n\t\tfor (i = 0, len = events.length; i < len; i++) {                                                                  // 2182\n\t\t\tL.DomEvent[onOff](this._container, events[i], this._fireMouseEvent, this);                                       // 2183\n\t\t}                                                                                                                 // 2184\n                                                                                                                    // 2185\n\t\tif (this.options.trackResize) {                                                                                   // 2186\n\t\t\tL.DomEvent[onOff](window, 'resize', this._onResize, this);                                                       // 2187\n\t\t}                                                                                                                 // 2188\n\t},                                                                                                                 // 2189\n                                                                                                                    // 2190\n\t_onResize: function () {                                                                                           // 2191\n\t\tL.Util.cancelAnimFrame(this._resizeRequest);                                                                      // 2192\n\t\tthis._resizeRequest = L.Util.requestAnimFrame(                                                                    // 2193\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this, false, this._container);             // 2194\n\t},                                                                                                                 // 2195\n                                                                                                                    // 2196\n\t_onMouseClick: function (e) {                                                                                      // 2197\n\t\tif (!this._loaded || (!e._simulated &&                                                                            // 2198\n\t\t        ((this.dragging && this.dragging.moved()) ||                                                              // 2199\n\t\t         (this.boxZoom  && this.boxZoom.moved()))) ||                                                             // 2200\n\t\t            L.DomEvent._skipped(e)) { return; }                                                                   // 2201\n                                                                                                                    // 2202\n\t\tthis.fire('preclick');                                                                                            // 2203\n\t\tthis._fireMouseEvent(e);                                                                                          // 2204\n\t},                                                                                                                 // 2205\n                                                                                                                    // 2206\n\t_fireMouseEvent: function (e) {                                                                                    // 2207\n\t\tif (!this._loaded || L.DomEvent._skipped(e)) { return; }                                                          // 2208\n                                                                                                                    // 2209\n\t\tvar type = e.type;                                                                                                // 2210\n                                                                                                                    // 2211\n\t\ttype = (type === 'mouseenter' ? 'mouseover' : (type === 'mouseleave' ? 'mouseout' : type));                       // 2212\n                                                                                                                    // 2213\n\t\tif (!this.hasEventListeners(type)) { return; }                                                                    // 2214\n                                                                                                                    // 2215\n\t\tif (type === 'contextmenu') {                                                                                     // 2216\n\t\t\tL.DomEvent.preventDefault(e);                                                                                    // 2217\n\t\t}                                                                                                                 // 2218\n                                                                                                                    // 2219\n\t\tvar containerPoint = this.mouseEventToContainerPoint(e),                                                          // 2220\n\t\t    layerPoint = this.containerPointToLayerPoint(containerPoint),                                                 // 2221\n\t\t    latlng = this.layerPointToLatLng(layerPoint);                                                                 // 2222\n                                                                                                                    // 2223\n\t\tthis.fire(type, {                                                                                                 // 2224\n\t\t\tlatlng: latlng,                                                                                                  // 2225\n\t\t\tlayerPoint: layerPoint,                                                                                          // 2226\n\t\t\tcontainerPoint: containerPoint,                                                                                  // 2227\n\t\t\toriginalEvent: e                                                                                                 // 2228\n\t\t});                                                                                                               // 2229\n\t},                                                                                                                 // 2230\n                                                                                                                    // 2231\n\t_onTileLayerLoad: function () {                                                                                    // 2232\n\t\tthis._tileLayersToLoad--;                                                                                         // 2233\n\t\tif (this._tileLayersNum && !this._tileLayersToLoad) {                                                             // 2234\n\t\t\tthis.fire('tilelayersload');                                                                                     // 2235\n\t\t}                                                                                                                 // 2236\n\t},                                                                                                                 // 2237\n                                                                                                                    // 2238\n\t_clearHandlers: function () {                                                                                      // 2239\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {                                                      // 2240\n\t\t\tthis._handlers[i].disable();                                                                                     // 2241\n\t\t}                                                                                                                 // 2242\n\t},                                                                                                                 // 2243\n                                                                                                                    // 2244\n\twhenReady: function (callback, context) {                                                                          // 2245\n\t\tif (this._loaded) {                                                                                               // 2246\n\t\t\tcallback.call(context || this, this);                                                                            // 2247\n\t\t} else {                                                                                                          // 2248\n\t\t\tthis.on('load', callback, context);                                                                              // 2249\n\t\t}                                                                                                                 // 2250\n\t\treturn this;                                                                                                      // 2251\n\t},                                                                                                                 // 2252\n                                                                                                                    // 2253\n\t_layerAdd: function (layer) {                                                                                      // 2254\n\t\tlayer.onAdd(this);                                                                                                // 2255\n\t\tthis.fire('layeradd', {layer: layer});                                                                            // 2256\n\t},                                                                                                                 // 2257\n                                                                                                                    // 2258\n                                                                                                                    // 2259\n\t// private methods for getting map state                                                                           // 2260\n                                                                                                                    // 2261\n\t_getMapPanePos: function () {                                                                                      // 2262\n\t\treturn L.DomUtil.getPosition(this._mapPane);                                                                      // 2263\n\t},                                                                                                                 // 2264\n                                                                                                                    // 2265\n\t_moved: function () {                                                                                              // 2266\n\t\tvar pos = this._getMapPanePos();                                                                                  // 2267\n\t\treturn pos && !pos.equals([0, 0]);                                                                                // 2268\n\t},                                                                                                                 // 2269\n                                                                                                                    // 2270\n\t_getTopLeftPoint: function () {                                                                                    // 2271\n\t\treturn this.getPixelOrigin().subtract(this._getMapPanePos());                                                     // 2272\n\t},                                                                                                                 // 2273\n                                                                                                                    // 2274\n\t_getNewTopLeftPoint: function (center, zoom) {                                                                     // 2275\n\t\tvar viewHalf = this.getSize()._divideBy(2);                                                                       // 2276\n\t\t// TODO round on display, not calculation to increase precision?                                                  // 2277\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._round();                                                   // 2278\n\t},                                                                                                                 // 2279\n                                                                                                                    // 2280\n\t_latLngToNewLayerPoint: function (latlng, newZoom, newCenter) {                                                    // 2281\n\t\tvar topLeft = this._getNewTopLeftPoint(newCenter, newZoom).add(this._getMapPanePos());                            // 2282\n\t\treturn this.project(latlng, newZoom)._subtract(topLeft);                                                          // 2283\n\t},                                                                                                                 // 2284\n                                                                                                                    // 2285\n\t// layer point of the current center                                                                               // 2286\n\t_getCenterLayerPoint: function () {                                                                                // 2287\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));                                              // 2288\n\t},                                                                                                                 // 2289\n                                                                                                                    // 2290\n\t// offset of the specified place to the current center in pixels                                                   // 2291\n\t_getCenterOffset: function (latlng) {                                                                              // 2292\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());                                     // 2293\n\t},                                                                                                                 // 2294\n                                                                                                                    // 2295\n\t// adjust center for view to get inside bounds                                                                     // 2296\n\t_limitCenter: function (center, zoom, bounds) {                                                                    // 2297\n                                                                                                                    // 2298\n\t\tif (!bounds) { return center; }                                                                                   // 2299\n                                                                                                                    // 2300\n\t\tvar centerPoint = this.project(center, zoom),                                                                     // 2301\n\t\t    viewHalf = this.getSize().divideBy(2),                                                                        // 2302\n\t\t    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),                         // 2303\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);                                                     // 2304\n                                                                                                                    // 2305\n\t\treturn this.unproject(centerPoint.add(offset), zoom);                                                             // 2306\n\t},                                                                                                                 // 2307\n                                                                                                                    // 2308\n\t// adjust offset for view to get inside bounds                                                                     // 2309\n\t_limitOffset: function (offset, bounds) {                                                                          // 2310\n\t\tif (!bounds) { return offset; }                                                                                   // 2311\n                                                                                                                    // 2312\n\t\tvar viewBounds = this.getPixelBounds(),                                                                           // 2313\n\t\t    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));                             // 2314\n                                                                                                                    // 2315\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));                                                      // 2316\n\t},                                                                                                                 // 2317\n                                                                                                                    // 2318\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom                                  // 2319\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {                                                           // 2320\n\t\tvar nwOffset = this.project(maxBounds.getNorthWest(), zoom).subtract(pxBounds.min),                               // 2321\n\t\t    seOffset = this.project(maxBounds.getSouthEast(), zoom).subtract(pxBounds.max),                               // 2322\n                                                                                                                    // 2323\n\t\t    dx = this._rebound(nwOffset.x, -seOffset.x),                                                                  // 2324\n\t\t    dy = this._rebound(nwOffset.y, -seOffset.y);                                                                  // 2325\n                                                                                                                    // 2326\n\t\treturn new L.Point(dx, dy);                                                                                       // 2327\n\t},                                                                                                                 // 2328\n                                                                                                                    // 2329\n\t_rebound: function (left, right) {                                                                                 // 2330\n\t\treturn left + right > 0 ?                                                                                         // 2331\n\t\t\tMath.round(left - right) / 2 :                                                                                   // 2332\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));                                                   // 2333\n\t},                                                                                                                 // 2334\n                                                                                                                    // 2335\n\t_limitZoom: function (zoom) {                                                                                      // 2336\n\t\tvar min = this.getMinZoom(),                                                                                      // 2337\n\t\t    max = this.getMaxZoom();                                                                                      // 2338\n                                                                                                                    // 2339\n\t\treturn Math.max(min, Math.min(max, zoom));                                                                        // 2340\n\t}                                                                                                                  // 2341\n});                                                                                                                 // 2342\n                                                                                                                    // 2343\nL.map = function (id, options) {                                                                                    // 2344\n\treturn new L.Map(id, options);                                                                                     // 2345\n};                                                                                                                  // 2346\n                                                                                                                    // 2347\n                                                                                                                    // 2348\n/*                                                                                                                  // 2349\n * Mercator projection that takes into account that the Earth is not a perfect sphere.                              // 2350\n * Less popular than spherical mercator; used by projections like EPSG:3395.                                        // 2351\n */                                                                                                                 // 2352\n                                                                                                                    // 2353\nL.Projection.Mercator = {                                                                                           // 2354\n\tMAX_LATITUDE: 85.0840591556,                                                                                       // 2355\n                                                                                                                    // 2356\n\tR_MINOR: 6356752.314245179,                                                                                        // 2357\n\tR_MAJOR: 6378137,                                                                                                  // 2358\n                                                                                                                    // 2359\n\tproject: function (latlng) { // (LatLng) -> Point                                                                  // 2360\n\t\tvar d = L.LatLng.DEG_TO_RAD,                                                                                      // 2361\n\t\t    max = this.MAX_LATITUDE,                                                                                      // 2362\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),                                                              // 2363\n\t\t    r = this.R_MAJOR,                                                                                             // 2364\n\t\t    r2 = this.R_MINOR,                                                                                            // 2365\n\t\t    x = latlng.lng * d * r,                                                                                       // 2366\n\t\t    y = lat * d,                                                                                                  // 2367\n\t\t    tmp = r2 / r,                                                                                                 // 2368\n\t\t    eccent = Math.sqrt(1.0 - tmp * tmp),                                                                          // 2369\n\t\t    con = eccent * Math.sin(y);                                                                                   // 2370\n                                                                                                                    // 2371\n\t\tcon = Math.pow((1 - con) / (1 + con), eccent * 0.5);                                                              // 2372\n                                                                                                                    // 2373\n\t\tvar ts = Math.tan(0.5 * ((Math.PI * 0.5) - y)) / con;                                                             // 2374\n\t\ty = -r * Math.log(ts);                                                                                            // 2375\n                                                                                                                    // 2376\n\t\treturn new L.Point(x, y);                                                                                         // 2377\n\t},                                                                                                                 // 2378\n                                                                                                                    // 2379\n\tunproject: function (point) { // (Point, Boolean) -> LatLng                                                        // 2380\n\t\tvar d = L.LatLng.RAD_TO_DEG,                                                                                      // 2381\n\t\t    r = this.R_MAJOR,                                                                                             // 2382\n\t\t    r2 = this.R_MINOR,                                                                                            // 2383\n\t\t    lng = point.x * d / r,                                                                                        // 2384\n\t\t    tmp = r2 / r,                                                                                                 // 2385\n\t\t    eccent = Math.sqrt(1 - (tmp * tmp)),                                                                          // 2386\n\t\t    ts = Math.exp(- point.y / r),                                                                                 // 2387\n\t\t    phi = (Math.PI / 2) - 2 * Math.atan(ts),                                                                      // 2388\n\t\t    numIter = 15,                                                                                                 // 2389\n\t\t    tol = 1e-7,                                                                                                   // 2390\n\t\t    i = numIter,                                                                                                  // 2391\n\t\t    dphi = 0.1,                                                                                                   // 2392\n\t\t    con;                                                                                                          // 2393\n                                                                                                                    // 2394\n\t\twhile ((Math.abs(dphi) > tol) && (--i > 0)) {                                                                     // 2395\n\t\t\tcon = eccent * Math.sin(phi);                                                                                    // 2396\n\t\t\tdphi = (Math.PI / 2) - 2 * Math.atan(ts *                                                                        // 2397\n\t\t\t            Math.pow((1.0 - con) / (1.0 + con), 0.5 * eccent)) - phi;                                            // 2398\n\t\t\tphi += dphi;                                                                                                     // 2399\n\t\t}                                                                                                                 // 2400\n                                                                                                                    // 2401\n\t\treturn new L.LatLng(phi * d, lng);                                                                                // 2402\n\t}                                                                                                                  // 2403\n};                                                                                                                  // 2404\n                                                                                                                    // 2405\n                                                                                                                    // 2406\n                                                                                                                    // 2407\nL.CRS.EPSG3395 = L.extend({}, L.CRS, {                                                                              // 2408\n\tcode: 'EPSG:3395',                                                                                                 // 2409\n                                                                                                                    // 2410\n\tprojection: L.Projection.Mercator,                                                                                 // 2411\n                                                                                                                    // 2412\n\ttransformation: (function () {                                                                                     // 2413\n\t\tvar m = L.Projection.Mercator,                                                                                    // 2414\n\t\t    r = m.R_MAJOR,                                                                                                // 2415\n\t\t    scale = 0.5 / (Math.PI * r);                                                                                  // 2416\n                                                                                                                    // 2417\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);                                                             // 2418\n\t}())                                                                                                               // 2419\n});                                                                                                                 // 2420\n                                                                                                                    // 2421\n                                                                                                                    // 2422\n/*                                                                                                                  // 2423\n * L.TileLayer is used for standard xyz-numbered tile layers.                                                       // 2424\n */                                                                                                                 // 2425\n                                                                                                                    // 2426\nL.TileLayer = L.Class.extend({                                                                                      // 2427\n\tincludes: L.Mixin.Events,                                                                                          // 2428\n                                                                                                                    // 2429\n\toptions: {                                                                                                         // 2430\n\t\tminZoom: 0,                                                                                                       // 2431\n\t\tmaxZoom: 18,                                                                                                      // 2432\n\t\ttileSize: 256,                                                                                                    // 2433\n\t\tsubdomains: 'abc',                                                                                                // 2434\n\t\terrorTileUrl: '',                                                                                                 // 2435\n\t\tattribution: '',                                                                                                  // 2436\n\t\tzoomOffset: 0,                                                                                                    // 2437\n\t\topacity: 1,                                                                                                       // 2438\n\t\t/*                                                                                                                // 2439\n\t\tmaxNativeZoom: null,                                                                                              // 2440\n\t\tzIndex: null,                                                                                                     // 2441\n\t\ttms: false,                                                                                                       // 2442\n\t\tcontinuousWorld: false,                                                                                           // 2443\n\t\tnoWrap: false,                                                                                                    // 2444\n\t\tzoomReverse: false,                                                                                               // 2445\n\t\tdetectRetina: false,                                                                                              // 2446\n\t\treuseTiles: false,                                                                                                // 2447\n\t\tbounds: false,                                                                                                    // 2448\n\t\t*/                                                                                                                // 2449\n\t\tunloadInvisibleTiles: L.Browser.mobile,                                                                           // 2450\n\t\tupdateWhenIdle: L.Browser.mobile                                                                                  // 2451\n\t},                                                                                                                 // 2452\n                                                                                                                    // 2453\n\tinitialize: function (url, options) {                                                                              // 2454\n\t\toptions = L.setOptions(this, options);                                                                            // 2455\n                                                                                                                    // 2456\n\t\t// detecting retina displays, adjusting tileSize and zoom levels                                                  // 2457\n\t\tif (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {                                            // 2458\n                                                                                                                    // 2459\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);                                                             // 2460\n\t\t\toptions.zoomOffset++;                                                                                            // 2461\n                                                                                                                    // 2462\n\t\t\tif (options.minZoom > 0) {                                                                                       // 2463\n\t\t\t\toptions.minZoom--;                                                                                              // 2464\n\t\t\t}                                                                                                                // 2465\n\t\t\tthis.options.maxZoom--;                                                                                          // 2466\n\t\t}                                                                                                                 // 2467\n                                                                                                                    // 2468\n\t\tif (options.bounds) {                                                                                             // 2469\n\t\t\toptions.bounds = L.latLngBounds(options.bounds);                                                                 // 2470\n\t\t}                                                                                                                 // 2471\n                                                                                                                    // 2472\n\t\tthis._url = url;                                                                                                  // 2473\n                                                                                                                    // 2474\n\t\tvar subdomains = this.options.subdomains;                                                                         // 2475\n                                                                                                                    // 2476\n\t\tif (typeof subdomains === 'string') {                                                                             // 2477\n\t\t\tthis.options.subdomains = subdomains.split('');                                                                  // 2478\n\t\t}                                                                                                                 // 2479\n\t},                                                                                                                 // 2480\n                                                                                                                    // 2481\n\tonAdd: function (map) {                                                                                            // 2482\n\t\tthis._map = map;                                                                                                  // 2483\n\t\tthis._animated = map._zoomAnimated;                                                                               // 2484\n                                                                                                                    // 2485\n\t\t// create a container div for tiles                                                                               // 2486\n\t\tthis._initContainer();                                                                                            // 2487\n                                                                                                                    // 2488\n\t\t// set up events                                                                                                  // 2489\n\t\tmap.on({                                                                                                          // 2490\n\t\t\t'viewreset': this._reset,                                                                                        // 2491\n\t\t\t'moveend': this._update                                                                                          // 2492\n\t\t}, this);                                                                                                         // 2493\n                                                                                                                    // 2494\n\t\tif (this._animated) {                                                                                             // 2495\n\t\t\tmap.on({                                                                                                         // 2496\n\t\t\t\t'zoomanim': this._animateZoom,                                                                                  // 2497\n\t\t\t\t'zoomend': this._endZoomAnim                                                                                    // 2498\n\t\t\t}, this);                                                                                                        // 2499\n\t\t}                                                                                                                 // 2500\n                                                                                                                    // 2501\n\t\tif (!this.options.updateWhenIdle) {                                                                               // 2502\n\t\t\tthis._limitedUpdate = L.Util.limitExecByInterval(this._update, 150, this);                                       // 2503\n\t\t\tmap.on('move', this._limitedUpdate, this);                                                                       // 2504\n\t\t}                                                                                                                 // 2505\n                                                                                                                    // 2506\n\t\tthis._reset();                                                                                                    // 2507\n\t\tthis._update();                                                                                                   // 2508\n\t},                                                                                                                 // 2509\n                                                                                                                    // 2510\n\taddTo: function (map) {                                                                                            // 2511\n\t\tmap.addLayer(this);                                                                                               // 2512\n\t\treturn this;                                                                                                      // 2513\n\t},                                                                                                                 // 2514\n                                                                                                                    // 2515\n\tonRemove: function (map) {                                                                                         // 2516\n\t\tthis._container.parentNode.removeChild(this._container);                                                          // 2517\n                                                                                                                    // 2518\n\t\tmap.off({                                                                                                         // 2519\n\t\t\t'viewreset': this._reset,                                                                                        // 2520\n\t\t\t'moveend': this._update                                                                                          // 2521\n\t\t}, this);                                                                                                         // 2522\n                                                                                                                    // 2523\n\t\tif (this._animated) {                                                                                             // 2524\n\t\t\tmap.off({                                                                                                        // 2525\n\t\t\t\t'zoomanim': this._animateZoom,                                                                                  // 2526\n\t\t\t\t'zoomend': this._endZoomAnim                                                                                    // 2527\n\t\t\t}, this);                                                                                                        // 2528\n\t\t}                                                                                                                 // 2529\n                                                                                                                    // 2530\n\t\tif (!this.options.updateWhenIdle) {                                                                               // 2531\n\t\t\tmap.off('move', this._limitedUpdate, this);                                                                      // 2532\n\t\t}                                                                                                                 // 2533\n                                                                                                                    // 2534\n\t\tthis._container = null;                                                                                           // 2535\n\t\tthis._map = null;                                                                                                 // 2536\n\t},                                                                                                                 // 2537\n                                                                                                                    // 2538\n\tbringToFront: function () {                                                                                        // 2539\n\t\tvar pane = this._map._panes.tilePane;                                                                             // 2540\n                                                                                                                    // 2541\n\t\tif (this._container) {                                                                                            // 2542\n\t\t\tpane.appendChild(this._container);                                                                               // 2543\n\t\t\tthis._setAutoZIndex(pane, Math.max);                                                                             // 2544\n\t\t}                                                                                                                 // 2545\n                                                                                                                    // 2546\n\t\treturn this;                                                                                                      // 2547\n\t},                                                                                                                 // 2548\n                                                                                                                    // 2549\n\tbringToBack: function () {                                                                                         // 2550\n\t\tvar pane = this._map._panes.tilePane;                                                                             // 2551\n                                                                                                                    // 2552\n\t\tif (this._container) {                                                                                            // 2553\n\t\t\tpane.insertBefore(this._container, pane.firstChild);                                                             // 2554\n\t\t\tthis._setAutoZIndex(pane, Math.min);                                                                             // 2555\n\t\t}                                                                                                                 // 2556\n                                                                                                                    // 2557\n\t\treturn this;                                                                                                      // 2558\n\t},                                                                                                                 // 2559\n                                                                                                                    // 2560\n\tgetAttribution: function () {                                                                                      // 2561\n\t\treturn this.options.attribution;                                                                                  // 2562\n\t},                                                                                                                 // 2563\n                                                                                                                    // 2564\n\tgetContainer: function () {                                                                                        // 2565\n\t\treturn this._container;                                                                                           // 2566\n\t},                                                                                                                 // 2567\n                                                                                                                    // 2568\n\tsetOpacity: function (opacity) {                                                                                   // 2569\n\t\tthis.options.opacity = opacity;                                                                                   // 2570\n                                                                                                                    // 2571\n\t\tif (this._map) {                                                                                                  // 2572\n\t\t\tthis._updateOpacity();                                                                                           // 2573\n\t\t}                                                                                                                 // 2574\n                                                                                                                    // 2575\n\t\treturn this;                                                                                                      // 2576\n\t},                                                                                                                 // 2577\n                                                                                                                    // 2578\n\tsetZIndex: function (zIndex) {                                                                                     // 2579\n\t\tthis.options.zIndex = zIndex;                                                                                     // 2580\n\t\tthis._updateZIndex();                                                                                             // 2581\n                                                                                                                    // 2582\n\t\treturn this;                                                                                                      // 2583\n\t},                                                                                                                 // 2584\n                                                                                                                    // 2585\n\tsetUrl: function (url, noRedraw) {                                                                                 // 2586\n\t\tthis._url = url;                                                                                                  // 2587\n                                                                                                                    // 2588\n\t\tif (!noRedraw) {                                                                                                  // 2589\n\t\t\tthis.redraw();                                                                                                   // 2590\n\t\t}                                                                                                                 // 2591\n                                                                                                                    // 2592\n\t\treturn this;                                                                                                      // 2593\n\t},                                                                                                                 // 2594\n                                                                                                                    // 2595\n\tredraw: function () {                                                                                              // 2596\n\t\tif (this._map) {                                                                                                  // 2597\n\t\t\tthis._reset({hard: true});                                                                                       // 2598\n\t\t\tthis._update();                                                                                                  // 2599\n\t\t}                                                                                                                 // 2600\n\t\treturn this;                                                                                                      // 2601\n\t},                                                                                                                 // 2602\n                                                                                                                    // 2603\n\t_updateZIndex: function () {                                                                                       // 2604\n\t\tif (this._container && this.options.zIndex !== undefined) {                                                       // 2605\n\t\t\tthis._container.style.zIndex = this.options.zIndex;                                                              // 2606\n\t\t}                                                                                                                 // 2607\n\t},                                                                                                                 // 2608\n                                                                                                                    // 2609\n\t_setAutoZIndex: function (pane, compare) {                                                                         // 2610\n                                                                                                                    // 2611\n\t\tvar layers = pane.children,                                                                                       // 2612\n\t\t    edgeZIndex = -compare(Infinity, -Infinity), // -Infinity for max, Infinity for min                            // 2613\n\t\t    zIndex, i, len;                                                                                               // 2614\n                                                                                                                    // 2615\n\t\tfor (i = 0, len = layers.length; i < len; i++) {                                                                  // 2616\n                                                                                                                    // 2617\n\t\t\tif (layers[i] !== this._container) {                                                                             // 2618\n\t\t\t\tzIndex = parseInt(layers[i].style.zIndex, 10);                                                                  // 2619\n                                                                                                                    // 2620\n\t\t\t\tif (!isNaN(zIndex)) {                                                                                           // 2621\n\t\t\t\t\tedgeZIndex = compare(edgeZIndex, zIndex);                                                                      // 2622\n\t\t\t\t}                                                                                                               // 2623\n\t\t\t}                                                                                                                // 2624\n\t\t}                                                                                                                 // 2625\n                                                                                                                    // 2626\n\t\tthis.options.zIndex = this._container.style.zIndex =                                                              // 2627\n\t\t        (isFinite(edgeZIndex) ? edgeZIndex : 0) + compare(1, -1);                                                 // 2628\n\t},                                                                                                                 // 2629\n                                                                                                                    // 2630\n\t_updateOpacity: function () {                                                                                      // 2631\n\t\tvar i,                                                                                                            // 2632\n\t\t    tiles = this._tiles;                                                                                          // 2633\n                                                                                                                    // 2634\n\t\tif (L.Browser.ielt9) {                                                                                            // 2635\n\t\t\tfor (i in tiles) {                                                                                               // 2636\n\t\t\t\tL.DomUtil.setOpacity(tiles[i], this.options.opacity);                                                           // 2637\n\t\t\t}                                                                                                                // 2638\n\t\t} else {                                                                                                          // 2639\n\t\t\tL.DomUtil.setOpacity(this._container, this.options.opacity);                                                     // 2640\n\t\t}                                                                                                                 // 2641\n\t},                                                                                                                 // 2642\n                                                                                                                    // 2643\n\t_initContainer: function () {                                                                                      // 2644\n\t\tvar tilePane = this._map._panes.tilePane;                                                                         // 2645\n                                                                                                                    // 2646\n\t\tif (!this._container) {                                                                                           // 2647\n\t\t\tthis._container = L.DomUtil.create('div', 'leaflet-layer');                                                      // 2648\n                                                                                                                    // 2649\n\t\t\tthis._updateZIndex();                                                                                            // 2650\n                                                                                                                    // 2651\n\t\t\tif (this._animated) {                                                                                            // 2652\n\t\t\t\tvar className = 'leaflet-tile-container';                                                                       // 2653\n                                                                                                                    // 2654\n\t\t\t\tthis._bgBuffer = L.DomUtil.create('div', className, this._container);                                           // 2655\n\t\t\t\tthis._tileContainer = L.DomUtil.create('div', className, this._container);                                      // 2656\n                                                                                                                    // 2657\n\t\t\t} else {                                                                                                         // 2658\n\t\t\t\tthis._tileContainer = this._container;                                                                          // 2659\n\t\t\t}                                                                                                                // 2660\n                                                                                                                    // 2661\n\t\t\ttilePane.appendChild(this._container);                                                                           // 2662\n                                                                                                                    // 2663\n\t\t\tif (this.options.opacity < 1) {                                                                                  // 2664\n\t\t\t\tthis._updateOpacity();                                                                                          // 2665\n\t\t\t}                                                                                                                // 2666\n\t\t}                                                                                                                 // 2667\n\t},                                                                                                                 // 2668\n                                                                                                                    // 2669\n\t_reset: function (e) {                                                                                             // 2670\n\t\tfor (var key in this._tiles) {                                                                                    // 2671\n\t\t\tthis.fire('tileunload', {tile: this._tiles[key]});                                                               // 2672\n\t\t}                                                                                                                 // 2673\n                                                                                                                    // 2674\n\t\tthis._tiles = {};                                                                                                 // 2675\n\t\tthis._tilesToLoad = 0;                                                                                            // 2676\n                                                                                                                    // 2677\n\t\tif (this.options.reuseTiles) {                                                                                    // 2678\n\t\t\tthis._unusedTiles = [];                                                                                          // 2679\n\t\t}                                                                                                                 // 2680\n                                                                                                                    // 2681\n\t\tthis._tileContainer.innerHTML = '';                                                                               // 2682\n                                                                                                                    // 2683\n\t\tif (this._animated && e && e.hard) {                                                                              // 2684\n\t\t\tthis._clearBgBuffer();                                                                                           // 2685\n\t\t}                                                                                                                 // 2686\n                                                                                                                    // 2687\n\t\tthis._initContainer();                                                                                            // 2688\n\t},                                                                                                                 // 2689\n                                                                                                                    // 2690\n\t_getTileSize: function () {                                                                                        // 2691\n\t\tvar map = this._map,                                                                                              // 2692\n\t\t    zoom = map.getZoom() + this.options.zoomOffset,                                                               // 2693\n\t\t    zoomN = this.options.maxNativeZoom,                                                                           // 2694\n\t\t    tileSize = this.options.tileSize;                                                                             // 2695\n                                                                                                                    // 2696\n\t\tif (zoomN && zoom > zoomN) {                                                                                      // 2697\n\t\t\ttileSize = Math.round(map.getZoomScale(zoom) / map.getZoomScale(zoomN) * tileSize);                              // 2698\n\t\t}                                                                                                                 // 2699\n                                                                                                                    // 2700\n\t\treturn tileSize;                                                                                                  // 2701\n\t},                                                                                                                 // 2702\n                                                                                                                    // 2703\n\t_update: function () {                                                                                             // 2704\n                                                                                                                    // 2705\n\t\tif (!this._map) { return; }                                                                                       // 2706\n                                                                                                                    // 2707\n\t\tvar map = this._map,                                                                                              // 2708\n\t\t    bounds = map.getPixelBounds(),                                                                                // 2709\n\t\t    zoom = map.getZoom(),                                                                                         // 2710\n\t\t    tileSize = this._getTileSize();                                                                               // 2711\n                                                                                                                    // 2712\n\t\tif (zoom > this.options.maxZoom || zoom < this.options.minZoom) {                                                 // 2713\n\t\t\treturn;                                                                                                          // 2714\n\t\t}                                                                                                                 // 2715\n                                                                                                                    // 2716\n\t\tvar tileBounds = L.bounds(                                                                                        // 2717\n\t\t        bounds.min.divideBy(tileSize)._floor(),                                                                   // 2718\n\t\t        bounds.max.divideBy(tileSize)._floor());                                                                  // 2719\n                                                                                                                    // 2720\n\t\tthis._addTilesFromCenterOut(tileBounds);                                                                          // 2721\n                                                                                                                    // 2722\n\t\tif (this.options.unloadInvisibleTiles || this.options.reuseTiles) {                                               // 2723\n\t\t\tthis._removeOtherTiles(tileBounds);                                                                              // 2724\n\t\t}                                                                                                                 // 2725\n\t},                                                                                                                 // 2726\n                                                                                                                    // 2727\n\t_addTilesFromCenterOut: function (bounds) {                                                                        // 2728\n\t\tvar queue = [],                                                                                                   // 2729\n\t\t    center = bounds.getCenter();                                                                                  // 2730\n                                                                                                                    // 2731\n\t\tvar j, i, point;                                                                                                  // 2732\n                                                                                                                    // 2733\n\t\tfor (j = bounds.min.y; j <= bounds.max.y; j++) {                                                                  // 2734\n\t\t\tfor (i = bounds.min.x; i <= bounds.max.x; i++) {                                                                 // 2735\n\t\t\t\tpoint = new L.Point(i, j);                                                                                      // 2736\n                                                                                                                    // 2737\n\t\t\t\tif (this._tileShouldBeLoaded(point)) {                                                                          // 2738\n\t\t\t\t\tqueue.push(point);                                                                                             // 2739\n\t\t\t\t}                                                                                                               // 2740\n\t\t\t}                                                                                                                // 2741\n\t\t}                                                                                                                 // 2742\n                                                                                                                    // 2743\n\t\tvar tilesToLoad = queue.length;                                                                                   // 2744\n                                                                                                                    // 2745\n\t\tif (tilesToLoad === 0) { return; }                                                                                // 2746\n                                                                                                                    // 2747\n\t\t// load tiles in order of their distance to center                                                                // 2748\n\t\tqueue.sort(function (a, b) {                                                                                      // 2749\n\t\t\treturn a.distanceTo(center) - b.distanceTo(center);                                                              // 2750\n\t\t});                                                                                                               // 2751\n                                                                                                                    // 2752\n\t\tvar fragment = document.createDocumentFragment();                                                                 // 2753\n                                                                                                                    // 2754\n\t\t// if its the first batch of tiles to load                                                                        // 2755\n\t\tif (!this._tilesToLoad) {                                                                                         // 2756\n\t\t\tthis.fire('loading');                                                                                            // 2757\n\t\t}                                                                                                                 // 2758\n                                                                                                                    // 2759\n\t\tthis._tilesToLoad += tilesToLoad;                                                                                 // 2760\n                                                                                                                    // 2761\n\t\tfor (i = 0; i < tilesToLoad; i++) {                                                                               // 2762\n\t\t\tthis._addTile(queue[i], fragment);                                                                               // 2763\n\t\t}                                                                                                                 // 2764\n                                                                                                                    // 2765\n\t\tthis._tileContainer.appendChild(fragment);                                                                        // 2766\n\t},                                                                                                                 // 2767\n                                                                                                                    // 2768\n\t_tileShouldBeLoaded: function (tilePoint) {                                                                        // 2769\n\t\tif ((tilePoint.x + ':' + tilePoint.y) in this._tiles) {                                                           // 2770\n\t\t\treturn false; // already loaded                                                                                  // 2771\n\t\t}                                                                                                                 // 2772\n                                                                                                                    // 2773\n\t\tvar options = this.options;                                                                                       // 2774\n                                                                                                                    // 2775\n\t\tif (!options.continuousWorld) {                                                                                   // 2776\n\t\t\tvar limit = this._getWrapTileNum();                                                                              // 2777\n                                                                                                                    // 2778\n\t\t\t// don't load if exceeds world bounds                                                                            // 2779\n\t\t\tif ((options.noWrap && (tilePoint.x < 0 || tilePoint.x >= limit.x)) ||                                           // 2780\n\t\t\t\ttilePoint.y < 0 || tilePoint.y >= limit.y) { return false; }                                                    // 2781\n\t\t}                                                                                                                 // 2782\n                                                                                                                    // 2783\n\t\tif (options.bounds) {                                                                                             // 2784\n\t\t\tvar tileSize = options.tileSize,                                                                                 // 2785\n\t\t\t    nwPoint = tilePoint.multiplyBy(tileSize),                                                                    // 2786\n\t\t\t    sePoint = nwPoint.add([tileSize, tileSize]),                                                                 // 2787\n\t\t\t    nw = this._map.unproject(nwPoint),                                                                           // 2788\n\t\t\t    se = this._map.unproject(sePoint);                                                                           // 2789\n                                                                                                                    // 2790\n\t\t\t// TODO temporary hack, will be removed after refactoring projections                                            // 2791\n\t\t\t// https://github.com/Leaflet/Leaflet/issues/1618                                                                // 2792\n\t\t\tif (!options.continuousWorld && !options.noWrap) {                                                               // 2793\n\t\t\t\tnw = nw.wrap();                                                                                                 // 2794\n\t\t\t\tse = se.wrap();                                                                                                 // 2795\n\t\t\t}                                                                                                                // 2796\n                                                                                                                    // 2797\n\t\t\tif (!options.bounds.intersects([nw, se])) { return false; }                                                      // 2798\n\t\t}                                                                                                                 // 2799\n                                                                                                                    // 2800\n\t\treturn true;                                                                                                      // 2801\n\t},                                                                                                                 // 2802\n                                                                                                                    // 2803\n\t_removeOtherTiles: function (bounds) {                                                                             // 2804\n\t\tvar kArr, x, y, key;                                                                                              // 2805\n                                                                                                                    // 2806\n\t\tfor (key in this._tiles) {                                                                                        // 2807\n\t\t\tkArr = key.split(':');                                                                                           // 2808\n\t\t\tx = parseInt(kArr[0], 10);                                                                                       // 2809\n\t\t\ty = parseInt(kArr[1], 10);                                                                                       // 2810\n                                                                                                                    // 2811\n\t\t\t// remove tile if it's out of bounds                                                                             // 2812\n\t\t\tif (x < bounds.min.x || x > bounds.max.x || y < bounds.min.y || y > bounds.max.y) {                              // 2813\n\t\t\t\tthis._removeTile(key);                                                                                          // 2814\n\t\t\t}                                                                                                                // 2815\n\t\t}                                                                                                                 // 2816\n\t},                                                                                                                 // 2817\n                                                                                                                    // 2818\n\t_removeTile: function (key) {                                                                                      // 2819\n\t\tvar tile = this._tiles[key];                                                                                      // 2820\n                                                                                                                    // 2821\n\t\tthis.fire('tileunload', {tile: tile, url: tile.src});                                                             // 2822\n                                                                                                                    // 2823\n\t\tif (this.options.reuseTiles) {                                                                                    // 2824\n\t\t\tL.DomUtil.removeClass(tile, 'leaflet-tile-loaded');                                                              // 2825\n\t\t\tthis._unusedTiles.push(tile);                                                                                    // 2826\n                                                                                                                    // 2827\n\t\t} else if (tile.parentNode === this._tileContainer) {                                                             // 2828\n\t\t\tthis._tileContainer.removeChild(tile);                                                                           // 2829\n\t\t}                                                                                                                 // 2830\n                                                                                                                    // 2831\n\t\t// for https://github.com/CloudMade/Leaflet/issues/137                                                            // 2832\n\t\tif (!L.Browser.android) {                                                                                         // 2833\n\t\t\ttile.onload = null;                                                                                              // 2834\n\t\t\ttile.src = L.Util.emptyImageUrl;                                                                                 // 2835\n\t\t}                                                                                                                 // 2836\n                                                                                                                    // 2837\n\t\tdelete this._tiles[key];                                                                                          // 2838\n\t},                                                                                                                 // 2839\n                                                                                                                    // 2840\n\t_addTile: function (tilePoint, container) {                                                                        // 2841\n\t\tvar tilePos = this._getTilePos(tilePoint);                                                                        // 2842\n                                                                                                                    // 2843\n\t\t// get unused tile - or create a new tile                                                                         // 2844\n\t\tvar tile = this._getTile();                                                                                       // 2845\n                                                                                                                    // 2846\n\t\t/*                                                                                                                // 2847\n\t\tChrome 20 layouts much faster with top/left (verify with timeline, frames)                                        // 2848\n\t\tAndroid 4 browser has display issues with top/left and requires transform instead                                 // 2849\n\t\t(other browsers don't currently care) - see debug/hacks/jitter.html for an example                                // 2850\n\t\t*/                                                                                                                // 2851\n\t\tL.DomUtil.setPosition(tile, tilePos, L.Browser.chrome);                                                           // 2852\n                                                                                                                    // 2853\n\t\tthis._tiles[tilePoint.x + ':' + tilePoint.y] = tile;                                                              // 2854\n                                                                                                                    // 2855\n\t\tthis._loadTile(tile, tilePoint);                                                                                  // 2856\n                                                                                                                    // 2857\n\t\tif (tile.parentNode !== this._tileContainer) {                                                                    // 2858\n\t\t\tcontainer.appendChild(tile);                                                                                     // 2859\n\t\t}                                                                                                                 // 2860\n\t},                                                                                                                 // 2861\n                                                                                                                    // 2862\n\t_getZoomForUrl: function () {                                                                                      // 2863\n                                                                                                                    // 2864\n\t\tvar options = this.options,                                                                                       // 2865\n\t\t    zoom = this._map.getZoom();                                                                                   // 2866\n                                                                                                                    // 2867\n\t\tif (options.zoomReverse) {                                                                                        // 2868\n\t\t\tzoom = options.maxZoom - zoom;                                                                                   // 2869\n\t\t}                                                                                                                 // 2870\n                                                                                                                    // 2871\n\t\tzoom += options.zoomOffset;                                                                                       // 2872\n                                                                                                                    // 2873\n\t\treturn options.maxNativeZoom ? Math.min(zoom, options.maxNativeZoom) : zoom;                                      // 2874\n\t},                                                                                                                 // 2875\n                                                                                                                    // 2876\n\t_getTilePos: function (tilePoint) {                                                                                // 2877\n\t\tvar origin = this._map.getPixelOrigin(),                                                                          // 2878\n\t\t    tileSize = this._getTileSize();                                                                               // 2879\n                                                                                                                    // 2880\n\t\treturn tilePoint.multiplyBy(tileSize).subtract(origin);                                                           // 2881\n\t},                                                                                                                 // 2882\n                                                                                                                    // 2883\n\t// image-specific code (override to implement e.g. Canvas or SVG tile layer)                                       // 2884\n                                                                                                                    // 2885\n\tgetTileUrl: function (tilePoint) {                                                                                 // 2886\n\t\treturn L.Util.template(this._url, L.extend({                                                                      // 2887\n\t\t\ts: this._getSubdomain(tilePoint),                                                                                // 2888\n\t\t\tz: tilePoint.z,                                                                                                  // 2889\n\t\t\tx: tilePoint.x,                                                                                                  // 2890\n\t\t\ty: tilePoint.y                                                                                                   // 2891\n\t\t}, this.options));                                                                                                // 2892\n\t},                                                                                                                 // 2893\n                                                                                                                    // 2894\n\t_getWrapTileNum: function () {                                                                                     // 2895\n\t\tvar crs = this._map.options.crs,                                                                                  // 2896\n\t\t    size = crs.getSize(this._map.getZoom());                                                                      // 2897\n\t\treturn size.divideBy(this._getTileSize())._floor();                                                               // 2898\n\t},                                                                                                                 // 2899\n                                                                                                                    // 2900\n\t_adjustTilePoint: function (tilePoint) {                                                                           // 2901\n                                                                                                                    // 2902\n\t\tvar limit = this._getWrapTileNum();                                                                               // 2903\n                                                                                                                    // 2904\n\t\t// wrap tile coordinates                                                                                          // 2905\n\t\tif (!this.options.continuousWorld && !this.options.noWrap) {                                                      // 2906\n\t\t\ttilePoint.x = ((tilePoint.x % limit.x) + limit.x) % limit.x;                                                     // 2907\n\t\t}                                                                                                                 // 2908\n                                                                                                                    // 2909\n\t\tif (this.options.tms) {                                                                                           // 2910\n\t\t\ttilePoint.y = limit.y - tilePoint.y - 1;                                                                         // 2911\n\t\t}                                                                                                                 // 2912\n                                                                                                                    // 2913\n\t\ttilePoint.z = this._getZoomForUrl();                                                                              // 2914\n\t},                                                                                                                 // 2915\n                                                                                                                    // 2916\n\t_getSubdomain: function (tilePoint) {                                                                              // 2917\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;                                 // 2918\n\t\treturn this.options.subdomains[index];                                                                            // 2919\n\t},                                                                                                                 // 2920\n                                                                                                                    // 2921\n\t_getTile: function () {                                                                                            // 2922\n\t\tif (this.options.reuseTiles && this._unusedTiles.length > 0) {                                                    // 2923\n\t\t\tvar tile = this._unusedTiles.pop();                                                                              // 2924\n\t\t\tthis._resetTile(tile);                                                                                           // 2925\n\t\t\treturn tile;                                                                                                     // 2926\n\t\t}                                                                                                                 // 2927\n\t\treturn this._createTile();                                                                                        // 2928\n\t},                                                                                                                 // 2929\n                                                                                                                    // 2930\n\t// Override if data stored on a tile needs to be cleaned up before reuse                                           // 2931\n\t_resetTile: function (/*tile*/) {},                                                                                // 2932\n                                                                                                                    // 2933\n\t_createTile: function () {                                                                                         // 2934\n\t\tvar tile = L.DomUtil.create('img', 'leaflet-tile');                                                               // 2935\n\t\ttile.style.width = tile.style.height = this._getTileSize() + 'px';                                                // 2936\n\t\ttile.galleryimg = 'no';                                                                                           // 2937\n                                                                                                                    // 2938\n\t\ttile.onselectstart = tile.onmousemove = L.Util.falseFn;                                                           // 2939\n                                                                                                                    // 2940\n\t\tif (L.Browser.ielt9 && this.options.opacity !== undefined) {                                                      // 2941\n\t\t\tL.DomUtil.setOpacity(tile, this.options.opacity);                                                                // 2942\n\t\t}                                                                                                                 // 2943\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android                                            // 2944\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078                                                                 // 2945\n\t\tif (L.Browser.mobileWebkit3d) {                                                                                   // 2946\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';                                                                  // 2947\n\t\t}                                                                                                                 // 2948\n\t\treturn tile;                                                                                                      // 2949\n\t},                                                                                                                 // 2950\n                                                                                                                    // 2951\n\t_loadTile: function (tile, tilePoint) {                                                                            // 2952\n\t\ttile._layer  = this;                                                                                              // 2953\n\t\ttile.onload  = this._tileOnLoad;                                                                                  // 2954\n\t\ttile.onerror = this._tileOnError;                                                                                 // 2955\n                                                                                                                    // 2956\n\t\tthis._adjustTilePoint(tilePoint);                                                                                 // 2957\n\t\ttile.src     = this.getTileUrl(tilePoint);                                                                        // 2958\n                                                                                                                    // 2959\n\t\tthis.fire('tileloadstart', {                                                                                      // 2960\n\t\t\ttile: tile,                                                                                                      // 2961\n\t\t\turl: tile.src                                                                                                    // 2962\n\t\t});                                                                                                               // 2963\n\t},                                                                                                                 // 2964\n                                                                                                                    // 2965\n\t_tileLoaded: function () {                                                                                         // 2966\n\t\tthis._tilesToLoad--;                                                                                              // 2967\n                                                                                                                    // 2968\n\t\tif (this._animated) {                                                                                             // 2969\n\t\t\tL.DomUtil.addClass(this._tileContainer, 'leaflet-zoom-animated');                                                // 2970\n\t\t}                                                                                                                 // 2971\n                                                                                                                    // 2972\n\t\tif (!this._tilesToLoad) {                                                                                         // 2973\n\t\t\tthis.fire('load');                                                                                               // 2974\n                                                                                                                    // 2975\n\t\t\tif (this._animated) {                                                                                            // 2976\n\t\t\t\t// clear scaled tiles after all new tiles are loaded (for performance)                                          // 2977\n\t\t\t\tclearTimeout(this._clearBgBufferTimer);                                                                         // 2978\n\t\t\t\tthis._clearBgBufferTimer = setTimeout(L.bind(this._clearBgBuffer, this), 500);                                  // 2979\n\t\t\t}                                                                                                                // 2980\n\t\t}                                                                                                                 // 2981\n\t},                                                                                                                 // 2982\n                                                                                                                    // 2983\n\t_tileOnLoad: function () {                                                                                         // 2984\n\t\tvar layer = this._layer;                                                                                          // 2985\n                                                                                                                    // 2986\n\t\t//Only if we are loading an actual image                                                                          // 2987\n\t\tif (this.src !== L.Util.emptyImageUrl) {                                                                          // 2988\n\t\t\tL.DomUtil.addClass(this, 'leaflet-tile-loaded');                                                                 // 2989\n                                                                                                                    // 2990\n\t\t\tlayer.fire('tileload', {                                                                                         // 2991\n\t\t\t\ttile: this,                                                                                                     // 2992\n\t\t\t\turl: this.src                                                                                                   // 2993\n\t\t\t});                                                                                                              // 2994\n\t\t}                                                                                                                 // 2995\n                                                                                                                    // 2996\n\t\tlayer._tileLoaded();                                                                                              // 2997\n\t},                                                                                                                 // 2998\n                                                                                                                    // 2999\n\t_tileOnError: function () {                                                                                        // 3000\n\t\tvar layer = this._layer;                                                                                          // 3001\n                                                                                                                    // 3002\n\t\tlayer.fire('tileerror', {                                                                                         // 3003\n\t\t\ttile: this,                                                                                                      // 3004\n\t\t\turl: this.src                                                                                                    // 3005\n\t\t});                                                                                                               // 3006\n                                                                                                                    // 3007\n\t\tvar newUrl = layer.options.errorTileUrl;                                                                          // 3008\n\t\tif (newUrl) {                                                                                                     // 3009\n\t\t\tthis.src = newUrl;                                                                                               // 3010\n\t\t}                                                                                                                 // 3011\n                                                                                                                    // 3012\n\t\tlayer._tileLoaded();                                                                                              // 3013\n\t}                                                                                                                  // 3014\n});                                                                                                                 // 3015\n                                                                                                                    // 3016\nL.tileLayer = function (url, options) {                                                                             // 3017\n\treturn new L.TileLayer(url, options);                                                                              // 3018\n};                                                                                                                  // 3019\n                                                                                                                    // 3020\n                                                                                                                    // 3021\n/*                                                                                                                  // 3022\n * L.TileLayer.WMS is used for putting WMS tile layers on the map.                                                  // 3023\n */                                                                                                                 // 3024\n                                                                                                                    // 3025\nL.TileLayer.WMS = L.TileLayer.extend({                                                                              // 3026\n                                                                                                                    // 3027\n\tdefaultWmsParams: {                                                                                                // 3028\n\t\tservice: 'WMS',                                                                                                   // 3029\n\t\trequest: 'GetMap',                                                                                                // 3030\n\t\tversion: '1.1.1',                                                                                                 // 3031\n\t\tlayers: '',                                                                                                       // 3032\n\t\tstyles: '',                                                                                                       // 3033\n\t\tformat: 'image/jpeg',                                                                                             // 3034\n\t\ttransparent: false                                                                                                // 3035\n\t},                                                                                                                 // 3036\n                                                                                                                    // 3037\n\tinitialize: function (url, options) { // (String, Object)                                                          // 3038\n                                                                                                                    // 3039\n\t\tthis._url = url;                                                                                                  // 3040\n                                                                                                                    // 3041\n\t\tvar wmsParams = L.extend({}, this.defaultWmsParams),                                                              // 3042\n\t\t    tileSize = options.tileSize || this.options.tileSize;                                                         // 3043\n                                                                                                                    // 3044\n\t\tif (options.detectRetina && L.Browser.retina) {                                                                   // 3045\n\t\t\twmsParams.width = wmsParams.height = tileSize * 2;                                                               // 3046\n\t\t} else {                                                                                                          // 3047\n\t\t\twmsParams.width = wmsParams.height = tileSize;                                                                   // 3048\n\t\t}                                                                                                                 // 3049\n                                                                                                                    // 3050\n\t\tfor (var i in options) {                                                                                          // 3051\n\t\t\t// all keys that are not TileLayer options go to WMS params                                                      // 3052\n\t\t\tif (!this.options.hasOwnProperty(i) && i !== 'crs') {                                                            // 3053\n\t\t\t\twmsParams[i] = options[i];                                                                                      // 3054\n\t\t\t}                                                                                                                // 3055\n\t\t}                                                                                                                 // 3056\n                                                                                                                    // 3057\n\t\tthis.wmsParams = wmsParams;                                                                                       // 3058\n                                                                                                                    // 3059\n\t\tL.setOptions(this, options);                                                                                      // 3060\n\t},                                                                                                                 // 3061\n                                                                                                                    // 3062\n\tonAdd: function (map) {                                                                                            // 3063\n                                                                                                                    // 3064\n\t\tthis._crs = this.options.crs || map.options.crs;                                                                  // 3065\n                                                                                                                    // 3066\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);                                                            // 3067\n                                                                                                                    // 3068\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';                                                      // 3069\n\t\tthis.wmsParams[projectionKey] = this._crs.code;                                                                   // 3070\n                                                                                                                    // 3071\n\t\tL.TileLayer.prototype.onAdd.call(this, map);                                                                      // 3072\n\t},                                                                                                                 // 3073\n                                                                                                                    // 3074\n\tgetTileUrl: function (tilePoint) { // (Point, Number) -> String                                                    // 3075\n                                                                                                                    // 3076\n\t\tvar map = this._map,                                                                                              // 3077\n\t\t    tileSize = this.options.tileSize,                                                                             // 3078\n                                                                                                                    // 3079\n\t\t    nwPoint = tilePoint.multiplyBy(tileSize),                                                                     // 3080\n\t\t    sePoint = nwPoint.add([tileSize, tileSize]),                                                                  // 3081\n                                                                                                                    // 3082\n\t\t    nw = this._crs.project(map.unproject(nwPoint, tilePoint.z)),                                                  // 3083\n\t\t    se = this._crs.project(map.unproject(sePoint, tilePoint.z)),                                                  // 3084\n\t\t    bbox = this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?                                              // 3085\n\t\t        [se.y, nw.x, nw.y, se.x].join(',') :                                                                      // 3086\n\t\t        [nw.x, se.y, se.x, nw.y].join(','),                                                                       // 3087\n                                                                                                                    // 3088\n\t\t    url = L.Util.template(this._url, {s: this._getSubdomain(tilePoint)});                                         // 3089\n                                                                                                                    // 3090\n\t\treturn url + L.Util.getParamString(this.wmsParams, url, true) + '&BBOX=' + bbox;                                  // 3091\n\t},                                                                                                                 // 3092\n                                                                                                                    // 3093\n\tsetParams: function (params, noRedraw) {                                                                           // 3094\n                                                                                                                    // 3095\n\t\tL.extend(this.wmsParams, params);                                                                                 // 3096\n                                                                                                                    // 3097\n\t\tif (!noRedraw) {                                                                                                  // 3098\n\t\t\tthis.redraw();                                                                                                   // 3099\n\t\t}                                                                                                                 // 3100\n                                                                                                                    // 3101\n\t\treturn this;                                                                                                      // 3102\n\t}                                                                                                                  // 3103\n});                                                                                                                 // 3104\n                                                                                                                    // 3105\nL.tileLayer.wms = function (url, options) {                                                                         // 3106\n\treturn new L.TileLayer.WMS(url, options);                                                                          // 3107\n};                                                                                                                  // 3108\n                                                                                                                    // 3109\n                                                                                                                    // 3110\n/*                                                                                                                  // 3111\n * L.TileLayer.Canvas is a class that you can use as a base for creating                                            // 3112\n * dynamically drawn Canvas-based tile layers.                                                                      // 3113\n */                                                                                                                 // 3114\n                                                                                                                    // 3115\nL.TileLayer.Canvas = L.TileLayer.extend({                                                                           // 3116\n\toptions: {                                                                                                         // 3117\n\t\tasync: false                                                                                                      // 3118\n\t},                                                                                                                 // 3119\n                                                                                                                    // 3120\n\tinitialize: function (options) {                                                                                   // 3121\n\t\tL.setOptions(this, options);                                                                                      // 3122\n\t},                                                                                                                 // 3123\n                                                                                                                    // 3124\n\tredraw: function () {                                                                                              // 3125\n\t\tif (this._map) {                                                                                                  // 3126\n\t\t\tthis._reset({hard: true});                                                                                       // 3127\n\t\t\tthis._update();                                                                                                  // 3128\n\t\t}                                                                                                                 // 3129\n                                                                                                                    // 3130\n\t\tfor (var i in this._tiles) {                                                                                      // 3131\n\t\t\tthis._redrawTile(this._tiles[i]);                                                                                // 3132\n\t\t}                                                                                                                 // 3133\n\t\treturn this;                                                                                                      // 3134\n\t},                                                                                                                 // 3135\n                                                                                                                    // 3136\n\t_redrawTile: function (tile) {                                                                                     // 3137\n\t\tthis.drawTile(tile, tile._tilePoint, this._map._zoom);                                                            // 3138\n\t},                                                                                                                 // 3139\n                                                                                                                    // 3140\n\t_createTile: function () {                                                                                         // 3141\n\t\tvar tile = L.DomUtil.create('canvas', 'leaflet-tile');                                                            // 3142\n\t\ttile.width = tile.height = this.options.tileSize;                                                                 // 3143\n\t\ttile.onselectstart = tile.onmousemove = L.Util.falseFn;                                                           // 3144\n\t\treturn tile;                                                                                                      // 3145\n\t},                                                                                                                 // 3146\n                                                                                                                    // 3147\n\t_loadTile: function (tile, tilePoint) {                                                                            // 3148\n\t\ttile._layer = this;                                                                                               // 3149\n\t\ttile._tilePoint = tilePoint;                                                                                      // 3150\n                                                                                                                    // 3151\n\t\tthis._redrawTile(tile);                                                                                           // 3152\n                                                                                                                    // 3153\n\t\tif (!this.options.async) {                                                                                        // 3154\n\t\t\tthis.tileDrawn(tile);                                                                                            // 3155\n\t\t}                                                                                                                 // 3156\n\t},                                                                                                                 // 3157\n                                                                                                                    // 3158\n\tdrawTile: function (/*tile, tilePoint*/) {                                                                         // 3159\n\t\t// override with rendering code                                                                                   // 3160\n\t},                                                                                                                 // 3161\n                                                                                                                    // 3162\n\ttileDrawn: function (tile) {                                                                                       // 3163\n\t\tthis._tileOnLoad.call(tile);                                                                                      // 3164\n\t}                                                                                                                  // 3165\n});                                                                                                                 // 3166\n                                                                                                                    // 3167\n                                                                                                                    // 3168\nL.tileLayer.canvas = function (options) {                                                                           // 3169\n\treturn new L.TileLayer.Canvas(options);                                                                            // 3170\n};                                                                                                                  // 3171\n                                                                                                                    // 3172\n                                                                                                                    // 3173\n/*                                                                                                                  // 3174\n * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).                         // 3175\n */                                                                                                                 // 3176\n                                                                                                                    // 3177\nL.ImageOverlay = L.Class.extend({                                                                                   // 3178\n\tincludes: L.Mixin.Events,                                                                                          // 3179\n                                                                                                                    // 3180\n\toptions: {                                                                                                         // 3181\n\t\topacity: 1                                                                                                        // 3182\n\t},                                                                                                                 // 3183\n                                                                                                                    // 3184\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)                                    // 3185\n\t\tthis._url = url;                                                                                                  // 3186\n\t\tthis._bounds = L.latLngBounds(bounds);                                                                            // 3187\n                                                                                                                    // 3188\n\t\tL.setOptions(this, options);                                                                                      // 3189\n\t},                                                                                                                 // 3190\n                                                                                                                    // 3191\n\tonAdd: function (map) {                                                                                            // 3192\n\t\tthis._map = map;                                                                                                  // 3193\n                                                                                                                    // 3194\n\t\tif (!this._image) {                                                                                               // 3195\n\t\t\tthis._initImage();                                                                                               // 3196\n\t\t}                                                                                                                 // 3197\n                                                                                                                    // 3198\n\t\tmap._panes.overlayPane.appendChild(this._image);                                                                  // 3199\n                                                                                                                    // 3200\n\t\tmap.on('viewreset', this._reset, this);                                                                           // 3201\n                                                                                                                    // 3202\n\t\tif (map.options.zoomAnimation && L.Browser.any3d) {                                                               // 3203\n\t\t\tmap.on('zoomanim', this._animateZoom, this);                                                                     // 3204\n\t\t}                                                                                                                 // 3205\n                                                                                                                    // 3206\n\t\tthis._reset();                                                                                                    // 3207\n\t},                                                                                                                 // 3208\n                                                                                                                    // 3209\n\tonRemove: function (map) {                                                                                         // 3210\n\t\tmap.getPanes().overlayPane.removeChild(this._image);                                                              // 3211\n                                                                                                                    // 3212\n\t\tmap.off('viewreset', this._reset, this);                                                                          // 3213\n                                                                                                                    // 3214\n\t\tif (map.options.zoomAnimation) {                                                                                  // 3215\n\t\t\tmap.off('zoomanim', this._animateZoom, this);                                                                    // 3216\n\t\t}                                                                                                                 // 3217\n\t},                                                                                                                 // 3218\n                                                                                                                    // 3219\n\taddTo: function (map) {                                                                                            // 3220\n\t\tmap.addLayer(this);                                                                                               // 3221\n\t\treturn this;                                                                                                      // 3222\n\t},                                                                                                                 // 3223\n                                                                                                                    // 3224\n\tsetOpacity: function (opacity) {                                                                                   // 3225\n\t\tthis.options.opacity = opacity;                                                                                   // 3226\n\t\tthis._updateOpacity();                                                                                            // 3227\n\t\treturn this;                                                                                                      // 3228\n\t},                                                                                                                 // 3229\n                                                                                                                    // 3230\n\t// TODO remove bringToFront/bringToBack duplication from TileLayer/Path                                            // 3231\n\tbringToFront: function () {                                                                                        // 3232\n\t\tif (this._image) {                                                                                                // 3233\n\t\t\tthis._map._panes.overlayPane.appendChild(this._image);                                                           // 3234\n\t\t}                                                                                                                 // 3235\n\t\treturn this;                                                                                                      // 3236\n\t},                                                                                                                 // 3237\n                                                                                                                    // 3238\n\tbringToBack: function () {                                                                                         // 3239\n\t\tvar pane = this._map._panes.overlayPane;                                                                          // 3240\n\t\tif (this._image) {                                                                                                // 3241\n\t\t\tpane.insertBefore(this._image, pane.firstChild);                                                                 // 3242\n\t\t}                                                                                                                 // 3243\n\t\treturn this;                                                                                                      // 3244\n\t},                                                                                                                 // 3245\n                                                                                                                    // 3246\n\tsetUrl: function (url) {                                                                                           // 3247\n\t\tthis._url = url;                                                                                                  // 3248\n\t\tthis._image.src = this._url;                                                                                      // 3249\n\t},                                                                                                                 // 3250\n                                                                                                                    // 3251\n\tgetAttribution: function () {                                                                                      // 3252\n\t\treturn this.options.attribution;                                                                                  // 3253\n\t},                                                                                                                 // 3254\n                                                                                                                    // 3255\n\t_initImage: function () {                                                                                          // 3256\n\t\tthis._image = L.DomUtil.create('img', 'leaflet-image-layer');                                                     // 3257\n                                                                                                                    // 3258\n\t\tif (this._map.options.zoomAnimation && L.Browser.any3d) {                                                         // 3259\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-zoom-animated');                                                        // 3260\n\t\t} else {                                                                                                          // 3261\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-zoom-hide');                                                            // 3262\n\t\t}                                                                                                                 // 3263\n                                                                                                                    // 3264\n\t\tthis._updateOpacity();                                                                                            // 3265\n                                                                                                                    // 3266\n\t\t//TODO createImage util method to remove duplication                                                              // 3267\n\t\tL.extend(this._image, {                                                                                           // 3268\n\t\t\tgalleryimg: 'no',                                                                                                // 3269\n\t\t\tonselectstart: L.Util.falseFn,                                                                                   // 3270\n\t\t\tonmousemove: L.Util.falseFn,                                                                                     // 3271\n\t\t\tonload: L.bind(this._onImageLoad, this),                                                                         // 3272\n\t\t\tsrc: this._url                                                                                                   // 3273\n\t\t});                                                                                                               // 3274\n\t},                                                                                                                 // 3275\n                                                                                                                    // 3276\n\t_animateZoom: function (e) {                                                                                       // 3277\n\t\tvar map = this._map,                                                                                              // 3278\n\t\t    image = this._image,                                                                                          // 3279\n\t\t    scale = map.getZoomScale(e.zoom),                                                                             // 3280\n\t\t    nw = this._bounds.getNorthWest(),                                                                             // 3281\n\t\t    se = this._bounds.getSouthEast(),                                                                             // 3282\n                                                                                                                    // 3283\n\t\t    topLeft = map._latLngToNewLayerPoint(nw, e.zoom, e.center),                                                   // 3284\n\t\t    size = map._latLngToNewLayerPoint(se, e.zoom, e.center)._subtract(topLeft),                                   // 3285\n\t\t    origin = topLeft._add(size._multiplyBy((1 / 2) * (1 - 1 / scale)));                                           // 3286\n                                                                                                                    // 3287\n\t\timage.style[L.DomUtil.TRANSFORM] =                                                                                // 3288\n\t\t        L.DomUtil.getTranslateString(origin) + ' scale(' + scale + ') ';                                          // 3289\n\t},                                                                                                                 // 3290\n                                                                                                                    // 3291\n\t_reset: function () {                                                                                              // 3292\n\t\tvar image   = this._image,                                                                                        // 3293\n\t\t    topLeft = this._map.latLngToLayerPoint(this._bounds.getNorthWest()),                                          // 3294\n\t\t    size = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(topLeft);                          // 3295\n                                                                                                                    // 3296\n\t\tL.DomUtil.setPosition(image, topLeft);                                                                            // 3297\n                                                                                                                    // 3298\n\t\timage.style.width  = size.x + 'px';                                                                               // 3299\n\t\timage.style.height = size.y + 'px';                                                                               // 3300\n\t},                                                                                                                 // 3301\n                                                                                                                    // 3302\n\t_onImageLoad: function () {                                                                                        // 3303\n\t\tthis.fire('load');                                                                                                // 3304\n\t},                                                                                                                 // 3305\n                                                                                                                    // 3306\n\t_updateOpacity: function () {                                                                                      // 3307\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);                                                          // 3308\n\t}                                                                                                                  // 3309\n});                                                                                                                 // 3310\n                                                                                                                    // 3311\nL.imageOverlay = function (url, bounds, options) {                                                                  // 3312\n\treturn new L.ImageOverlay(url, bounds, options);                                                                   // 3313\n};                                                                                                                  // 3314\n                                                                                                                    // 3315\n                                                                                                                    // 3316\n/*                                                                                                                  // 3317\n * L.Icon is an image-based icon class that you can use with L.Marker for custom markers.                           // 3318\n */                                                                                                                 // 3319\n                                                                                                                    // 3320\nL.Icon = L.Class.extend({                                                                                           // 3321\n\toptions: {                                                                                                         // 3322\n\t\t/*                                                                                                                // 3323\n\t\ticonUrl: (String) (required)                                                                                      // 3324\n\t\ticonRetinaUrl: (String) (optional, used for retina devices if detected)                                           // 3325\n\t\ticonSize: (Point) (can be set through CSS)                                                                        // 3326\n\t\ticonAnchor: (Point) (centered by default, can be set in CSS with negative margins)                                // 3327\n\t\tpopupAnchor: (Point) (if not specified, popup opens in the anchor point)                                          // 3328\n\t\tshadowUrl: (String) (no shadow by default)                                                                        // 3329\n\t\tshadowRetinaUrl: (String) (optional, used for retina devices if detected)                                         // 3330\n\t\tshadowSize: (Point)                                                                                               // 3331\n\t\tshadowAnchor: (Point)                                                                                             // 3332\n\t\t*/                                                                                                                // 3333\n\t\tclassName: ''                                                                                                     // 3334\n\t},                                                                                                                 // 3335\n                                                                                                                    // 3336\n\tinitialize: function (options) {                                                                                   // 3337\n\t\tL.setOptions(this, options);                                                                                      // 3338\n\t},                                                                                                                 // 3339\n                                                                                                                    // 3340\n\tcreateIcon: function (oldIcon) {                                                                                   // 3341\n\t\treturn this._createIcon('icon', oldIcon);                                                                         // 3342\n\t},                                                                                                                 // 3343\n                                                                                                                    // 3344\n\tcreateShadow: function (oldIcon) {                                                                                 // 3345\n\t\treturn this._createIcon('shadow', oldIcon);                                                                       // 3346\n\t},                                                                                                                 // 3347\n                                                                                                                    // 3348\n\t_createIcon: function (name, oldIcon) {                                                                            // 3349\n\t\tvar src = this._getIconUrl(name);                                                                                 // 3350\n                                                                                                                    // 3351\n\t\tif (!src) {                                                                                                       // 3352\n\t\t\tif (name === 'icon') {                                                                                           // 3353\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');                                             // 3354\n\t\t\t}                                                                                                                // 3355\n\t\t\treturn null;                                                                                                     // 3356\n\t\t}                                                                                                                 // 3357\n                                                                                                                    // 3358\n\t\tvar img;                                                                                                          // 3359\n\t\tif (!oldIcon || oldIcon.tagName !== 'IMG') {                                                                      // 3360\n\t\t\timg = this._createImg(src);                                                                                      // 3361\n\t\t} else {                                                                                                          // 3362\n\t\t\timg = this._createImg(src, oldIcon);                                                                             // 3363\n\t\t}                                                                                                                 // 3364\n\t\tthis._setIconStyles(img, name);                                                                                   // 3365\n                                                                                                                    // 3366\n\t\treturn img;                                                                                                       // 3367\n\t},                                                                                                                 // 3368\n                                                                                                                    // 3369\n\t_setIconStyles: function (img, name) {                                                                             // 3370\n\t\tvar options = this.options,                                                                                       // 3371\n\t\t    size = L.point(options[name + 'Size']),                                                                       // 3372\n\t\t    anchor;                                                                                                       // 3373\n                                                                                                                    // 3374\n\t\tif (name === 'shadow') {                                                                                          // 3375\n\t\t\tanchor = L.point(options.shadowAnchor || options.iconAnchor);                                                    // 3376\n\t\t} else {                                                                                                          // 3377\n\t\t\tanchor = L.point(options.iconAnchor);                                                                            // 3378\n\t\t}                                                                                                                 // 3379\n                                                                                                                    // 3380\n\t\tif (!anchor && size) {                                                                                            // 3381\n\t\t\tanchor = size.divideBy(2, true);                                                                                 // 3382\n\t\t}                                                                                                                 // 3383\n                                                                                                                    // 3384\n\t\timg.className = 'leaflet-marker-' + name + ' ' + options.className;                                               // 3385\n                                                                                                                    // 3386\n\t\tif (anchor) {                                                                                                     // 3387\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';                                                                       // 3388\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';                                                                       // 3389\n\t\t}                                                                                                                 // 3390\n                                                                                                                    // 3391\n\t\tif (size) {                                                                                                       // 3392\n\t\t\timg.style.width  = size.x + 'px';                                                                                // 3393\n\t\t\timg.style.height = size.y + 'px';                                                                                // 3394\n\t\t}                                                                                                                 // 3395\n\t},                                                                                                                 // 3396\n                                                                                                                    // 3397\n\t_createImg: function (src, el) {                                                                                   // 3398\n\t\tel = el || document.createElement('img');                                                                         // 3399\n\t\tel.src = src;                                                                                                     // 3400\n\t\treturn el;                                                                                                        // 3401\n\t},                                                                                                                 // 3402\n                                                                                                                    // 3403\n\t_getIconUrl: function (name) {                                                                                     // 3404\n\t\tif (L.Browser.retina && this.options[name + 'RetinaUrl']) {                                                       // 3405\n\t\t\treturn this.options[name + 'RetinaUrl'];                                                                         // 3406\n\t\t}                                                                                                                 // 3407\n\t\treturn this.options[name + 'Url'];                                                                                // 3408\n\t}                                                                                                                  // 3409\n});                                                                                                                 // 3410\n                                                                                                                    // 3411\nL.icon = function (options) {                                                                                       // 3412\n\treturn new L.Icon(options);                                                                                        // 3413\n};                                                                                                                  // 3414\n                                                                                                                    // 3415\n                                                                                                                    // 3416\n/*                                                                                                                  // 3417\n * L.Icon.Default is the blue marker icon used by default in Leaflet.                                               // 3418\n */                                                                                                                 // 3419\n                                                                                                                    // 3420\nL.Icon.Default = L.Icon.extend({                                                                                    // 3421\n                                                                                                                    // 3422\n\toptions: {                                                                                                         // 3423\n\t\ticonSize: [25, 41],                                                                                               // 3424\n\t\ticonAnchor: [12, 41],                                                                                             // 3425\n\t\tpopupAnchor: [1, -34],                                                                                            // 3426\n                                                                                                                    // 3427\n\t\tshadowSize: [41, 41]                                                                                              // 3428\n\t},                                                                                                                 // 3429\n                                                                                                                    // 3430\n\t_getIconUrl: function (name) {                                                                                     // 3431\n\t\tvar key = name + 'Url';                                                                                           // 3432\n                                                                                                                    // 3433\n\t\tif (this.options[key]) {                                                                                          // 3434\n\t\t\treturn this.options[key];                                                                                        // 3435\n\t\t}                                                                                                                 // 3436\n                                                                                                                    // 3437\n\t\tif (L.Browser.retina && name === 'icon') {                                                                        // 3438\n\t\t\tname += '-2x';                                                                                                   // 3439\n\t\t}                                                                                                                 // 3440\n                                                                                                                    // 3441\n\t\tvar path = L.Icon.Default.imagePath;                                                                              // 3442\n                                                                                                                    // 3443\n\t\tif (!path) {                                                                                                      // 3444\n\t\t\tthrow new Error('Couldn\\'t autodetect L.Icon.Default.imagePath, set it manually.');                              // 3445\n\t\t}                                                                                                                 // 3446\n                                                                                                                    // 3447\n\t\treturn path + '/marker-' + name + '.png';                                                                         // 3448\n\t}                                                                                                                  // 3449\n});                                                                                                                 // 3450\n                                                                                                                    // 3451\nL.Icon.Default.imagePath = (function () {                                                                           // 3452\n\tvar scripts = document.getElementsByTagName('script'),                                                             // 3453\n\t    leafletRe = /[\\/^]leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;                                                         // 3454\n                                                                                                                    // 3455\n\tvar i, len, src, matches, path;                                                                                    // 3456\n                                                                                                                    // 3457\n\tfor (i = 0, len = scripts.length; i < len; i++) {                                                                  // 3458\n\t\tsrc = scripts[i].src;                                                                                             // 3459\n\t\tmatches = src.match(leafletRe);                                                                                   // 3460\n                                                                                                                    // 3461\n\t\tif (matches) {                                                                                                    // 3462\n\t\t\tpath = src.split(leafletRe)[0];                                                                                  // 3463\n\t\t\treturn (path ? path + '/' : '') + 'images';                                                                      // 3464\n\t\t}                                                                                                                 // 3465\n\t}                                                                                                                  // 3466\n}());                                                                                                               // 3467\n                                                                                                                    // 3468\n                                                                                                                    // 3469\n/*                                                                                                                  // 3470\n * L.Marker is used to display clickable/draggable icons on the map.                                                // 3471\n */                                                                                                                 // 3472\n                                                                                                                    // 3473\nL.Marker = L.Class.extend({                                                                                         // 3474\n                                                                                                                    // 3475\n\tincludes: L.Mixin.Events,                                                                                          // 3476\n                                                                                                                    // 3477\n\toptions: {                                                                                                         // 3478\n\t\ticon: new L.Icon.Default(),                                                                                       // 3479\n\t\ttitle: '',                                                                                                        // 3480\n\t\talt: '',                                                                                                          // 3481\n\t\tclickable: true,                                                                                                  // 3482\n\t\tdraggable: false,                                                                                                 // 3483\n\t\tkeyboard: true,                                                                                                   // 3484\n\t\tzIndexOffset: 0,                                                                                                  // 3485\n\t\topacity: 1,                                                                                                       // 3486\n\t\triseOnHover: false,                                                                                               // 3487\n\t\triseOffset: 250                                                                                                   // 3488\n\t},                                                                                                                 // 3489\n                                                                                                                    // 3490\n\tinitialize: function (latlng, options) {                                                                           // 3491\n\t\tL.setOptions(this, options);                                                                                      // 3492\n\t\tthis._latlng = L.latLng(latlng);                                                                                  // 3493\n\t},                                                                                                                 // 3494\n                                                                                                                    // 3495\n\tonAdd: function (map) {                                                                                            // 3496\n\t\tthis._map = map;                                                                                                  // 3497\n                                                                                                                    // 3498\n\t\tmap.on('viewreset', this.update, this);                                                                           // 3499\n                                                                                                                    // 3500\n\t\tthis._initIcon();                                                                                                 // 3501\n\t\tthis.update();                                                                                                    // 3502\n\t\tthis.fire('add');                                                                                                 // 3503\n                                                                                                                    // 3504\n\t\tif (map.options.zoomAnimation && map.options.markerZoomAnimation) {                                               // 3505\n\t\t\tmap.on('zoomanim', this._animateZoom, this);                                                                     // 3506\n\t\t}                                                                                                                 // 3507\n\t},                                                                                                                 // 3508\n                                                                                                                    // 3509\n\taddTo: function (map) {                                                                                            // 3510\n\t\tmap.addLayer(this);                                                                                               // 3511\n\t\treturn this;                                                                                                      // 3512\n\t},                                                                                                                 // 3513\n                                                                                                                    // 3514\n\tonRemove: function (map) {                                                                                         // 3515\n\t\tif (this.dragging) {                                                                                              // 3516\n\t\t\tthis.dragging.disable();                                                                                         // 3517\n\t\t}                                                                                                                 // 3518\n                                                                                                                    // 3519\n\t\tthis._removeIcon();                                                                                               // 3520\n\t\tthis._removeShadow();                                                                                             // 3521\n                                                                                                                    // 3522\n\t\tthis.fire('remove');                                                                                              // 3523\n                                                                                                                    // 3524\n\t\tmap.off({                                                                                                         // 3525\n\t\t\t'viewreset': this.update,                                                                                        // 3526\n\t\t\t'zoomanim': this._animateZoom                                                                                    // 3527\n\t\t}, this);                                                                                                         // 3528\n                                                                                                                    // 3529\n\t\tthis._map = null;                                                                                                 // 3530\n\t},                                                                                                                 // 3531\n                                                                                                                    // 3532\n\tgetLatLng: function () {                                                                                           // 3533\n\t\treturn this._latlng;                                                                                              // 3534\n\t},                                                                                                                 // 3535\n                                                                                                                    // 3536\n\tsetLatLng: function (latlng) {                                                                                     // 3537\n\t\tthis._latlng = L.latLng(latlng);                                                                                  // 3538\n                                                                                                                    // 3539\n\t\tthis.update();                                                                                                    // 3540\n                                                                                                                    // 3541\n\t\treturn this.fire('move', { latlng: this._latlng });                                                               // 3542\n\t},                                                                                                                 // 3543\n                                                                                                                    // 3544\n\tsetZIndexOffset: function (offset) {                                                                               // 3545\n\t\tthis.options.zIndexOffset = offset;                                                                               // 3546\n\t\tthis.update();                                                                                                    // 3547\n                                                                                                                    // 3548\n\t\treturn this;                                                                                                      // 3549\n\t},                                                                                                                 // 3550\n                                                                                                                    // 3551\n\tsetIcon: function (icon) {                                                                                         // 3552\n                                                                                                                    // 3553\n\t\tthis.options.icon = icon;                                                                                         // 3554\n                                                                                                                    // 3555\n\t\tif (this._map) {                                                                                                  // 3556\n\t\t\tthis._initIcon();                                                                                                // 3557\n\t\t\tthis.update();                                                                                                   // 3558\n\t\t}                                                                                                                 // 3559\n                                                                                                                    // 3560\n\t\tif (this._popup) {                                                                                                // 3561\n\t\t\tthis.bindPopup(this._popup);                                                                                     // 3562\n\t\t}                                                                                                                 // 3563\n                                                                                                                    // 3564\n\t\treturn this;                                                                                                      // 3565\n\t},                                                                                                                 // 3566\n                                                                                                                    // 3567\n\tupdate: function () {                                                                                              // 3568\n\t\tif (this._icon) {                                                                                                 // 3569\n\t\t\tvar pos = this._map.latLngToLayerPoint(this._latlng).round();                                                    // 3570\n\t\t\tthis._setPos(pos);                                                                                               // 3571\n\t\t}                                                                                                                 // 3572\n                                                                                                                    // 3573\n\t\treturn this;                                                                                                      // 3574\n\t},                                                                                                                 // 3575\n                                                                                                                    // 3576\n\t_initIcon: function () {                                                                                           // 3577\n\t\tvar options = this.options,                                                                                       // 3578\n\t\t    map = this._map,                                                                                              // 3579\n\t\t    animation = (map.options.zoomAnimation && map.options.markerZoomAnimation),                                   // 3580\n\t\t    classToAdd = animation ? 'leaflet-zoom-animated' : 'leaflet-zoom-hide';                                       // 3581\n                                                                                                                    // 3582\n\t\tvar icon = options.icon.createIcon(this._icon),                                                                   // 3583\n\t\t\taddIcon = false;                                                                                                 // 3584\n                                                                                                                    // 3585\n\t\t// if we're not reusing the icon, remove the old one and init new one                                             // 3586\n\t\tif (icon !== this._icon) {                                                                                        // 3587\n\t\t\tif (this._icon) {                                                                                                // 3588\n\t\t\t\tthis._removeIcon();                                                                                             // 3589\n\t\t\t}                                                                                                                // 3590\n\t\t\taddIcon = true;                                                                                                  // 3591\n                                                                                                                    // 3592\n\t\t\tif (options.title) {                                                                                             // 3593\n\t\t\t\ticon.title = options.title;                                                                                     // 3594\n\t\t\t}                                                                                                                // 3595\n\t\t\t                                                                                                                 // 3596\n\t\t\tif (options.alt) {                                                                                               // 3597\n\t\t\t\ticon.alt = options.alt;                                                                                         // 3598\n\t\t\t}                                                                                                                // 3599\n\t\t}                                                                                                                 // 3600\n                                                                                                                    // 3601\n\t\tL.DomUtil.addClass(icon, classToAdd);                                                                             // 3602\n                                                                                                                    // 3603\n\t\tif (options.keyboard) {                                                                                           // 3604\n\t\t\ticon.tabIndex = '0';                                                                                             // 3605\n\t\t}                                                                                                                 // 3606\n                                                                                                                    // 3607\n\t\tthis._icon = icon;                                                                                                // 3608\n                                                                                                                    // 3609\n\t\tthis._initInteraction();                                                                                          // 3610\n                                                                                                                    // 3611\n\t\tif (options.riseOnHover) {                                                                                        // 3612\n\t\t\tL.DomEvent                                                                                                       // 3613\n\t\t\t\t.on(icon, 'mouseover', this._bringToFront, this)                                                                // 3614\n\t\t\t\t.on(icon, 'mouseout', this._resetZIndex, this);                                                                 // 3615\n\t\t}                                                                                                                 // 3616\n                                                                                                                    // 3617\n\t\tvar newShadow = options.icon.createShadow(this._shadow),                                                          // 3618\n\t\t\taddShadow = false;                                                                                               // 3619\n                                                                                                                    // 3620\n\t\tif (newShadow !== this._shadow) {                                                                                 // 3621\n\t\t\tthis._removeShadow();                                                                                            // 3622\n\t\t\taddShadow = true;                                                                                                // 3623\n\t\t}                                                                                                                 // 3624\n                                                                                                                    // 3625\n\t\tif (newShadow) {                                                                                                  // 3626\n\t\t\tL.DomUtil.addClass(newShadow, classToAdd);                                                                       // 3627\n\t\t}                                                                                                                 // 3628\n\t\tthis._shadow = newShadow;                                                                                         // 3629\n                                                                                                                    // 3630\n                                                                                                                    // 3631\n\t\tif (options.opacity < 1) {                                                                                        // 3632\n\t\t\tthis._updateOpacity();                                                                                           // 3633\n\t\t}                                                                                                                 // 3634\n                                                                                                                    // 3635\n                                                                                                                    // 3636\n\t\tvar panes = this._map._panes;                                                                                     // 3637\n                                                                                                                    // 3638\n\t\tif (addIcon) {                                                                                                    // 3639\n\t\t\tpanes.markerPane.appendChild(this._icon);                                                                        // 3640\n\t\t}                                                                                                                 // 3641\n                                                                                                                    // 3642\n\t\tif (newShadow && addShadow) {                                                                                     // 3643\n\t\t\tpanes.shadowPane.appendChild(this._shadow);                                                                      // 3644\n\t\t}                                                                                                                 // 3645\n\t},                                                                                                                 // 3646\n                                                                                                                    // 3647\n\t_removeIcon: function () {                                                                                         // 3648\n\t\tif (this.options.riseOnHover) {                                                                                   // 3649\n\t\t\tL.DomEvent                                                                                                       // 3650\n\t\t\t    .off(this._icon, 'mouseover', this._bringToFront)                                                            // 3651\n\t\t\t    .off(this._icon, 'mouseout', this._resetZIndex);                                                             // 3652\n\t\t}                                                                                                                 // 3653\n                                                                                                                    // 3654\n\t\tthis._map._panes.markerPane.removeChild(this._icon);                                                              // 3655\n                                                                                                                    // 3656\n\t\tthis._icon = null;                                                                                                // 3657\n\t},                                                                                                                 // 3658\n                                                                                                                    // 3659\n\t_removeShadow: function () {                                                                                       // 3660\n\t\tif (this._shadow) {                                                                                               // 3661\n\t\t\tthis._map._panes.shadowPane.removeChild(this._shadow);                                                           // 3662\n\t\t}                                                                                                                 // 3663\n\t\tthis._shadow = null;                                                                                              // 3664\n\t},                                                                                                                 // 3665\n                                                                                                                    // 3666\n\t_setPos: function (pos) {                                                                                          // 3667\n\t\tL.DomUtil.setPosition(this._icon, pos);                                                                           // 3668\n                                                                                                                    // 3669\n\t\tif (this._shadow) {                                                                                               // 3670\n\t\t\tL.DomUtil.setPosition(this._shadow, pos);                                                                        // 3671\n\t\t}                                                                                                                 // 3672\n                                                                                                                    // 3673\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;                                                                 // 3674\n                                                                                                                    // 3675\n\t\tthis._resetZIndex();                                                                                              // 3676\n\t},                                                                                                                 // 3677\n                                                                                                                    // 3678\n\t_updateZIndex: function (offset) {                                                                                 // 3679\n\t\tthis._icon.style.zIndex = this._zIndex + offset;                                                                  // 3680\n\t},                                                                                                                 // 3681\n                                                                                                                    // 3682\n\t_animateZoom: function (opt) {                                                                                     // 3683\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();                           // 3684\n                                                                                                                    // 3685\n\t\tthis._setPos(pos);                                                                                                // 3686\n\t},                                                                                                                 // 3687\n                                                                                                                    // 3688\n\t_initInteraction: function () {                                                                                    // 3689\n                                                                                                                    // 3690\n\t\tif (!this.options.clickable) { return; }                                                                          // 3691\n                                                                                                                    // 3692\n\t\t// TODO refactor into something shared with Map/Path/etc. to DRY it up                                            // 3693\n                                                                                                                    // 3694\n\t\tvar icon = this._icon,                                                                                            // 3695\n\t\t    events = ['dblclick', 'mousedown', 'mouseover', 'mouseout', 'contextmenu'];                                   // 3696\n                                                                                                                    // 3697\n\t\tL.DomUtil.addClass(icon, 'leaflet-clickable');                                                                    // 3698\n\t\tL.DomEvent.on(icon, 'click', this._onMouseClick, this);                                                           // 3699\n\t\tL.DomEvent.on(icon, 'keypress', this._onKeyPress, this);                                                          // 3700\n                                                                                                                    // 3701\n\t\tfor (var i = 0; i < events.length; i++) {                                                                         // 3702\n\t\t\tL.DomEvent.on(icon, events[i], this._fireMouseEvent, this);                                                      // 3703\n\t\t}                                                                                                                 // 3704\n                                                                                                                    // 3705\n\t\tif (L.Handler.MarkerDrag) {                                                                                       // 3706\n\t\t\tthis.dragging = new L.Handler.MarkerDrag(this);                                                                  // 3707\n                                                                                                                    // 3708\n\t\t\tif (this.options.draggable) {                                                                                    // 3709\n\t\t\t\tthis.dragging.enable();                                                                                         // 3710\n\t\t\t}                                                                                                                // 3711\n\t\t}                                                                                                                 // 3712\n\t},                                                                                                                 // 3713\n                                                                                                                    // 3714\n\t_onMouseClick: function (e) {                                                                                      // 3715\n\t\tvar wasDragged = this.dragging && this.dragging.moved();                                                          // 3716\n                                                                                                                    // 3717\n\t\tif (this.hasEventListeners(e.type) || wasDragged) {                                                               // 3718\n\t\t\tL.DomEvent.stopPropagation(e);                                                                                   // 3719\n\t\t}                                                                                                                 // 3720\n                                                                                                                    // 3721\n\t\tif (wasDragged) { return; }                                                                                       // 3722\n                                                                                                                    // 3723\n\t\tif ((!this.dragging || !this.dragging._enabled) && this._map.dragging && this._map.dragging.moved()) { return; }  // 3724\n                                                                                                                    // 3725\n\t\tthis.fire(e.type, {                                                                                               // 3726\n\t\t\toriginalEvent: e,                                                                                                // 3727\n\t\t\tlatlng: this._latlng                                                                                             // 3728\n\t\t});                                                                                                               // 3729\n\t},                                                                                                                 // 3730\n                                                                                                                    // 3731\n\t_onKeyPress: function (e) {                                                                                        // 3732\n\t\tif (e.keyCode === 13) {                                                                                           // 3733\n\t\t\tthis.fire('click', {                                                                                             // 3734\n\t\t\t\toriginalEvent: e,                                                                                               // 3735\n\t\t\t\tlatlng: this._latlng                                                                                            // 3736\n\t\t\t});                                                                                                              // 3737\n\t\t}                                                                                                                 // 3738\n\t},                                                                                                                 // 3739\n                                                                                                                    // 3740\n\t_fireMouseEvent: function (e) {                                                                                    // 3741\n                                                                                                                    // 3742\n\t\tthis.fire(e.type, {                                                                                               // 3743\n\t\t\toriginalEvent: e,                                                                                                // 3744\n\t\t\tlatlng: this._latlng                                                                                             // 3745\n\t\t});                                                                                                               // 3746\n                                                                                                                    // 3747\n\t\t// TODO proper custom event propagation                                                                           // 3748\n\t\t// this line will always be called if marker is in a FeatureGroup                                                 // 3749\n\t\tif (e.type === 'contextmenu' && this.hasEventListeners(e.type)) {                                                 // 3750\n\t\t\tL.DomEvent.preventDefault(e);                                                                                    // 3751\n\t\t}                                                                                                                 // 3752\n\t\tif (e.type !== 'mousedown') {                                                                                     // 3753\n\t\t\tL.DomEvent.stopPropagation(e);                                                                                   // 3754\n\t\t} else {                                                                                                          // 3755\n\t\t\tL.DomEvent.preventDefault(e);                                                                                    // 3756\n\t\t}                                                                                                                 // 3757\n\t},                                                                                                                 // 3758\n                                                                                                                    // 3759\n\tsetOpacity: function (opacity) {                                                                                   // 3760\n\t\tthis.options.opacity = opacity;                                                                                   // 3761\n\t\tif (this._map) {                                                                                                  // 3762\n\t\t\tthis._updateOpacity();                                                                                           // 3763\n\t\t}                                                                                                                 // 3764\n                                                                                                                    // 3765\n\t\treturn this;                                                                                                      // 3766\n\t},                                                                                                                 // 3767\n                                                                                                                    // 3768\n\t_updateOpacity: function () {                                                                                      // 3769\n\t\tL.DomUtil.setOpacity(this._icon, this.options.opacity);                                                           // 3770\n\t\tif (this._shadow) {                                                                                               // 3771\n\t\t\tL.DomUtil.setOpacity(this._shadow, this.options.opacity);                                                        // 3772\n\t\t}                                                                                                                 // 3773\n\t},                                                                                                                 // 3774\n                                                                                                                    // 3775\n\t_bringToFront: function () {                                                                                       // 3776\n\t\tthis._updateZIndex(this.options.riseOffset);                                                                      // 3777\n\t},                                                                                                                 // 3778\n                                                                                                                    // 3779\n\t_resetZIndex: function () {                                                                                        // 3780\n\t\tthis._updateZIndex(0);                                                                                            // 3781\n\t}                                                                                                                  // 3782\n});                                                                                                                 // 3783\n                                                                                                                    // 3784\nL.marker = function (latlng, options) {                                                                             // 3785\n\treturn new L.Marker(latlng, options);                                                                              // 3786\n};                                                                                                                  // 3787\n                                                                                                                    // 3788\n                                                                                                                    // 3789\n/*                                                                                                                  // 3790\n * L.DivIcon is a lightweight HTML-based icon class (as opposed to the image-based L.Icon)                          // 3791\n * to use with L.Marker.                                                                                            // 3792\n */                                                                                                                 // 3793\n                                                                                                                    // 3794\nL.DivIcon = L.Icon.extend({                                                                                         // 3795\n\toptions: {                                                                                                         // 3796\n\t\ticonSize: [12, 12], // also can be set through CSS                                                                // 3797\n\t\t/*                                                                                                                // 3798\n\t\ticonAnchor: (Point)                                                                                               // 3799\n\t\tpopupAnchor: (Point)                                                                                              // 3800\n\t\thtml: (String)                                                                                                    // 3801\n\t\tbgPos: (Point)                                                                                                    // 3802\n\t\t*/                                                                                                                // 3803\n\t\tclassName: 'leaflet-div-icon',                                                                                    // 3804\n\t\thtml: false                                                                                                       // 3805\n\t},                                                                                                                 // 3806\n                                                                                                                    // 3807\n\tcreateIcon: function (oldIcon) {                                                                                   // 3808\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),                       // 3809\n\t\t    options = this.options;                                                                                       // 3810\n                                                                                                                    // 3811\n\t\tif (options.html !== false) {                                                                                     // 3812\n\t\t\tdiv.innerHTML = options.html;                                                                                    // 3813\n\t\t} else {                                                                                                          // 3814\n\t\t\tdiv.innerHTML = '';                                                                                              // 3815\n\t\t}                                                                                                                 // 3816\n                                                                                                                    // 3817\n\t\tif (options.bgPos) {                                                                                              // 3818\n\t\t\tdiv.style.backgroundPosition =                                                                                   // 3819\n\t\t\t        (-options.bgPos.x) + 'px ' + (-options.bgPos.y) + 'px';                                                  // 3820\n\t\t}                                                                                                                 // 3821\n                                                                                                                    // 3822\n\t\tthis._setIconStyles(div, 'icon');                                                                                 // 3823\n\t\treturn div;                                                                                                       // 3824\n\t},                                                                                                                 // 3825\n                                                                                                                    // 3826\n\tcreateShadow: function () {                                                                                        // 3827\n\t\treturn null;                                                                                                      // 3828\n\t}                                                                                                                  // 3829\n});                                                                                                                 // 3830\n                                                                                                                    // 3831\nL.divIcon = function (options) {                                                                                    // 3832\n\treturn new L.DivIcon(options);                                                                                     // 3833\n};                                                                                                                  // 3834\n                                                                                                                    // 3835\n                                                                                                                    // 3836\n/*                                                                                                                  // 3837\n * L.Popup is used for displaying popups on the map.                                                                // 3838\n */                                                                                                                 // 3839\n                                                                                                                    // 3840\nL.Map.mergeOptions({                                                                                                // 3841\n\tclosePopupOnClick: true                                                                                            // 3842\n});                                                                                                                 // 3843\n                                                                                                                    // 3844\nL.Popup = L.Class.extend({                                                                                          // 3845\n\tincludes: L.Mixin.Events,                                                                                          // 3846\n                                                                                                                    // 3847\n\toptions: {                                                                                                         // 3848\n\t\tminWidth: 50,                                                                                                     // 3849\n\t\tmaxWidth: 300,                                                                                                    // 3850\n\t\t// maxHeight: null,                                                                                               // 3851\n\t\tautoPan: true,                                                                                                    // 3852\n\t\tcloseButton: true,                                                                                                // 3853\n\t\toffset: [0, 7],                                                                                                   // 3854\n\t\tautoPanPadding: [5, 5],                                                                                           // 3855\n\t\t// autoPanPaddingTopLeft: null,                                                                                   // 3856\n\t\t// autoPanPaddingBottomRight: null,                                                                               // 3857\n\t\tkeepInView: false,                                                                                                // 3858\n\t\tclassName: '',                                                                                                    // 3859\n\t\tzoomAnimation: true                                                                                               // 3860\n\t},                                                                                                                 // 3861\n                                                                                                                    // 3862\n\tinitialize: function (options, source) {                                                                           // 3863\n\t\tL.setOptions(this, options);                                                                                      // 3864\n                                                                                                                    // 3865\n\t\tthis._source = source;                                                                                            // 3866\n\t\tthis._animated = L.Browser.any3d && this.options.zoomAnimation;                                                   // 3867\n\t\tthis._isOpen = false;                                                                                             // 3868\n\t},                                                                                                                 // 3869\n                                                                                                                    // 3870\n\tonAdd: function (map) {                                                                                            // 3871\n\t\tthis._map = map;                                                                                                  // 3872\n                                                                                                                    // 3873\n\t\tif (!this._container) {                                                                                           // 3874\n\t\t\tthis._initLayout();                                                                                              // 3875\n\t\t}                                                                                                                 // 3876\n                                                                                                                    // 3877\n\t\tvar animFade = map.options.fadeAnimation;                                                                         // 3878\n                                                                                                                    // 3879\n\t\tif (animFade) {                                                                                                   // 3880\n\t\t\tL.DomUtil.setOpacity(this._container, 0);                                                                        // 3881\n\t\t}                                                                                                                 // 3882\n\t\tmap._panes.popupPane.appendChild(this._container);                                                                // 3883\n                                                                                                                    // 3884\n\t\tmap.on(this._getEvents(), this);                                                                                  // 3885\n                                                                                                                    // 3886\n\t\tthis.update();                                                                                                    // 3887\n                                                                                                                    // 3888\n\t\tif (animFade) {                                                                                                   // 3889\n\t\t\tL.DomUtil.setOpacity(this._container, 1);                                                                        // 3890\n\t\t}                                                                                                                 // 3891\n                                                                                                                    // 3892\n\t\tthis.fire('open');                                                                                                // 3893\n                                                                                                                    // 3894\n\t\tmap.fire('popupopen', {popup: this});                                                                             // 3895\n                                                                                                                    // 3896\n\t\tif (this._source) {                                                                                               // 3897\n\t\t\tthis._source.fire('popupopen', {popup: this});                                                                   // 3898\n\t\t}                                                                                                                 // 3899\n\t},                                                                                                                 // 3900\n                                                                                                                    // 3901\n\taddTo: function (map) {                                                                                            // 3902\n\t\tmap.addLayer(this);                                                                                               // 3903\n\t\treturn this;                                                                                                      // 3904\n\t},                                                                                                                 // 3905\n                                                                                                                    // 3906\n\topenOn: function (map) {                                                                                           // 3907\n\t\tmap.openPopup(this);                                                                                              // 3908\n\t\treturn this;                                                                                                      // 3909\n\t},                                                                                                                 // 3910\n                                                                                                                    // 3911\n\tonRemove: function (map) {                                                                                         // 3912\n\t\tmap._panes.popupPane.removeChild(this._container);                                                                // 3913\n                                                                                                                    // 3914\n\t\tL.Util.falseFn(this._container.offsetWidth); // force reflow                                                      // 3915\n                                                                                                                    // 3916\n\t\tmap.off(this._getEvents(), this);                                                                                 // 3917\n                                                                                                                    // 3918\n\t\tif (map.options.fadeAnimation) {                                                                                  // 3919\n\t\t\tL.DomUtil.setOpacity(this._container, 0);                                                                        // 3920\n\t\t}                                                                                                                 // 3921\n                                                                                                                    // 3922\n\t\tthis._map = null;                                                                                                 // 3923\n                                                                                                                    // 3924\n\t\tthis.fire('close');                                                                                               // 3925\n                                                                                                                    // 3926\n\t\tmap.fire('popupclose', {popup: this});                                                                            // 3927\n                                                                                                                    // 3928\n\t\tif (this._source) {                                                                                               // 3929\n\t\t\tthis._source.fire('popupclose', {popup: this});                                                                  // 3930\n\t\t}                                                                                                                 // 3931\n\t},                                                                                                                 // 3932\n                                                                                                                    // 3933\n\tgetLatLng: function () {                                                                                           // 3934\n\t\treturn this._latlng;                                                                                              // 3935\n\t},                                                                                                                 // 3936\n                                                                                                                    // 3937\n\tsetLatLng: function (latlng) {                                                                                     // 3938\n\t\tthis._latlng = L.latLng(latlng);                                                                                  // 3939\n\t\tif (this._map) {                                                                                                  // 3940\n\t\t\tthis._updatePosition();                                                                                          // 3941\n\t\t\tthis._adjustPan();                                                                                               // 3942\n\t\t}                                                                                                                 // 3943\n\t\treturn this;                                                                                                      // 3944\n\t},                                                                                                                 // 3945\n                                                                                                                    // 3946\n\tgetContent: function () {                                                                                          // 3947\n\t\treturn this._content;                                                                                             // 3948\n\t},                                                                                                                 // 3949\n                                                                                                                    // 3950\n\tsetContent: function (content) {                                                                                   // 3951\n\t\tthis._content = content;                                                                                          // 3952\n\t\tthis.update();                                                                                                    // 3953\n\t\treturn this;                                                                                                      // 3954\n\t},                                                                                                                 // 3955\n                                                                                                                    // 3956\n\tupdate: function () {                                                                                              // 3957\n\t\tif (!this._map) { return; }                                                                                       // 3958\n                                                                                                                    // 3959\n\t\tthis._container.style.visibility = 'hidden';                                                                      // 3960\n                                                                                                                    // 3961\n\t\tthis._updateContent();                                                                                            // 3962\n\t\tthis._updateLayout();                                                                                             // 3963\n\t\tthis._updatePosition();                                                                                           // 3964\n                                                                                                                    // 3965\n\t\tthis._container.style.visibility = '';                                                                            // 3966\n                                                                                                                    // 3967\n\t\tthis._adjustPan();                                                                                                // 3968\n\t},                                                                                                                 // 3969\n                                                                                                                    // 3970\n\t_getEvents: function () {                                                                                          // 3971\n\t\tvar events = {                                                                                                    // 3972\n\t\t\tviewreset: this._updatePosition                                                                                  // 3973\n\t\t};                                                                                                                // 3974\n                                                                                                                    // 3975\n\t\tif (this._animated) {                                                                                             // 3976\n\t\t\tevents.zoomanim = this._zoomAnimation;                                                                           // 3977\n\t\t}                                                                                                                 // 3978\n\t\tif ('closeOnClick' in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) {           // 3979\n\t\t\tevents.preclick = this._close;                                                                                   // 3980\n\t\t}                                                                                                                 // 3981\n\t\tif (this.options.keepInView) {                                                                                    // 3982\n\t\t\tevents.moveend = this._adjustPan;                                                                                // 3983\n\t\t}                                                                                                                 // 3984\n                                                                                                                    // 3985\n\t\treturn events;                                                                                                    // 3986\n\t},                                                                                                                 // 3987\n                                                                                                                    // 3988\n\t_close: function () {                                                                                              // 3989\n\t\tif (this._map) {                                                                                                  // 3990\n\t\t\tthis._map.closePopup(this);                                                                                      // 3991\n\t\t}                                                                                                                 // 3992\n\t},                                                                                                                 // 3993\n                                                                                                                    // 3994\n\t_initLayout: function () {                                                                                         // 3995\n\t\tvar prefix = 'leaflet-popup',                                                                                     // 3996\n\t\t\tcontainerClass = prefix + ' ' + this.options.className + ' leaflet-zoom-' +                                      // 3997\n\t\t\t        (this._animated ? 'animated' : 'hide'),                                                                  // 3998\n\t\t\tcontainer = this._container = L.DomUtil.create('div', containerClass),                                           // 3999\n\t\t\tcloseButton;                                                                                                     // 4000\n                                                                                                                    // 4001\n\t\tif (this.options.closeButton) {                                                                                   // 4002\n\t\t\tcloseButton = this._closeButton =                                                                                // 4003\n\t\t\t        L.DomUtil.create('a', prefix + '-close-button', container);                                              // 4004\n\t\t\tcloseButton.href = '#close';                                                                                     // 4005\n\t\t\tcloseButton.innerHTML = '&#215;';                                                                                // 4006\n\t\t\tL.DomEvent.disableClickPropagation(closeButton);                                                                 // 4007\n                                                                                                                    // 4008\n\t\t\tL.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);                                             // 4009\n\t\t}                                                                                                                 // 4010\n                                                                                                                    // 4011\n\t\tvar wrapper = this._wrapper =                                                                                     // 4012\n\t\t        L.DomUtil.create('div', prefix + '-content-wrapper', container);                                          // 4013\n\t\tL.DomEvent.disableClickPropagation(wrapper);                                                                      // 4014\n                                                                                                                    // 4015\n\t\tthis._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);                                        // 4016\n                                                                                                                    // 4017\n\t\tL.DomEvent.disableScrollPropagation(this._contentNode);                                                           // 4018\n\t\tL.DomEvent.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);                                                // 4019\n                                                                                                                    // 4020\n\t\tthis._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);                               // 4021\n\t\tthis._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);                                         // 4022\n\t},                                                                                                                 // 4023\n                                                                                                                    // 4024\n\t_updateContent: function () {                                                                                      // 4025\n\t\tif (!this._content) { return; }                                                                                   // 4026\n                                                                                                                    // 4027\n\t\tif (typeof this._content === 'string') {                                                                          // 4028\n\t\t\tthis._contentNode.innerHTML = this._content;                                                                     // 4029\n\t\t} else {                                                                                                          // 4030\n\t\t\twhile (this._contentNode.hasChildNodes()) {                                                                      // 4031\n\t\t\t\tthis._contentNode.removeChild(this._contentNode.firstChild);                                                    // 4032\n\t\t\t}                                                                                                                // 4033\n\t\t\tthis._contentNode.appendChild(this._content);                                                                    // 4034\n\t\t}                                                                                                                 // 4035\n\t\tthis.fire('contentupdate');                                                                                       // 4036\n\t},                                                                                                                 // 4037\n                                                                                                                    // 4038\n\t_updateLayout: function () {                                                                                       // 4039\n\t\tvar container = this._contentNode,                                                                                // 4040\n\t\t    style = container.style;                                                                                      // 4041\n                                                                                                                    // 4042\n\t\tstyle.width = '';                                                                                                 // 4043\n\t\tstyle.whiteSpace = 'nowrap';                                                                                      // 4044\n                                                                                                                    // 4045\n\t\tvar width = container.offsetWidth;                                                                                // 4046\n\t\twidth = Math.min(width, this.options.maxWidth);                                                                   // 4047\n\t\twidth = Math.max(width, this.options.minWidth);                                                                   // 4048\n                                                                                                                    // 4049\n\t\tstyle.width = (width + 1) + 'px';                                                                                 // 4050\n\t\tstyle.whiteSpace = '';                                                                                            // 4051\n                                                                                                                    // 4052\n\t\tstyle.height = '';                                                                                                // 4053\n                                                                                                                    // 4054\n\t\tvar height = container.offsetHeight,                                                                              // 4055\n\t\t    maxHeight = this.options.maxHeight,                                                                           // 4056\n\t\t    scrolledClass = 'leaflet-popup-scrolled';                                                                     // 4057\n                                                                                                                    // 4058\n\t\tif (maxHeight && height > maxHeight) {                                                                            // 4059\n\t\t\tstyle.height = maxHeight + 'px';                                                                                 // 4060\n\t\t\tL.DomUtil.addClass(container, scrolledClass);                                                                    // 4061\n\t\t} else {                                                                                                          // 4062\n\t\t\tL.DomUtil.removeClass(container, scrolledClass);                                                                 // 4063\n\t\t}                                                                                                                 // 4064\n                                                                                                                    // 4065\n\t\tthis._containerWidth = this._container.offsetWidth;                                                               // 4066\n\t},                                                                                                                 // 4067\n                                                                                                                    // 4068\n\t_updatePosition: function () {                                                                                     // 4069\n\t\tif (!this._map) { return; }                                                                                       // 4070\n                                                                                                                    // 4071\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),                                                             // 4072\n\t\t    animated = this._animated,                                                                                    // 4073\n\t\t    offset = L.point(this.options.offset);                                                                        // 4074\n                                                                                                                    // 4075\n\t\tif (animated) {                                                                                                   // 4076\n\t\t\tL.DomUtil.setPosition(this._container, pos);                                                                     // 4077\n\t\t}                                                                                                                 // 4078\n                                                                                                                    // 4079\n\t\tthis._containerBottom = -offset.y - (animated ? 0 : pos.y);                                                       // 4080\n\t\tthis._containerLeft = -Math.round(this._containerWidth / 2) + offset.x + (animated ? 0 : pos.x);                  // 4081\n                                                                                                                    // 4082\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)                         // 4083\n\t\tthis._container.style.bottom = this._containerBottom + 'px';                                                      // 4084\n\t\tthis._container.style.left = this._containerLeft + 'px';                                                          // 4085\n\t},                                                                                                                 // 4086\n                                                                                                                    // 4087\n\t_zoomAnimation: function (opt) {                                                                                   // 4088\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center);                                   // 4089\n                                                                                                                    // 4090\n\t\tL.DomUtil.setPosition(this._container, pos);                                                                      // 4091\n\t},                                                                                                                 // 4092\n                                                                                                                    // 4093\n\t_adjustPan: function () {                                                                                          // 4094\n\t\tif (!this.options.autoPan) { return; }                                                                            // 4095\n                                                                                                                    // 4096\n\t\tvar map = this._map,                                                                                              // 4097\n\t\t    containerHeight = this._container.offsetHeight,                                                               // 4098\n\t\t    containerWidth = this._containerWidth,                                                                        // 4099\n                                                                                                                    // 4100\n\t\t    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);                        // 4101\n                                                                                                                    // 4102\n\t\tif (this._animated) {                                                                                             // 4103\n\t\t\tlayerPos._add(L.DomUtil.getPosition(this._container));                                                           // 4104\n\t\t}                                                                                                                 // 4105\n                                                                                                                    // 4106\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),                                                      // 4107\n\t\t    padding = L.point(this.options.autoPanPadding),                                                               // 4108\n\t\t    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),                                           // 4109\n\t\t    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),                                       // 4110\n\t\t    size = map.getSize(),                                                                                         // 4111\n\t\t    dx = 0,                                                                                                       // 4112\n\t\t    dy = 0;                                                                                                       // 4113\n                                                                                                                    // 4114\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right                                            // 4115\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;                                                     // 4116\n\t\t}                                                                                                                 // 4117\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left                                                              // 4118\n\t\t\tdx = containerPos.x - paddingTL.x;                                                                               // 4119\n\t\t}                                                                                                                 // 4120\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom                                          // 4121\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;                                                    // 4122\n\t\t}                                                                                                                 // 4123\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top                                                               // 4124\n\t\t\tdy = containerPos.y - paddingTL.y;                                                                               // 4125\n\t\t}                                                                                                                 // 4126\n                                                                                                                    // 4127\n\t\tif (dx || dy) {                                                                                                   // 4128\n\t\t\tmap                                                                                                              // 4129\n\t\t\t    .fire('autopanstart')                                                                                        // 4130\n\t\t\t    .panBy([dx, dy]);                                                                                            // 4131\n\t\t}                                                                                                                 // 4132\n\t},                                                                                                                 // 4133\n                                                                                                                    // 4134\n\t_onCloseButtonClick: function (e) {                                                                                // 4135\n\t\tthis._close();                                                                                                    // 4136\n\t\tL.DomEvent.stop(e);                                                                                               // 4137\n\t}                                                                                                                  // 4138\n});                                                                                                                 // 4139\n                                                                                                                    // 4140\nL.popup = function (options, source) {                                                                              // 4141\n\treturn new L.Popup(options, source);                                                                               // 4142\n};                                                                                                                  // 4143\n                                                                                                                    // 4144\n                                                                                                                    // 4145\nL.Map.include({                                                                                                     // 4146\n\topenPopup: function (popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])             // 4147\n\t\tthis.closePopup();                                                                                                // 4148\n                                                                                                                    // 4149\n\t\tif (!(popup instanceof L.Popup)) {                                                                                // 4150\n\t\t\tvar content = popup;                                                                                             // 4151\n                                                                                                                    // 4152\n\t\t\tpopup = new L.Popup(options)                                                                                     // 4153\n\t\t\t    .setLatLng(latlng)                                                                                           // 4154\n\t\t\t    .setContent(content);                                                                                        // 4155\n\t\t}                                                                                                                 // 4156\n\t\tpopup._isOpen = true;                                                                                             // 4157\n                                                                                                                    // 4158\n\t\tthis._popup = popup;                                                                                              // 4159\n\t\treturn this.addLayer(popup);                                                                                      // 4160\n\t},                                                                                                                 // 4161\n                                                                                                                    // 4162\n\tclosePopup: function (popup) {                                                                                     // 4163\n\t\tif (!popup || popup === this._popup) {                                                                            // 4164\n\t\t\tpopup = this._popup;                                                                                             // 4165\n\t\t\tthis._popup = null;                                                                                              // 4166\n\t\t}                                                                                                                 // 4167\n\t\tif (popup) {                                                                                                      // 4168\n\t\t\tthis.removeLayer(popup);                                                                                         // 4169\n\t\t\tpopup._isOpen = false;                                                                                           // 4170\n\t\t}                                                                                                                 // 4171\n\t\treturn this;                                                                                                      // 4172\n\t}                                                                                                                  // 4173\n});                                                                                                                 // 4174\n                                                                                                                    // 4175\n                                                                                                                    // 4176\n/*                                                                                                                  // 4177\n * Popup extension to L.Marker, adding popup-related methods.                                                       // 4178\n */                                                                                                                 // 4179\n                                                                                                                    // 4180\nL.Marker.include({                                                                                                  // 4181\n\topenPopup: function () {                                                                                           // 4182\n\t\tif (this._popup && this._map && !this._map.hasLayer(this._popup)) {                                               // 4183\n\t\t\tthis._popup.setLatLng(this._latlng);                                                                             // 4184\n\t\t\tthis._map.openPopup(this._popup);                                                                                // 4185\n\t\t}                                                                                                                 // 4186\n                                                                                                                    // 4187\n\t\treturn this;                                                                                                      // 4188\n\t},                                                                                                                 // 4189\n                                                                                                                    // 4190\n\tclosePopup: function () {                                                                                          // 4191\n\t\tif (this._popup) {                                                                                                // 4192\n\t\t\tthis._popup._close();                                                                                            // 4193\n\t\t}                                                                                                                 // 4194\n\t\treturn this;                                                                                                      // 4195\n\t},                                                                                                                 // 4196\n                                                                                                                    // 4197\n\ttogglePopup: function () {                                                                                         // 4198\n\t\tif (this._popup) {                                                                                                // 4199\n\t\t\tif (this._popup._isOpen) {                                                                                       // 4200\n\t\t\t\tthis.closePopup();                                                                                              // 4201\n\t\t\t} else {                                                                                                         // 4202\n\t\t\t\tthis.openPopup();                                                                                               // 4203\n\t\t\t}                                                                                                                // 4204\n\t\t}                                                                                                                 // 4205\n\t\treturn this;                                                                                                      // 4206\n\t},                                                                                                                 // 4207\n                                                                                                                    // 4208\n\tbindPopup: function (content, options) {                                                                           // 4209\n\t\tvar anchor = L.point(this.options.icon.options.popupAnchor || [0, 0]);                                            // 4210\n                                                                                                                    // 4211\n\t\tanchor = anchor.add(L.Popup.prototype.options.offset);                                                            // 4212\n                                                                                                                    // 4213\n\t\tif (options && options.offset) {                                                                                  // 4214\n\t\t\tanchor = anchor.add(options.offset);                                                                             // 4215\n\t\t}                                                                                                                 // 4216\n                                                                                                                    // 4217\n\t\toptions = L.extend({offset: anchor}, options);                                                                    // 4218\n                                                                                                                    // 4219\n\t\tif (!this._popupHandlersAdded) {                                                                                  // 4220\n\t\t\tthis                                                                                                             // 4221\n\t\t\t    .on('click', this.togglePopup, this)                                                                         // 4222\n\t\t\t    .on('remove', this.closePopup, this)                                                                         // 4223\n\t\t\t    .on('move', this._movePopup, this);                                                                          // 4224\n\t\t\tthis._popupHandlersAdded = true;                                                                                 // 4225\n\t\t}                                                                                                                 // 4226\n                                                                                                                    // 4227\n\t\tif (content instanceof L.Popup) {                                                                                 // 4228\n\t\t\tL.setOptions(content, options);                                                                                  // 4229\n\t\t\tthis._popup = content;                                                                                           // 4230\n\t\t} else {                                                                                                          // 4231\n\t\t\tthis._popup = new L.Popup(options, this)                                                                         // 4232\n\t\t\t\t.setContent(content);                                                                                           // 4233\n\t\t}                                                                                                                 // 4234\n                                                                                                                    // 4235\n\t\treturn this;                                                                                                      // 4236\n\t},                                                                                                                 // 4237\n                                                                                                                    // 4238\n\tsetPopupContent: function (content) {                                                                              // 4239\n\t\tif (this._popup) {                                                                                                // 4240\n\t\t\tthis._popup.setContent(content);                                                                                 // 4241\n\t\t}                                                                                                                 // 4242\n\t\treturn this;                                                                                                      // 4243\n\t},                                                                                                                 // 4244\n                                                                                                                    // 4245\n\tunbindPopup: function () {                                                                                         // 4246\n\t\tif (this._popup) {                                                                                                // 4247\n\t\t\tthis._popup = null;                                                                                              // 4248\n\t\t\tthis                                                                                                             // 4249\n\t\t\t    .off('click', this.togglePopup, this)                                                                        // 4250\n\t\t\t    .off('remove', this.closePopup, this)                                                                        // 4251\n\t\t\t    .off('move', this._movePopup, this);                                                                         // 4252\n\t\t\tthis._popupHandlersAdded = false;                                                                                // 4253\n\t\t}                                                                                                                 // 4254\n\t\treturn this;                                                                                                      // 4255\n\t},                                                                                                                 // 4256\n                                                                                                                    // 4257\n\tgetPopup: function () {                                                                                            // 4258\n\t\treturn this._popup;                                                                                               // 4259\n\t},                                                                                                                 // 4260\n                                                                                                                    // 4261\n\t_movePopup: function (e) {                                                                                         // 4262\n\t\tthis._popup.setLatLng(e.latlng);                                                                                  // 4263\n\t}                                                                                                                  // 4264\n});                                                                                                                 // 4265\n                                                                                                                    // 4266\n                                                                                                                    // 4267\n/*                                                                                                                  // 4268\n * L.LayerGroup is a class to combine several layers into one so that                                               // 4269\n * you can manipulate the group (e.g. add/remove it) as one layer.                                                  // 4270\n */                                                                                                                 // 4271\n                                                                                                                    // 4272\nL.LayerGroup = L.Class.extend({                                                                                     // 4273\n\tinitialize: function (layers) {                                                                                    // 4274\n\t\tthis._layers = {};                                                                                                // 4275\n                                                                                                                    // 4276\n\t\tvar i, len;                                                                                                       // 4277\n                                                                                                                    // 4278\n\t\tif (layers) {                                                                                                     // 4279\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {                                                                 // 4280\n\t\t\t\tthis.addLayer(layers[i]);                                                                                       // 4281\n\t\t\t}                                                                                                                // 4282\n\t\t}                                                                                                                 // 4283\n\t},                                                                                                                 // 4284\n                                                                                                                    // 4285\n\taddLayer: function (layer) {                                                                                       // 4286\n\t\tvar id = this.getLayerId(layer);                                                                                  // 4287\n                                                                                                                    // 4288\n\t\tthis._layers[id] = layer;                                                                                         // 4289\n                                                                                                                    // 4290\n\t\tif (this._map) {                                                                                                  // 4291\n\t\t\tthis._map.addLayer(layer);                                                                                       // 4292\n\t\t}                                                                                                                 // 4293\n                                                                                                                    // 4294\n\t\treturn this;                                                                                                      // 4295\n\t},                                                                                                                 // 4296\n                                                                                                                    // 4297\n\tremoveLayer: function (layer) {                                                                                    // 4298\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);                                                  // 4299\n                                                                                                                    // 4300\n\t\tif (this._map && this._layers[id]) {                                                                              // 4301\n\t\t\tthis._map.removeLayer(this._layers[id]);                                                                         // 4302\n\t\t}                                                                                                                 // 4303\n                                                                                                                    // 4304\n\t\tdelete this._layers[id];                                                                                          // 4305\n                                                                                                                    // 4306\n\t\treturn this;                                                                                                      // 4307\n\t},                                                                                                                 // 4308\n                                                                                                                    // 4309\n\thasLayer: function (layer) {                                                                                       // 4310\n\t\tif (!layer) { return false; }                                                                                     // 4311\n                                                                                                                    // 4312\n\t\treturn (layer in this._layers || this.getLayerId(layer) in this._layers);                                         // 4313\n\t},                                                                                                                 // 4314\n                                                                                                                    // 4315\n\tclearLayers: function () {                                                                                         // 4316\n\t\tthis.eachLayer(this.removeLayer, this);                                                                           // 4317\n\t\treturn this;                                                                                                      // 4318\n\t},                                                                                                                 // 4319\n                                                                                                                    // 4320\n\tinvoke: function (methodName) {                                                                                    // 4321\n\t\tvar args = Array.prototype.slice.call(arguments, 1),                                                              // 4322\n\t\t    i, layer;                                                                                                     // 4323\n                                                                                                                    // 4324\n\t\tfor (i in this._layers) {                                                                                         // 4325\n\t\t\tlayer = this._layers[i];                                                                                         // 4326\n                                                                                                                    // 4327\n\t\t\tif (layer[methodName]) {                                                                                         // 4328\n\t\t\t\tlayer[methodName].apply(layer, args);                                                                           // 4329\n\t\t\t}                                                                                                                // 4330\n\t\t}                                                                                                                 // 4331\n                                                                                                                    // 4332\n\t\treturn this;                                                                                                      // 4333\n\t},                                                                                                                 // 4334\n                                                                                                                    // 4335\n\tonAdd: function (map) {                                                                                            // 4336\n\t\tthis._map = map;                                                                                                  // 4337\n\t\tthis.eachLayer(map.addLayer, map);                                                                                // 4338\n\t},                                                                                                                 // 4339\n                                                                                                                    // 4340\n\tonRemove: function (map) {                                                                                         // 4341\n\t\tthis.eachLayer(map.removeLayer, map);                                                                             // 4342\n\t\tthis._map = null;                                                                                                 // 4343\n\t},                                                                                                                 // 4344\n                                                                                                                    // 4345\n\taddTo: function (map) {                                                                                            // 4346\n\t\tmap.addLayer(this);                                                                                               // 4347\n\t\treturn this;                                                                                                      // 4348\n\t},                                                                                                                 // 4349\n                                                                                                                    // 4350\n\teachLayer: function (method, context) {                                                                            // 4351\n\t\tfor (var i in this._layers) {                                                                                     // 4352\n\t\t\tmethod.call(context, this._layers[i]);                                                                           // 4353\n\t\t}                                                                                                                 // 4354\n\t\treturn this;                                                                                                      // 4355\n\t},                                                                                                                 // 4356\n                                                                                                                    // 4357\n\tgetLayer: function (id) {                                                                                          // 4358\n\t\treturn this._layers[id];                                                                                          // 4359\n\t},                                                                                                                 // 4360\n                                                                                                                    // 4361\n\tgetLayers: function () {                                                                                           // 4362\n\t\tvar layers = [];                                                                                                  // 4363\n                                                                                                                    // 4364\n\t\tfor (var i in this._layers) {                                                                                     // 4365\n\t\t\tlayers.push(this._layers[i]);                                                                                    // 4366\n\t\t}                                                                                                                 // 4367\n\t\treturn layers;                                                                                                    // 4368\n\t},                                                                                                                 // 4369\n                                                                                                                    // 4370\n\tsetZIndex: function (zIndex) {                                                                                     // 4371\n\t\treturn this.invoke('setZIndex', zIndex);                                                                          // 4372\n\t},                                                                                                                 // 4373\n                                                                                                                    // 4374\n\tgetLayerId: function (layer) {                                                                                     // 4375\n\t\treturn L.stamp(layer);                                                                                            // 4376\n\t}                                                                                                                  // 4377\n});                                                                                                                 // 4378\n                                                                                                                    // 4379\nL.layerGroup = function (layers) {                                                                                  // 4380\n\treturn new L.LayerGroup(layers);                                                                                   // 4381\n};                                                                                                                  // 4382\n                                                                                                                    // 4383\n                                                                                                                    // 4384\n/*                                                                                                                  // 4385\n * L.FeatureGroup extends L.LayerGroup by introducing mouse events and additional methods                           // 4386\n * shared between a group of interactive layers (like vectors or markers).                                          // 4387\n */                                                                                                                 // 4388\n                                                                                                                    // 4389\nL.FeatureGroup = L.LayerGroup.extend({                                                                              // 4390\n\tincludes: L.Mixin.Events,                                                                                          // 4391\n                                                                                                                    // 4392\n\tstatics: {                                                                                                         // 4393\n\t\tEVENTS: 'click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose'                            // 4394\n\t},                                                                                                                 // 4395\n                                                                                                                    // 4396\n\taddLayer: function (layer) {                                                                                       // 4397\n\t\tif (this.hasLayer(layer)) {                                                                                       // 4398\n\t\t\treturn this;                                                                                                     // 4399\n\t\t}                                                                                                                 // 4400\n                                                                                                                    // 4401\n\t\tif ('on' in layer) {                                                                                              // 4402\n\t\t\tlayer.on(L.FeatureGroup.EVENTS, this._propagateEvent, this);                                                     // 4403\n\t\t}                                                                                                                 // 4404\n                                                                                                                    // 4405\n\t\tL.LayerGroup.prototype.addLayer.call(this, layer);                                                                // 4406\n                                                                                                                    // 4407\n\t\tif (this._popupContent && layer.bindPopup) {                                                                      // 4408\n\t\t\tlayer.bindPopup(this._popupContent, this._popupOptions);                                                         // 4409\n\t\t}                                                                                                                 // 4410\n                                                                                                                    // 4411\n\t\treturn this.fire('layeradd', {layer: layer});                                                                     // 4412\n\t},                                                                                                                 // 4413\n                                                                                                                    // 4414\n\tremoveLayer: function (layer) {                                                                                    // 4415\n\t\tif (!this.hasLayer(layer)) {                                                                                      // 4416\n\t\t\treturn this;                                                                                                     // 4417\n\t\t}                                                                                                                 // 4418\n\t\tif (layer in this._layers) {                                                                                      // 4419\n\t\t\tlayer = this._layers[layer];                                                                                     // 4420\n\t\t}                                                                                                                 // 4421\n                                                                                                                    // 4422\n\t\tlayer.off(L.FeatureGroup.EVENTS, this._propagateEvent, this);                                                     // 4423\n                                                                                                                    // 4424\n\t\tL.LayerGroup.prototype.removeLayer.call(this, layer);                                                             // 4425\n                                                                                                                    // 4426\n\t\tif (this._popupContent) {                                                                                         // 4427\n\t\t\tthis.invoke('unbindPopup');                                                                                      // 4428\n\t\t}                                                                                                                 // 4429\n                                                                                                                    // 4430\n\t\treturn this.fire('layerremove', {layer: layer});                                                                  // 4431\n\t},                                                                                                                 // 4432\n                                                                                                                    // 4433\n\tbindPopup: function (content, options) {                                                                           // 4434\n\t\tthis._popupContent = content;                                                                                     // 4435\n\t\tthis._popupOptions = options;                                                                                     // 4436\n\t\treturn this.invoke('bindPopup', content, options);                                                                // 4437\n\t},                                                                                                                 // 4438\n                                                                                                                    // 4439\n\topenPopup: function (latlng) {                                                                                     // 4440\n\t\t// open popup on the first layer                                                                                  // 4441\n\t\tfor (var id in this._layers) {                                                                                    // 4442\n\t\t\tthis._layers[id].openPopup(latlng);                                                                              // 4443\n\t\t\tbreak;                                                                                                           // 4444\n\t\t}                                                                                                                 // 4445\n\t\treturn this;                                                                                                      // 4446\n\t},                                                                                                                 // 4447\n                                                                                                                    // 4448\n\tsetStyle: function (style) {                                                                                       // 4449\n\t\treturn this.invoke('setStyle', style);                                                                            // 4450\n\t},                                                                                                                 // 4451\n                                                                                                                    // 4452\n\tbringToFront: function () {                                                                                        // 4453\n\t\treturn this.invoke('bringToFront');                                                                               // 4454\n\t},                                                                                                                 // 4455\n                                                                                                                    // 4456\n\tbringToBack: function () {                                                                                         // 4457\n\t\treturn this.invoke('bringToBack');                                                                                // 4458\n\t},                                                                                                                 // 4459\n                                                                                                                    // 4460\n\tgetBounds: function () {                                                                                           // 4461\n\t\tvar bounds = new L.LatLngBounds();                                                                                // 4462\n                                                                                                                    // 4463\n\t\tthis.eachLayer(function (layer) {                                                                                 // 4464\n\t\t\tbounds.extend(layer instanceof L.Marker ? layer.getLatLng() : layer.getBounds());                                // 4465\n\t\t});                                                                                                               // 4466\n                                                                                                                    // 4467\n\t\treturn bounds;                                                                                                    // 4468\n\t},                                                                                                                 // 4469\n                                                                                                                    // 4470\n\t_propagateEvent: function (e) {                                                                                    // 4471\n\t\te = L.extend({                                                                                                    // 4472\n\t\t\tlayer: e.target,                                                                                                 // 4473\n\t\t\ttarget: this                                                                                                     // 4474\n\t\t}, e);                                                                                                            // 4475\n\t\tthis.fire(e.type, e);                                                                                             // 4476\n\t}                                                                                                                  // 4477\n});                                                                                                                 // 4478\n                                                                                                                    // 4479\nL.featureGroup = function (layers) {                                                                                // 4480\n\treturn new L.FeatureGroup(layers);                                                                                 // 4481\n};                                                                                                                  // 4482\n                                                                                                                    // 4483\n                                                                                                                    // 4484\n/*                                                                                                                  // 4485\n * L.Path is a base class for rendering vector paths on a map. Inherited by Polyline, Circle, etc.                  // 4486\n */                                                                                                                 // 4487\n                                                                                                                    // 4488\nL.Path = L.Class.extend({                                                                                           // 4489\n\tincludes: [L.Mixin.Events],                                                                                        // 4490\n                                                                                                                    // 4491\n\tstatics: {                                                                                                         // 4492\n\t\t// how much to extend the clip area around the map view                                                           // 4493\n\t\t// (relative to its size, e.g. 0.5 is half the screen in each direction)                                          // 4494\n\t\t// set it so that SVG element doesn't exceed 1280px (vectors flicker on dragend if it is)                         // 4495\n\t\tCLIP_PADDING: (function () {                                                                                      // 4496\n\t\t\tvar max = L.Browser.mobile ? 1280 : 2000,                                                                        // 4497\n\t\t\t    target = (max / Math.max(window.outerWidth, window.outerHeight) - 1) / 2;                                    // 4498\n\t\t\treturn Math.max(0, Math.min(0.5, target));                                                                       // 4499\n\t\t})()                                                                                                              // 4500\n\t},                                                                                                                 // 4501\n                                                                                                                    // 4502\n\toptions: {                                                                                                         // 4503\n\t\tstroke: true,                                                                                                     // 4504\n\t\tcolor: '#0033ff',                                                                                                 // 4505\n\t\tdashArray: null,                                                                                                  // 4506\n\t\tlineCap: null,                                                                                                    // 4507\n\t\tlineJoin: null,                                                                                                   // 4508\n\t\tweight: 5,                                                                                                        // 4509\n\t\topacity: 0.5,                                                                                                     // 4510\n                                                                                                                    // 4511\n\t\tfill: false,                                                                                                      // 4512\n\t\tfillColor: null, //same as color by default                                                                       // 4513\n\t\tfillOpacity: 0.2,                                                                                                 // 4514\n                                                                                                                    // 4515\n\t\tclickable: true                                                                                                   // 4516\n\t},                                                                                                                 // 4517\n                                                                                                                    // 4518\n\tinitialize: function (options) {                                                                                   // 4519\n\t\tL.setOptions(this, options);                                                                                      // 4520\n\t},                                                                                                                 // 4521\n                                                                                                                    // 4522\n\tonAdd: function (map) {                                                                                            // 4523\n\t\tthis._map = map;                                                                                                  // 4524\n                                                                                                                    // 4525\n\t\tif (!this._container) {                                                                                           // 4526\n\t\t\tthis._initElements();                                                                                            // 4527\n\t\t\tthis._initEvents();                                                                                              // 4528\n\t\t}                                                                                                                 // 4529\n                                                                                                                    // 4530\n\t\tthis.projectLatlngs();                                                                                            // 4531\n\t\tthis._updatePath();                                                                                               // 4532\n                                                                                                                    // 4533\n\t\tif (this._container) {                                                                                            // 4534\n\t\t\tthis._map._pathRoot.appendChild(this._container);                                                                // 4535\n\t\t}                                                                                                                 // 4536\n                                                                                                                    // 4537\n\t\tthis.fire('add');                                                                                                 // 4538\n                                                                                                                    // 4539\n\t\tmap.on({                                                                                                          // 4540\n\t\t\t'viewreset': this.projectLatlngs,                                                                                // 4541\n\t\t\t'moveend': this._updatePath                                                                                      // 4542\n\t\t}, this);                                                                                                         // 4543\n\t},                                                                                                                 // 4544\n                                                                                                                    // 4545\n\taddTo: function (map) {                                                                                            // 4546\n\t\tmap.addLayer(this);                                                                                               // 4547\n\t\treturn this;                                                                                                      // 4548\n\t},                                                                                                                 // 4549\n                                                                                                                    // 4550\n\tonRemove: function (map) {                                                                                         // 4551\n\t\tmap._pathRoot.removeChild(this._container);                                                                       // 4552\n                                                                                                                    // 4553\n\t\t// Need to fire remove event before we set _map to null as the event hooks might need the object                  // 4554\n\t\tthis.fire('remove');                                                                                              // 4555\n\t\tthis._map = null;                                                                                                 // 4556\n                                                                                                                    // 4557\n\t\tif (L.Browser.vml) {                                                                                              // 4558\n\t\t\tthis._container = null;                                                                                          // 4559\n\t\t\tthis._stroke = null;                                                                                             // 4560\n\t\t\tthis._fill = null;                                                                                               // 4561\n\t\t}                                                                                                                 // 4562\n                                                                                                                    // 4563\n\t\tmap.off({                                                                                                         // 4564\n\t\t\t'viewreset': this.projectLatlngs,                                                                                // 4565\n\t\t\t'moveend': this._updatePath                                                                                      // 4566\n\t\t}, this);                                                                                                         // 4567\n\t},                                                                                                                 // 4568\n                                                                                                                    // 4569\n\tprojectLatlngs: function () {                                                                                      // 4570\n\t\t// do all projection stuff here                                                                                   // 4571\n\t},                                                                                                                 // 4572\n                                                                                                                    // 4573\n\tsetStyle: function (style) {                                                                                       // 4574\n\t\tL.setOptions(this, style);                                                                                        // 4575\n                                                                                                                    // 4576\n\t\tif (this._container) {                                                                                            // 4577\n\t\t\tthis._updateStyle();                                                                                             // 4578\n\t\t}                                                                                                                 // 4579\n                                                                                                                    // 4580\n\t\treturn this;                                                                                                      // 4581\n\t},                                                                                                                 // 4582\n                                                                                                                    // 4583\n\tredraw: function () {                                                                                              // 4584\n\t\tif (this._map) {                                                                                                  // 4585\n\t\t\tthis.projectLatlngs();                                                                                           // 4586\n\t\t\tthis._updatePath();                                                                                              // 4587\n\t\t}                                                                                                                 // 4588\n\t\treturn this;                                                                                                      // 4589\n\t}                                                                                                                  // 4590\n});                                                                                                                 // 4591\n                                                                                                                    // 4592\nL.Map.include({                                                                                                     // 4593\n\t_updatePathViewport: function () {                                                                                 // 4594\n\t\tvar p = L.Path.CLIP_PADDING,                                                                                      // 4595\n\t\t    size = this.getSize(),                                                                                        // 4596\n\t\t    panePos = L.DomUtil.getPosition(this._mapPane),                                                               // 4597\n\t\t    min = panePos.multiplyBy(-1)._subtract(size.multiplyBy(p)._round()),                                          // 4598\n\t\t    max = min.add(size.multiplyBy(1 + p * 2)._round());                                                           // 4599\n                                                                                                                    // 4600\n\t\tthis._pathViewport = new L.Bounds(min, max);                                                                      // 4601\n\t}                                                                                                                  // 4602\n});                                                                                                                 // 4603\n                                                                                                                    // 4604\n                                                                                                                    // 4605\n/*                                                                                                                  // 4606\n * Extends L.Path with SVG-specific rendering code.                                                                 // 4607\n */                                                                                                                 // 4608\n                                                                                                                    // 4609\nL.Path.SVG_NS = 'http://www.w3.org/2000/svg';                                                                       // 4610\n                                                                                                                    // 4611\nL.Browser.svg = !!(document.createElementNS && document.createElementNS(L.Path.SVG_NS, 'svg').createSVGRect);       // 4612\n                                                                                                                    // 4613\nL.Path = L.Path.extend({                                                                                            // 4614\n\tstatics: {                                                                                                         // 4615\n\t\tSVG: L.Browser.svg                                                                                                // 4616\n\t},                                                                                                                 // 4617\n                                                                                                                    // 4618\n\tbringToFront: function () {                                                                                        // 4619\n\t\tvar root = this._map._pathRoot,                                                                                   // 4620\n\t\t    path = this._container;                                                                                       // 4621\n                                                                                                                    // 4622\n\t\tif (path && root.lastChild !== path) {                                                                            // 4623\n\t\t\troot.appendChild(path);                                                                                          // 4624\n\t\t}                                                                                                                 // 4625\n\t\treturn this;                                                                                                      // 4626\n\t},                                                                                                                 // 4627\n                                                                                                                    // 4628\n\tbringToBack: function () {                                                                                         // 4629\n\t\tvar root = this._map._pathRoot,                                                                                   // 4630\n\t\t    path = this._container,                                                                                       // 4631\n\t\t    first = root.firstChild;                                                                                      // 4632\n                                                                                                                    // 4633\n\t\tif (path && first !== path) {                                                                                     // 4634\n\t\t\troot.insertBefore(path, first);                                                                                  // 4635\n\t\t}                                                                                                                 // 4636\n\t\treturn this;                                                                                                      // 4637\n\t},                                                                                                                 // 4638\n                                                                                                                    // 4639\n\tgetPathString: function () {                                                                                       // 4640\n\t\t// form path string here                                                                                          // 4641\n\t},                                                                                                                 // 4642\n                                                                                                                    // 4643\n\t_createElement: function (name) {                                                                                  // 4644\n\t\treturn document.createElementNS(L.Path.SVG_NS, name);                                                             // 4645\n\t},                                                                                                                 // 4646\n                                                                                                                    // 4647\n\t_initElements: function () {                                                                                       // 4648\n\t\tthis._map._initPathRoot();                                                                                        // 4649\n\t\tthis._initPath();                                                                                                 // 4650\n\t\tthis._initStyle();                                                                                                // 4651\n\t},                                                                                                                 // 4652\n                                                                                                                    // 4653\n\t_initPath: function () {                                                                                           // 4654\n\t\tthis._container = this._createElement('g');                                                                       // 4655\n                                                                                                                    // 4656\n\t\tthis._path = this._createElement('path');                                                                         // 4657\n                                                                                                                    // 4658\n\t\tif (this.options.className) {                                                                                     // 4659\n\t\t\tL.DomUtil.addClass(this._path, this.options.className);                                                          // 4660\n\t\t}                                                                                                                 // 4661\n                                                                                                                    // 4662\n\t\tthis._container.appendChild(this._path);                                                                          // 4663\n\t},                                                                                                                 // 4664\n                                                                                                                    // 4665\n\t_initStyle: function () {                                                                                          // 4666\n\t\tif (this.options.stroke) {                                                                                        // 4667\n\t\t\tthis._path.setAttribute('stroke-linejoin', 'round');                                                             // 4668\n\t\t\tthis._path.setAttribute('stroke-linecap', 'round');                                                              // 4669\n\t\t}                                                                                                                 // 4670\n\t\tif (this.options.fill) {                                                                                          // 4671\n\t\t\tthis._path.setAttribute('fill-rule', 'evenodd');                                                                 // 4672\n\t\t}                                                                                                                 // 4673\n\t\tif (this.options.pointerEvents) {                                                                                 // 4674\n\t\t\tthis._path.setAttribute('pointer-events', this.options.pointerEvents);                                           // 4675\n\t\t}                                                                                                                 // 4676\n\t\tif (!this.options.clickable && !this.options.pointerEvents) {                                                     // 4677\n\t\t\tthis._path.setAttribute('pointer-events', 'none');                                                               // 4678\n\t\t}                                                                                                                 // 4679\n\t\tthis._updateStyle();                                                                                              // 4680\n\t},                                                                                                                 // 4681\n                                                                                                                    // 4682\n\t_updateStyle: function () {                                                                                        // 4683\n\t\tif (this.options.stroke) {                                                                                        // 4684\n\t\t\tthis._path.setAttribute('stroke', this.options.color);                                                           // 4685\n\t\t\tthis._path.setAttribute('stroke-opacity', this.options.opacity);                                                 // 4686\n\t\t\tthis._path.setAttribute('stroke-width', this.options.weight);                                                    // 4687\n\t\t\tif (this.options.dashArray) {                                                                                    // 4688\n\t\t\t\tthis._path.setAttribute('stroke-dasharray', this.options.dashArray);                                            // 4689\n\t\t\t} else {                                                                                                         // 4690\n\t\t\t\tthis._path.removeAttribute('stroke-dasharray');                                                                 // 4691\n\t\t\t}                                                                                                                // 4692\n\t\t\tif (this.options.lineCap) {                                                                                      // 4693\n\t\t\t\tthis._path.setAttribute('stroke-linecap', this.options.lineCap);                                                // 4694\n\t\t\t}                                                                                                                // 4695\n\t\t\tif (this.options.lineJoin) {                                                                                     // 4696\n\t\t\t\tthis._path.setAttribute('stroke-linejoin', this.options.lineJoin);                                              // 4697\n\t\t\t}                                                                                                                // 4698\n\t\t} else {                                                                                                          // 4699\n\t\t\tthis._path.setAttribute('stroke', 'none');                                                                       // 4700\n\t\t}                                                                                                                 // 4701\n\t\tif (this.options.fill) {                                                                                          // 4702\n\t\t\tthis._path.setAttribute('fill', this.options.fillColor || this.options.color);                                   // 4703\n\t\t\tthis._path.setAttribute('fill-opacity', this.options.fillOpacity);                                               // 4704\n\t\t} else {                                                                                                          // 4705\n\t\t\tthis._path.setAttribute('fill', 'none');                                                                         // 4706\n\t\t}                                                                                                                 // 4707\n\t},                                                                                                                 // 4708\n                                                                                                                    // 4709\n\t_updatePath: function () {                                                                                         // 4710\n\t\tvar str = this.getPathString();                                                                                   // 4711\n\t\tif (!str) {                                                                                                       // 4712\n\t\t\t// fix webkit empty string parsing bug                                                                           // 4713\n\t\t\tstr = 'M0 0';                                                                                                    // 4714\n\t\t}                                                                                                                 // 4715\n\t\tthis._path.setAttribute('d', str);                                                                                // 4716\n\t},                                                                                                                 // 4717\n                                                                                                                    // 4718\n\t// TODO remove duplication with L.Map                                                                              // 4719\n\t_initEvents: function () {                                                                                         // 4720\n\t\tif (this.options.clickable) {                                                                                     // 4721\n\t\t\tif (L.Browser.svg || !L.Browser.vml) {                                                                           // 4722\n\t\t\t\tL.DomUtil.addClass(this._path, 'leaflet-clickable');                                                            // 4723\n\t\t\t}                                                                                                                // 4724\n                                                                                                                    // 4725\n\t\t\tL.DomEvent.on(this._container, 'click', this._onMouseClick, this);                                               // 4726\n                                                                                                                    // 4727\n\t\t\tvar events = ['dblclick', 'mousedown', 'mouseover',                                                              // 4728\n\t\t\t              'mouseout', 'mousemove', 'contextmenu'];                                                           // 4729\n\t\t\tfor (var i = 0; i < events.length; i++) {                                                                        // 4730\n\t\t\t\tL.DomEvent.on(this._container, events[i], this._fireMouseEvent, this);                                          // 4731\n\t\t\t}                                                                                                                // 4732\n\t\t}                                                                                                                 // 4733\n\t},                                                                                                                 // 4734\n                                                                                                                    // 4735\n\t_onMouseClick: function (e) {                                                                                      // 4736\n\t\tif (this._map.dragging && this._map.dragging.moved()) { return; }                                                 // 4737\n                                                                                                                    // 4738\n\t\tthis._fireMouseEvent(e);                                                                                          // 4739\n\t},                                                                                                                 // 4740\n                                                                                                                    // 4741\n\t_fireMouseEvent: function (e) {                                                                                    // 4742\n\t\tif (!this.hasEventListeners(e.type)) { return; }                                                                  // 4743\n                                                                                                                    // 4744\n\t\tvar map = this._map,                                                                                              // 4745\n\t\t    containerPoint = map.mouseEventToContainerPoint(e),                                                           // 4746\n\t\t    layerPoint = map.containerPointToLayerPoint(containerPoint),                                                  // 4747\n\t\t    latlng = map.layerPointToLatLng(layerPoint);                                                                  // 4748\n                                                                                                                    // 4749\n\t\tthis.fire(e.type, {                                                                                               // 4750\n\t\t\tlatlng: latlng,                                                                                                  // 4751\n\t\t\tlayerPoint: layerPoint,                                                                                          // 4752\n\t\t\tcontainerPoint: containerPoint,                                                                                  // 4753\n\t\t\toriginalEvent: e                                                                                                 // 4754\n\t\t});                                                                                                               // 4755\n                                                                                                                    // 4756\n\t\tif (e.type === 'contextmenu') {                                                                                   // 4757\n\t\t\tL.DomEvent.preventDefault(e);                                                                                    // 4758\n\t\t}                                                                                                                 // 4759\n\t\tif (e.type !== 'mousemove') {                                                                                     // 4760\n\t\t\tL.DomEvent.stopPropagation(e);                                                                                   // 4761\n\t\t}                                                                                                                 // 4762\n\t}                                                                                                                  // 4763\n});                                                                                                                 // 4764\n                                                                                                                    // 4765\nL.Map.include({                                                                                                     // 4766\n\t_initPathRoot: function () {                                                                                       // 4767\n\t\tif (!this._pathRoot) {                                                                                            // 4768\n\t\t\tthis._pathRoot = L.Path.prototype._createElement('svg');                                                         // 4769\n\t\t\tthis._panes.overlayPane.appendChild(this._pathRoot);                                                             // 4770\n                                                                                                                    // 4771\n\t\t\tif (this.options.zoomAnimation && L.Browser.any3d) {                                                             // 4772\n\t\t\t\tL.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-animated');                                                    // 4773\n                                                                                                                    // 4774\n\t\t\t\tthis.on({                                                                                                       // 4775\n\t\t\t\t\t'zoomanim': this._animatePathZoom,                                                                             // 4776\n\t\t\t\t\t'zoomend': this._endPathZoom                                                                                   // 4777\n\t\t\t\t});                                                                                                             // 4778\n\t\t\t} else {                                                                                                         // 4779\n\t\t\t\tL.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-hide');                                                        // 4780\n\t\t\t}                                                                                                                // 4781\n                                                                                                                    // 4782\n\t\t\tthis.on('moveend', this._updateSvgViewport);                                                                     // 4783\n\t\t\tthis._updateSvgViewport();                                                                                       // 4784\n\t\t}                                                                                                                 // 4785\n\t},                                                                                                                 // 4786\n                                                                                                                    // 4787\n\t_animatePathZoom: function (e) {                                                                                   // 4788\n\t\tvar scale = this.getZoomScale(e.zoom),                                                                            // 4789\n\t\t    offset = this._getCenterOffset(e.center)._multiplyBy(-scale)._add(this._pathViewport.min);                    // 4790\n                                                                                                                    // 4791\n\t\tthis._pathRoot.style[L.DomUtil.TRANSFORM] =                                                                       // 4792\n\t\t        L.DomUtil.getTranslateString(offset) + ' scale(' + scale + ') ';                                          // 4793\n                                                                                                                    // 4794\n\t\tthis._pathZooming = true;                                                                                         // 4795\n\t},                                                                                                                 // 4796\n                                                                                                                    // 4797\n\t_endPathZoom: function () {                                                                                        // 4798\n\t\tthis._pathZooming = false;                                                                                        // 4799\n\t},                                                                                                                 // 4800\n                                                                                                                    // 4801\n\t_updateSvgViewport: function () {                                                                                  // 4802\n                                                                                                                    // 4803\n\t\tif (this._pathZooming) {                                                                                          // 4804\n\t\t\t// Do not update SVGs while a zoom animation is going on otherwise the animation will break.                     // 4805\n\t\t\t// When the zoom animation ends we will be updated again anyway                                                  // 4806\n\t\t\t// This fixes the case where you do a momentum move and zoom while the move is still ongoing.                    // 4807\n\t\t\treturn;                                                                                                          // 4808\n\t\t}                                                                                                                 // 4809\n                                                                                                                    // 4810\n\t\tthis._updatePathViewport();                                                                                       // 4811\n                                                                                                                    // 4812\n\t\tvar vp = this._pathViewport,                                                                                      // 4813\n\t\t    min = vp.min,                                                                                                 // 4814\n\t\t    max = vp.max,                                                                                                 // 4815\n\t\t    width = max.x - min.x,                                                                                        // 4816\n\t\t    height = max.y - min.y,                                                                                       // 4817\n\t\t    root = this._pathRoot,                                                                                        // 4818\n\t\t    pane = this._panes.overlayPane;                                                                               // 4819\n                                                                                                                    // 4820\n\t\t// Hack to make flicker on drag end on mobile webkit less irritating                                              // 4821\n\t\tif (L.Browser.mobileWebkit) {                                                                                     // 4822\n\t\t\tpane.removeChild(root);                                                                                          // 4823\n\t\t}                                                                                                                 // 4824\n                                                                                                                    // 4825\n\t\tL.DomUtil.setPosition(root, min);                                                                                 // 4826\n\t\troot.setAttribute('width', width);                                                                                // 4827\n\t\troot.setAttribute('height', height);                                                                              // 4828\n\t\troot.setAttribute('viewBox', [min.x, min.y, width, height].join(' '));                                            // 4829\n                                                                                                                    // 4830\n\t\tif (L.Browser.mobileWebkit) {                                                                                     // 4831\n\t\t\tpane.appendChild(root);                                                                                          // 4832\n\t\t}                                                                                                                 // 4833\n\t}                                                                                                                  // 4834\n});                                                                                                                 // 4835\n                                                                                                                    // 4836\n                                                                                                                    // 4837\n/*                                                                                                                  // 4838\n * Popup extension to L.Path (polylines, polygons, circles), adding popup-related methods.                          // 4839\n */                                                                                                                 // 4840\n                                                                                                                    // 4841\nL.Path.include({                                                                                                    // 4842\n                                                                                                                    // 4843\n\tbindPopup: function (content, options) {                                                                           // 4844\n                                                                                                                    // 4845\n\t\tif (content instanceof L.Popup) {                                                                                 // 4846\n\t\t\tthis._popup = content;                                                                                           // 4847\n\t\t} else {                                                                                                          // 4848\n\t\t\tif (!this._popup || options) {                                                                                   // 4849\n\t\t\t\tthis._popup = new L.Popup(options, this);                                                                       // 4850\n\t\t\t}                                                                                                                // 4851\n\t\t\tthis._popup.setContent(content);                                                                                 // 4852\n\t\t}                                                                                                                 // 4853\n                                                                                                                    // 4854\n\t\tif (!this._popupHandlersAdded) {                                                                                  // 4855\n\t\t\tthis                                                                                                             // 4856\n\t\t\t    .on('click', this._openPopup, this)                                                                          // 4857\n\t\t\t    .on('remove', this.closePopup, this);                                                                        // 4858\n                                                                                                                    // 4859\n\t\t\tthis._popupHandlersAdded = true;                                                                                 // 4860\n\t\t}                                                                                                                 // 4861\n                                                                                                                    // 4862\n\t\treturn this;                                                                                                      // 4863\n\t},                                                                                                                 // 4864\n                                                                                                                    // 4865\n\tunbindPopup: function () {                                                                                         // 4866\n\t\tif (this._popup) {                                                                                                // 4867\n\t\t\tthis._popup = null;                                                                                              // 4868\n\t\t\tthis                                                                                                             // 4869\n\t\t\t    .off('click', this._openPopup)                                                                               // 4870\n\t\t\t    .off('remove', this.closePopup);                                                                             // 4871\n                                                                                                                    // 4872\n\t\t\tthis._popupHandlersAdded = false;                                                                                // 4873\n\t\t}                                                                                                                 // 4874\n\t\treturn this;                                                                                                      // 4875\n\t},                                                                                                                 // 4876\n                                                                                                                    // 4877\n\topenPopup: function (latlng) {                                                                                     // 4878\n                                                                                                                    // 4879\n\t\tif (this._popup) {                                                                                                // 4880\n\t\t\t// open the popup from one of the path's points if not specified                                                 // 4881\n\t\t\tlatlng = latlng || this._latlng ||                                                                               // 4882\n\t\t\t         this._latlngs[Math.floor(this._latlngs.length / 2)];                                                    // 4883\n                                                                                                                    // 4884\n\t\t\tthis._openPopup({latlng: latlng});                                                                               // 4885\n\t\t}                                                                                                                 // 4886\n                                                                                                                    // 4887\n\t\treturn this;                                                                                                      // 4888\n\t},                                                                                                                 // 4889\n                                                                                                                    // 4890\n\tclosePopup: function () {                                                                                          // 4891\n\t\tif (this._popup) {                                                                                                // 4892\n\t\t\tthis._popup._close();                                                                                            // 4893\n\t\t}                                                                                                                 // 4894\n\t\treturn this;                                                                                                      // 4895\n\t},                                                                                                                 // 4896\n                                                                                                                    // 4897\n\t_openPopup: function (e) {                                                                                         // 4898\n\t\tthis._popup.setLatLng(e.latlng);                                                                                  // 4899\n\t\tthis._map.openPopup(this._popup);                                                                                 // 4900\n\t}                                                                                                                  // 4901\n});                                                                                                                 // 4902\n                                                                                                                    // 4903\n                                                                                                                    // 4904\n/*                                                                                                                  // 4905\n * Vector rendering for IE6-8 through VML.                                                                          // 4906\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!                                             // 4907\n */                                                                                                                 // 4908\n                                                                                                                    // 4909\nL.Browser.vml = !L.Browser.svg && (function () {                                                                    // 4910\n\ttry {                                                                                                              // 4911\n\t\tvar div = document.createElement('div');                                                                          // 4912\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';                                                                             // 4913\n                                                                                                                    // 4914\n\t\tvar shape = div.firstChild;                                                                                       // 4915\n\t\tshape.style.behavior = 'url(#default#VML)';                                                                       // 4916\n                                                                                                                    // 4917\n\t\treturn shape && (typeof shape.adj === 'object');                                                                  // 4918\n                                                                                                                    // 4919\n\t} catch (e) {                                                                                                      // 4920\n\t\treturn false;                                                                                                     // 4921\n\t}                                                                                                                  // 4922\n}());                                                                                                               // 4923\n                                                                                                                    // 4924\nL.Path = L.Browser.svg || !L.Browser.vml ? L.Path : L.Path.extend({                                                 // 4925\n\tstatics: {                                                                                                         // 4926\n\t\tVML: true,                                                                                                        // 4927\n\t\tCLIP_PADDING: 0.02                                                                                                // 4928\n\t},                                                                                                                 // 4929\n                                                                                                                    // 4930\n\t_createElement: (function () {                                                                                     // 4931\n\t\ttry {                                                                                                             // 4932\n\t\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');                                                // 4933\n\t\t\treturn function (name) {                                                                                         // 4934\n\t\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');                                              // 4935\n\t\t\t};                                                                                                               // 4936\n\t\t} catch (e) {                                                                                                     // 4937\n\t\t\treturn function (name) {                                                                                         // 4938\n\t\t\t\treturn document.createElement(                                                                                  // 4939\n\t\t\t\t        '<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');                                   // 4940\n\t\t\t};                                                                                                               // 4941\n\t\t}                                                                                                                 // 4942\n\t}()),                                                                                                              // 4943\n                                                                                                                    // 4944\n\t_initPath: function () {                                                                                           // 4945\n\t\tvar container = this._container = this._createElement('shape');                                                   // 4946\n                                                                                                                    // 4947\n\t\tL.DomUtil.addClass(container, 'leaflet-vml-shape' +                                                               // 4948\n\t\t\t(this.options.className ? ' ' + this.options.className : ''));                                                   // 4949\n                                                                                                                    // 4950\n\t\tif (this.options.clickable) {                                                                                     // 4951\n\t\t\tL.DomUtil.addClass(container, 'leaflet-clickable');                                                              // 4952\n\t\t}                                                                                                                 // 4953\n                                                                                                                    // 4954\n\t\tcontainer.coordsize = '1 1';                                                                                      // 4955\n                                                                                                                    // 4956\n\t\tthis._path = this._createElement('path');                                                                         // 4957\n\t\tcontainer.appendChild(this._path);                                                                                // 4958\n                                                                                                                    // 4959\n\t\tthis._map._pathRoot.appendChild(container);                                                                       // 4960\n\t},                                                                                                                 // 4961\n                                                                                                                    // 4962\n\t_initStyle: function () {                                                                                          // 4963\n\t\tthis._updateStyle();                                                                                              // 4964\n\t},                                                                                                                 // 4965\n                                                                                                                    // 4966\n\t_updateStyle: function () {                                                                                        // 4967\n\t\tvar stroke = this._stroke,                                                                                        // 4968\n\t\t    fill = this._fill,                                                                                            // 4969\n\t\t    options = this.options,                                                                                       // 4970\n\t\t    container = this._container;                                                                                  // 4971\n                                                                                                                    // 4972\n\t\tcontainer.stroked = options.stroke;                                                                               // 4973\n\t\tcontainer.filled = options.fill;                                                                                  // 4974\n                                                                                                                    // 4975\n\t\tif (options.stroke) {                                                                                             // 4976\n\t\t\tif (!stroke) {                                                                                                   // 4977\n\t\t\t\tstroke = this._stroke = this._createElement('stroke');                                                          // 4978\n\t\t\t\tstroke.endcap = 'round';                                                                                        // 4979\n\t\t\t\tcontainer.appendChild(stroke);                                                                                  // 4980\n\t\t\t}                                                                                                                // 4981\n\t\t\tstroke.weight = options.weight + 'px';                                                                           // 4982\n\t\t\tstroke.color = options.color;                                                                                    // 4983\n\t\t\tstroke.opacity = options.opacity;                                                                                // 4984\n                                                                                                                    // 4985\n\t\t\tif (options.dashArray) {                                                                                         // 4986\n\t\t\t\tstroke.dashStyle = L.Util.isArray(options.dashArray) ?                                                          // 4987\n\t\t\t\t    options.dashArray.join(' ') :                                                                               // 4988\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');                                                                 // 4989\n\t\t\t} else {                                                                                                         // 4990\n\t\t\t\tstroke.dashStyle = '';                                                                                          // 4991\n\t\t\t}                                                                                                                // 4992\n\t\t\tif (options.lineCap) {                                                                                           // 4993\n\t\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');                                                        // 4994\n\t\t\t}                                                                                                                // 4995\n\t\t\tif (options.lineJoin) {                                                                                          // 4996\n\t\t\t\tstroke.joinstyle = options.lineJoin;                                                                            // 4997\n\t\t\t}                                                                                                                // 4998\n                                                                                                                    // 4999\n\t\t} else if (stroke) {                                                                                              // 5000\n\t\t\tcontainer.removeChild(stroke);                                                                                   // 5001\n\t\t\tthis._stroke = null;                                                                                             // 5002\n\t\t}                                                                                                                 // 5003\n                                                                                                                    // 5004\n\t\tif (options.fill) {                                                                                               // 5005\n\t\t\tif (!fill) {                                                                                                     // 5006\n\t\t\t\tfill = this._fill = this._createElement('fill');                                                                // 5007\n\t\t\t\tcontainer.appendChild(fill);                                                                                    // 5008\n\t\t\t}                                                                                                                // 5009\n\t\t\tfill.color = options.fillColor || options.color;                                                                 // 5010\n\t\t\tfill.opacity = options.fillOpacity;                                                                              // 5011\n                                                                                                                    // 5012\n\t\t} else if (fill) {                                                                                                // 5013\n\t\t\tcontainer.removeChild(fill);                                                                                     // 5014\n\t\t\tthis._fill = null;                                                                                               // 5015\n\t\t}                                                                                                                 // 5016\n\t},                                                                                                                 // 5017\n                                                                                                                    // 5018\n\t_updatePath: function () {                                                                                         // 5019\n\t\tvar style = this._container.style;                                                                                // 5020\n                                                                                                                    // 5021\n\t\tstyle.display = 'none';                                                                                           // 5022\n\t\tthis._path.v = this.getPathString() + ' '; // the space fixes IE empty path string bug                            // 5023\n\t\tstyle.display = '';                                                                                               // 5024\n\t}                                                                                                                  // 5025\n});                                                                                                                 // 5026\n                                                                                                                    // 5027\nL.Map.include(L.Browser.svg || !L.Browser.vml ? {} : {                                                              // 5028\n\t_initPathRoot: function () {                                                                                       // 5029\n\t\tif (this._pathRoot) { return; }                                                                                   // 5030\n                                                                                                                    // 5031\n\t\tvar root = this._pathRoot = document.createElement('div');                                                        // 5032\n\t\troot.className = 'leaflet-vml-container';                                                                         // 5033\n\t\tthis._panes.overlayPane.appendChild(root);                                                                        // 5034\n                                                                                                                    // 5035\n\t\tthis.on('moveend', this._updatePathViewport);                                                                     // 5036\n\t\tthis._updatePathViewport();                                                                                       // 5037\n\t}                                                                                                                  // 5038\n});                                                                                                                 // 5039\n                                                                                                                    // 5040\n                                                                                                                    // 5041\n/*                                                                                                                  // 5042\n * Vector rendering for all browsers that support canvas.                                                           // 5043\n */                                                                                                                 // 5044\n                                                                                                                    // 5045\nL.Browser.canvas = (function () {                                                                                   // 5046\n\treturn !!document.createElement('canvas').getContext;                                                              // 5047\n}());                                                                                                               // 5048\n                                                                                                                    // 5049\nL.Path = (L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? L.Path : L.Path.extend({                    // 5050\n\tstatics: {                                                                                                         // 5051\n\t\t//CLIP_PADDING: 0.02, // not sure if there's a need to set it to a small value                                    // 5052\n\t\tCANVAS: true,                                                                                                     // 5053\n\t\tSVG: false                                                                                                        // 5054\n\t},                                                                                                                 // 5055\n                                                                                                                    // 5056\n\tredraw: function () {                                                                                              // 5057\n\t\tif (this._map) {                                                                                                  // 5058\n\t\t\tthis.projectLatlngs();                                                                                           // 5059\n\t\t\tthis._requestUpdate();                                                                                           // 5060\n\t\t}                                                                                                                 // 5061\n\t\treturn this;                                                                                                      // 5062\n\t},                                                                                                                 // 5063\n                                                                                                                    // 5064\n\tsetStyle: function (style) {                                                                                       // 5065\n\t\tL.setOptions(this, style);                                                                                        // 5066\n                                                                                                                    // 5067\n\t\tif (this._map) {                                                                                                  // 5068\n\t\t\tthis._updateStyle();                                                                                             // 5069\n\t\t\tthis._requestUpdate();                                                                                           // 5070\n\t\t}                                                                                                                 // 5071\n\t\treturn this;                                                                                                      // 5072\n\t},                                                                                                                 // 5073\n                                                                                                                    // 5074\n\tonRemove: function (map) {                                                                                         // 5075\n\t\tmap                                                                                                               // 5076\n\t\t    .off('viewreset', this.projectLatlngs, this)                                                                  // 5077\n\t\t    .off('moveend', this._updatePath, this);                                                                      // 5078\n                                                                                                                    // 5079\n\t\tif (this.options.clickable) {                                                                                     // 5080\n\t\t\tthis._map.off('click', this._onClick, this);                                                                     // 5081\n\t\t\tthis._map.off('mousemove', this._onMouseMove, this);                                                             // 5082\n\t\t}                                                                                                                 // 5083\n                                                                                                                    // 5084\n\t\tthis._requestUpdate();                                                                                            // 5085\n\t\t                                                                                                                  // 5086\n\t\tthis.fire('remove');                                                                                              // 5087\n\t\tthis._map = null;                                                                                                 // 5088\n\t},                                                                                                                 // 5089\n                                                                                                                    // 5090\n\t_requestUpdate: function () {                                                                                      // 5091\n\t\tif (this._map && !L.Path._updateRequest) {                                                                        // 5092\n\t\t\tL.Path._updateRequest = L.Util.requestAnimFrame(this._fireMapMoveEnd, this._map);                                // 5093\n\t\t}                                                                                                                 // 5094\n\t},                                                                                                                 // 5095\n                                                                                                                    // 5096\n\t_fireMapMoveEnd: function () {                                                                                     // 5097\n\t\tL.Path._updateRequest = null;                                                                                     // 5098\n\t\tthis.fire('moveend');                                                                                             // 5099\n\t},                                                                                                                 // 5100\n                                                                                                                    // 5101\n\t_initElements: function () {                                                                                       // 5102\n\t\tthis._map._initPathRoot();                                                                                        // 5103\n\t\tthis._ctx = this._map._canvasCtx;                                                                                 // 5104\n\t},                                                                                                                 // 5105\n                                                                                                                    // 5106\n\t_updateStyle: function () {                                                                                        // 5107\n\t\tvar options = this.options;                                                                                       // 5108\n                                                                                                                    // 5109\n\t\tif (options.stroke) {                                                                                             // 5110\n\t\t\tthis._ctx.lineWidth = options.weight;                                                                            // 5111\n\t\t\tthis._ctx.strokeStyle = options.color;                                                                           // 5112\n\t\t}                                                                                                                 // 5113\n\t\tif (options.fill) {                                                                                               // 5114\n\t\t\tthis._ctx.fillStyle = options.fillColor || options.color;                                                        // 5115\n\t\t}                                                                                                                 // 5116\n\t},                                                                                                                 // 5117\n                                                                                                                    // 5118\n\t_drawPath: function () {                                                                                           // 5119\n\t\tvar i, j, len, len2, point, drawMethod;                                                                           // 5120\n                                                                                                                    // 5121\n\t\tthis._ctx.beginPath();                                                                                            // 5122\n                                                                                                                    // 5123\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {                                                             // 5124\n\t\t\tfor (j = 0, len2 = this._parts[i].length; j < len2; j++) {                                                       // 5125\n\t\t\t\tpoint = this._parts[i][j];                                                                                      // 5126\n\t\t\t\tdrawMethod = (j === 0 ? 'move' : 'line') + 'To';                                                                // 5127\n                                                                                                                    // 5128\n\t\t\t\tthis._ctx[drawMethod](point.x, point.y);                                                                        // 5129\n\t\t\t}                                                                                                                // 5130\n\t\t\t// TODO refactor ugly hack                                                                                       // 5131\n\t\t\tif (this instanceof L.Polygon) {                                                                                 // 5132\n\t\t\t\tthis._ctx.closePath();                                                                                          // 5133\n\t\t\t}                                                                                                                // 5134\n\t\t}                                                                                                                 // 5135\n\t},                                                                                                                 // 5136\n                                                                                                                    // 5137\n\t_checkIfEmpty: function () {                                                                                       // 5138\n\t\treturn !this._parts.length;                                                                                       // 5139\n\t},                                                                                                                 // 5140\n                                                                                                                    // 5141\n\t_updatePath: function () {                                                                                         // 5142\n\t\tif (this._checkIfEmpty()) { return; }                                                                             // 5143\n                                                                                                                    // 5144\n\t\tvar ctx = this._ctx,                                                                                              // 5145\n\t\t    options = this.options;                                                                                       // 5146\n                                                                                                                    // 5147\n\t\tthis._drawPath();                                                                                                 // 5148\n\t\tctx.save();                                                                                                       // 5149\n\t\tthis._updateStyle();                                                                                              // 5150\n                                                                                                                    // 5151\n\t\tif (options.fill) {                                                                                               // 5152\n\t\t\tctx.globalAlpha = options.fillOpacity;                                                                           // 5153\n\t\t\tctx.fill();                                                                                                      // 5154\n\t\t}                                                                                                                 // 5155\n                                                                                                                    // 5156\n\t\tif (options.stroke) {                                                                                             // 5157\n\t\t\tctx.globalAlpha = options.opacity;                                                                               // 5158\n\t\t\tctx.stroke();                                                                                                    // 5159\n\t\t}                                                                                                                 // 5160\n                                                                                                                    // 5161\n\t\tctx.restore();                                                                                                    // 5162\n                                                                                                                    // 5163\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature               // 5164\n\t},                                                                                                                 // 5165\n                                                                                                                    // 5166\n\t_initEvents: function () {                                                                                         // 5167\n\t\tif (this.options.clickable) {                                                                                     // 5168\n\t\t\t// TODO dblclick                                                                                                 // 5169\n\t\t\tthis._map.on('mousemove', this._onMouseMove, this);                                                              // 5170\n\t\t\tthis._map.on('click', this._onClick, this);                                                                      // 5171\n\t\t}                                                                                                                 // 5172\n\t},                                                                                                                 // 5173\n                                                                                                                    // 5174\n\t_onClick: function (e) {                                                                                           // 5175\n\t\tif (this._containsPoint(e.layerPoint)) {                                                                          // 5176\n\t\t\tthis.fire('click', e);                                                                                           // 5177\n\t\t}                                                                                                                 // 5178\n\t},                                                                                                                 // 5179\n                                                                                                                    // 5180\n\t_onMouseMove: function (e) {                                                                                       // 5181\n\t\tif (!this._map || this._map._animatingZoom) { return; }                                                           // 5182\n                                                                                                                    // 5183\n\t\t// TODO don't do on each move                                                                                     // 5184\n\t\tif (this._containsPoint(e.layerPoint)) {                                                                          // 5185\n\t\t\tthis._ctx.canvas.style.cursor = 'pointer';                                                                       // 5186\n\t\t\tthis._mouseInside = true;                                                                                        // 5187\n\t\t\tthis.fire('mouseover', e);                                                                                       // 5188\n                                                                                                                    // 5189\n\t\t} else if (this._mouseInside) {                                                                                   // 5190\n\t\t\tthis._ctx.canvas.style.cursor = '';                                                                              // 5191\n\t\t\tthis._mouseInside = false;                                                                                       // 5192\n\t\t\tthis.fire('mouseout', e);                                                                                        // 5193\n\t\t}                                                                                                                 // 5194\n\t}                                                                                                                  // 5195\n});                                                                                                                 // 5196\n                                                                                                                    // 5197\nL.Map.include((L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? {} : {                                 // 5198\n\t_initPathRoot: function () {                                                                                       // 5199\n\t\tvar root = this._pathRoot,                                                                                        // 5200\n\t\t    ctx;                                                                                                          // 5201\n                                                                                                                    // 5202\n\t\tif (!root) {                                                                                                      // 5203\n\t\t\troot = this._pathRoot = document.createElement('canvas');                                                        // 5204\n\t\t\troot.style.position = 'absolute';                                                                                // 5205\n\t\t\tctx = this._canvasCtx = root.getContext('2d');                                                                   // 5206\n                                                                                                                    // 5207\n\t\t\tctx.lineCap = 'round';                                                                                           // 5208\n\t\t\tctx.lineJoin = 'round';                                                                                          // 5209\n                                                                                                                    // 5210\n\t\t\tthis._panes.overlayPane.appendChild(root);                                                                       // 5211\n                                                                                                                    // 5212\n\t\t\tif (this.options.zoomAnimation) {                                                                                // 5213\n\t\t\t\tthis._pathRoot.className = 'leaflet-zoom-animated';                                                             // 5214\n\t\t\t\tthis.on('zoomanim', this._animatePathZoom);                                                                     // 5215\n\t\t\t\tthis.on('zoomend', this._endPathZoom);                                                                          // 5216\n\t\t\t}                                                                                                                // 5217\n\t\t\tthis.on('moveend', this._updateCanvasViewport);                                                                  // 5218\n\t\t\tthis._updateCanvasViewport();                                                                                    // 5219\n\t\t}                                                                                                                 // 5220\n\t},                                                                                                                 // 5221\n                                                                                                                    // 5222\n\t_updateCanvasViewport: function () {                                                                               // 5223\n\t\t// don't redraw while zooming. See _updateSvgViewport for more details                                            // 5224\n\t\tif (this._pathZooming) { return; }                                                                                // 5225\n\t\tthis._updatePathViewport();                                                                                       // 5226\n                                                                                                                    // 5227\n\t\tvar vp = this._pathViewport,                                                                                      // 5228\n\t\t    min = vp.min,                                                                                                 // 5229\n\t\t    size = vp.max.subtract(min),                                                                                  // 5230\n\t\t    root = this._pathRoot;                                                                                        // 5231\n                                                                                                                    // 5232\n\t\t//TODO check if this works properly on mobile webkit                                                              // 5233\n\t\tL.DomUtil.setPosition(root, min);                                                                                 // 5234\n\t\troot.width = size.x;                                                                                              // 5235\n\t\troot.height = size.y;                                                                                             // 5236\n\t\troot.getContext('2d').translate(-min.x, -min.y);                                                                  // 5237\n\t}                                                                                                                  // 5238\n});                                                                                                                 // 5239\n                                                                                                                    // 5240\n                                                                                                                    // 5241\n/*                                                                                                                  // 5242\n * L.LineUtil contains different utility functions for line segments                                                // 5243\n * and polylines (clipping, simplification, distances, etc.)                                                        // 5244\n */                                                                                                                 // 5245\n                                                                                                                    // 5246\n/*jshint bitwise:false */ // allow bitwise operations for this file                                                 // 5247\n                                                                                                                    // 5248\nL.LineUtil = {                                                                                                      // 5249\n                                                                                                                    // 5250\n\t// Simplify polyline with vertex reduction and Douglas-Peucker simplification.                                     // 5251\n\t// Improves rendering performance dramatically by lessening the number of points to draw.                          // 5252\n                                                                                                                    // 5253\n\tsimplify: function (/*Point[]*/ points, /*Number*/ tolerance) {                                                    // 5254\n\t\tif (!tolerance || !points.length) {                                                                               // 5255\n\t\t\treturn points.slice();                                                                                           // 5256\n\t\t}                                                                                                                 // 5257\n                                                                                                                    // 5258\n\t\tvar sqTolerance = tolerance * tolerance;                                                                          // 5259\n                                                                                                                    // 5260\n\t\t// stage 1: vertex reduction                                                                                      // 5261\n\t\tpoints = this._reducePoints(points, sqTolerance);                                                                 // 5262\n                                                                                                                    // 5263\n\t\t// stage 2: Douglas-Peucker simplification                                                                        // 5264\n\t\tpoints = this._simplifyDP(points, sqTolerance);                                                                   // 5265\n                                                                                                                    // 5266\n\t\treturn points;                                                                                                    // 5267\n\t},                                                                                                                 // 5268\n                                                                                                                    // 5269\n\t// distance from a point to a segment between two points                                                           // 5270\n\tpointToSegmentDistance:  function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {                                      // 5271\n\t\treturn Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));                                                 // 5272\n\t},                                                                                                                 // 5273\n                                                                                                                    // 5274\n\tclosestPointOnSegment: function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {                                        // 5275\n\t\treturn this._sqClosestPointOnSegment(p, p1, p2);                                                                  // 5276\n\t},                                                                                                                 // 5277\n                                                                                                                    // 5278\n\t// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm                      // 5279\n\t_simplifyDP: function (points, sqTolerance) {                                                                      // 5280\n                                                                                                                    // 5281\n\t\tvar len = points.length,                                                                                          // 5282\n\t\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,                                 // 5283\n\t\t    markers = new ArrayConstructor(len);                                                                          // 5284\n                                                                                                                    // 5285\n\t\tmarkers[0] = markers[len - 1] = 1;                                                                                // 5286\n                                                                                                                    // 5287\n\t\tthis._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);                                                   // 5288\n                                                                                                                    // 5289\n\t\tvar i,                                                                                                            // 5290\n\t\t    newPoints = [];                                                                                               // 5291\n                                                                                                                    // 5292\n\t\tfor (i = 0; i < len; i++) {                                                                                       // 5293\n\t\t\tif (markers[i]) {                                                                                                // 5294\n\t\t\t\tnewPoints.push(points[i]);                                                                                      // 5295\n\t\t\t}                                                                                                                // 5296\n\t\t}                                                                                                                 // 5297\n                                                                                                                    // 5298\n\t\treturn newPoints;                                                                                                 // 5299\n\t},                                                                                                                 // 5300\n                                                                                                                    // 5301\n\t_simplifyDPStep: function (points, markers, sqTolerance, first, last) {                                            // 5302\n                                                                                                                    // 5303\n\t\tvar maxSqDist = 0,                                                                                                // 5304\n\t\t    index, i, sqDist;                                                                                             // 5305\n                                                                                                                    // 5306\n\t\tfor (i = first + 1; i <= last - 1; i++) {                                                                         // 5307\n\t\t\tsqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);                            // 5308\n                                                                                                                    // 5309\n\t\t\tif (sqDist > maxSqDist) {                                                                                        // 5310\n\t\t\t\tindex = i;                                                                                                      // 5311\n\t\t\t\tmaxSqDist = sqDist;                                                                                             // 5312\n\t\t\t}                                                                                                                // 5313\n\t\t}                                                                                                                 // 5314\n                                                                                                                    // 5315\n\t\tif (maxSqDist > sqTolerance) {                                                                                    // 5316\n\t\t\tmarkers[index] = 1;                                                                                              // 5317\n                                                                                                                    // 5318\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, first, index);                                                // 5319\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, index, last);                                                 // 5320\n\t\t}                                                                                                                 // 5321\n\t},                                                                                                                 // 5322\n                                                                                                                    // 5323\n\t// reduce points that are too close to each other to a single point                                                // 5324\n\t_reducePoints: function (points, sqTolerance) {                                                                    // 5325\n\t\tvar reducedPoints = [points[0]];                                                                                  // 5326\n                                                                                                                    // 5327\n\t\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {                                                    // 5328\n\t\t\tif (this._sqDist(points[i], points[prev]) > sqTolerance) {                                                       // 5329\n\t\t\t\treducedPoints.push(points[i]);                                                                                  // 5330\n\t\t\t\tprev = i;                                                                                                       // 5331\n\t\t\t}                                                                                                                // 5332\n\t\t}                                                                                                                 // 5333\n\t\tif (prev < len - 1) {                                                                                             // 5334\n\t\t\treducedPoints.push(points[len - 1]);                                                                             // 5335\n\t\t}                                                                                                                 // 5336\n\t\treturn reducedPoints;                                                                                             // 5337\n\t},                                                                                                                 // 5338\n                                                                                                                    // 5339\n\t// Cohen-Sutherland line clipping algorithm.                                                                       // 5340\n\t// Used to avoid rendering parts of a polyline that are not currently visible.                                     // 5341\n                                                                                                                    // 5342\n\tclipSegment: function (a, b, bounds, useLastCode) {                                                                // 5343\n\t\tvar codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),                                           // 5344\n\t\t    codeB = this._getBitCode(b, bounds),                                                                          // 5345\n                                                                                                                    // 5346\n\t\t    codeOut, p, newCode;                                                                                          // 5347\n                                                                                                                    // 5348\n\t\t// save 2nd code to avoid calculating it on the next segment                                                      // 5349\n\t\tthis._lastCode = codeB;                                                                                           // 5350\n                                                                                                                    // 5351\n\t\twhile (true) {                                                                                                    // 5352\n\t\t\t// if a,b is inside the clip window (trivial accept)                                                             // 5353\n\t\t\tif (!(codeA | codeB)) {                                                                                          // 5354\n\t\t\t\treturn [a, b];                                                                                                  // 5355\n\t\t\t// if a,b is outside the clip window (trivial reject)                                                            // 5356\n\t\t\t} else if (codeA & codeB) {                                                                                      // 5357\n\t\t\t\treturn false;                                                                                                   // 5358\n\t\t\t// other cases                                                                                                   // 5359\n\t\t\t} else {                                                                                                         // 5360\n\t\t\t\tcodeOut = codeA || codeB;                                                                                       // 5361\n\t\t\t\tp = this._getEdgeIntersection(a, b, codeOut, bounds);                                                           // 5362\n\t\t\t\tnewCode = this._getBitCode(p, bounds);                                                                          // 5363\n                                                                                                                    // 5364\n\t\t\t\tif (codeOut === codeA) {                                                                                        // 5365\n\t\t\t\t\ta = p;                                                                                                         // 5366\n\t\t\t\t\tcodeA = newCode;                                                                                               // 5367\n\t\t\t\t} else {                                                                                                        // 5368\n\t\t\t\t\tb = p;                                                                                                         // 5369\n\t\t\t\t\tcodeB = newCode;                                                                                               // 5370\n\t\t\t\t}                                                                                                               // 5371\n\t\t\t}                                                                                                                // 5372\n\t\t}                                                                                                                 // 5373\n\t},                                                                                                                 // 5374\n                                                                                                                    // 5375\n\t_getEdgeIntersection: function (a, b, code, bounds) {                                                              // 5376\n\t\tvar dx = b.x - a.x,                                                                                               // 5377\n\t\t    dy = b.y - a.y,                                                                                               // 5378\n\t\t    min = bounds.min,                                                                                             // 5379\n\t\t    max = bounds.max;                                                                                             // 5380\n                                                                                                                    // 5381\n\t\tif (code & 8) { // top                                                                                            // 5382\n\t\t\treturn new L.Point(a.x + dx * (max.y - a.y) / dy, max.y);                                                        // 5383\n\t\t} else if (code & 4) { // bottom                                                                                  // 5384\n\t\t\treturn new L.Point(a.x + dx * (min.y - a.y) / dy, min.y);                                                        // 5385\n\t\t} else if (code & 2) { // right                                                                                   // 5386\n\t\t\treturn new L.Point(max.x, a.y + dy * (max.x - a.x) / dx);                                                        // 5387\n\t\t} else if (code & 1) { // left                                                                                    // 5388\n\t\t\treturn new L.Point(min.x, a.y + dy * (min.x - a.x) / dx);                                                        // 5389\n\t\t}                                                                                                                 // 5390\n\t},                                                                                                                 // 5391\n                                                                                                                    // 5392\n\t_getBitCode: function (/*Point*/ p, bounds) {                                                                      // 5393\n\t\tvar code = 0;                                                                                                     // 5394\n                                                                                                                    // 5395\n\t\tif (p.x < bounds.min.x) { // left                                                                                 // 5396\n\t\t\tcode |= 1;                                                                                                       // 5397\n\t\t} else if (p.x > bounds.max.x) { // right                                                                         // 5398\n\t\t\tcode |= 2;                                                                                                       // 5399\n\t\t}                                                                                                                 // 5400\n\t\tif (p.y < bounds.min.y) { // bottom                                                                               // 5401\n\t\t\tcode |= 4;                                                                                                       // 5402\n\t\t} else if (p.y > bounds.max.y) { // top                                                                           // 5403\n\t\t\tcode |= 8;                                                                                                       // 5404\n\t\t}                                                                                                                 // 5405\n                                                                                                                    // 5406\n\t\treturn code;                                                                                                      // 5407\n\t},                                                                                                                 // 5408\n                                                                                                                    // 5409\n\t// square distance (to avoid unnecessary Math.sqrt calls)                                                          // 5410\n\t_sqDist: function (p1, p2) {                                                                                       // 5411\n\t\tvar dx = p2.x - p1.x,                                                                                             // 5412\n\t\t    dy = p2.y - p1.y;                                                                                             // 5413\n\t\treturn dx * dx + dy * dy;                                                                                         // 5414\n\t},                                                                                                                 // 5415\n                                                                                                                    // 5416\n\t// return closest point on segment or distance to that point                                                       // 5417\n\t_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {                                                           // 5418\n\t\tvar x = p1.x,                                                                                                     // 5419\n\t\t    y = p1.y,                                                                                                     // 5420\n\t\t    dx = p2.x - x,                                                                                                // 5421\n\t\t    dy = p2.y - y,                                                                                                // 5422\n\t\t    dot = dx * dx + dy * dy,                                                                                      // 5423\n\t\t    t;                                                                                                            // 5424\n                                                                                                                    // 5425\n\t\tif (dot > 0) {                                                                                                    // 5426\n\t\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;                                                                     // 5427\n                                                                                                                    // 5428\n\t\t\tif (t > 1) {                                                                                                     // 5429\n\t\t\t\tx = p2.x;                                                                                                       // 5430\n\t\t\t\ty = p2.y;                                                                                                       // 5431\n\t\t\t} else if (t > 0) {                                                                                              // 5432\n\t\t\t\tx += dx * t;                                                                                                    // 5433\n\t\t\t\ty += dy * t;                                                                                                    // 5434\n\t\t\t}                                                                                                                // 5435\n\t\t}                                                                                                                 // 5436\n                                                                                                                    // 5437\n\t\tdx = p.x - x;                                                                                                     // 5438\n\t\tdy = p.y - y;                                                                                                     // 5439\n                                                                                                                    // 5440\n\t\treturn sqDist ? dx * dx + dy * dy : new L.Point(x, y);                                                            // 5441\n\t}                                                                                                                  // 5442\n};                                                                                                                  // 5443\n                                                                                                                    // 5444\n                                                                                                                    // 5445\n/*                                                                                                                  // 5446\n * L.Polyline is used to display polylines on a map.                                                                // 5447\n */                                                                                                                 // 5448\n                                                                                                                    // 5449\nL.Polyline = L.Path.extend({                                                                                        // 5450\n\tinitialize: function (latlngs, options) {                                                                          // 5451\n\t\tL.Path.prototype.initialize.call(this, options);                                                                  // 5452\n                                                                                                                    // 5453\n\t\tthis._latlngs = this._convertLatLngs(latlngs);                                                                    // 5454\n\t},                                                                                                                 // 5455\n                                                                                                                    // 5456\n\toptions: {                                                                                                         // 5457\n\t\t// how much to simplify the polyline on each zoom level                                                           // 5458\n\t\t// more = better performance and smoother look, less = more accurate                                              // 5459\n\t\tsmoothFactor: 1.0,                                                                                                // 5460\n\t\tnoClip: false                                                                                                     // 5461\n\t},                                                                                                                 // 5462\n                                                                                                                    // 5463\n\tprojectLatlngs: function () {                                                                                      // 5464\n\t\tthis._originalPoints = [];                                                                                        // 5465\n                                                                                                                    // 5466\n\t\tfor (var i = 0, len = this._latlngs.length; i < len; i++) {                                                       // 5467\n\t\t\tthis._originalPoints[i] = this._map.latLngToLayerPoint(this._latlngs[i]);                                        // 5468\n\t\t}                                                                                                                 // 5469\n\t},                                                                                                                 // 5470\n                                                                                                                    // 5471\n\tgetPathString: function () {                                                                                       // 5472\n\t\tfor (var i = 0, len = this._parts.length, str = ''; i < len; i++) {                                               // 5473\n\t\t\tstr += this._getPathPartStr(this._parts[i]);                                                                     // 5474\n\t\t}                                                                                                                 // 5475\n\t\treturn str;                                                                                                       // 5476\n\t},                                                                                                                 // 5477\n                                                                                                                    // 5478\n\tgetLatLngs: function () {                                                                                          // 5479\n\t\treturn this._latlngs;                                                                                             // 5480\n\t},                                                                                                                 // 5481\n                                                                                                                    // 5482\n\tsetLatLngs: function (latlngs) {                                                                                   // 5483\n\t\tthis._latlngs = this._convertLatLngs(latlngs);                                                                    // 5484\n\t\treturn this.redraw();                                                                                             // 5485\n\t},                                                                                                                 // 5486\n                                                                                                                    // 5487\n\taddLatLng: function (latlng) {                                                                                     // 5488\n\t\tthis._latlngs.push(L.latLng(latlng));                                                                             // 5489\n\t\treturn this.redraw();                                                                                             // 5490\n\t},                                                                                                                 // 5491\n                                                                                                                    // 5492\n\tspliceLatLngs: function () { // (Number index, Number howMany)                                                     // 5493\n\t\tvar removed = [].splice.apply(this._latlngs, arguments);                                                          // 5494\n\t\tthis._convertLatLngs(this._latlngs, true);                                                                        // 5495\n\t\tthis.redraw();                                                                                                    // 5496\n\t\treturn removed;                                                                                                   // 5497\n\t},                                                                                                                 // 5498\n                                                                                                                    // 5499\n\tclosestLayerPoint: function (p) {                                                                                  // 5500\n\t\tvar minDistance = Infinity, parts = this._parts, p1, p2, minPoint = null;                                         // 5501\n                                                                                                                    // 5502\n\t\tfor (var j = 0, jLen = parts.length; j < jLen; j++) {                                                             // 5503\n\t\t\tvar points = parts[j];                                                                                           // 5504\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {                                                             // 5505\n\t\t\t\tp1 = points[i - 1];                                                                                             // 5506\n\t\t\t\tp2 = points[i];                                                                                                 // 5507\n\t\t\t\tvar sqDist = L.LineUtil._sqClosestPointOnSegment(p, p1, p2, true);                                              // 5508\n\t\t\t\tif (sqDist < minDistance) {                                                                                     // 5509\n\t\t\t\t\tminDistance = sqDist;                                                                                          // 5510\n\t\t\t\t\tminPoint = L.LineUtil._sqClosestPointOnSegment(p, p1, p2);                                                     // 5511\n\t\t\t\t}                                                                                                               // 5512\n\t\t\t}                                                                                                                // 5513\n\t\t}                                                                                                                 // 5514\n\t\tif (minPoint) {                                                                                                   // 5515\n\t\t\tminPoint.distance = Math.sqrt(minDistance);                                                                      // 5516\n\t\t}                                                                                                                 // 5517\n\t\treturn minPoint;                                                                                                  // 5518\n\t},                                                                                                                 // 5519\n                                                                                                                    // 5520\n\tgetBounds: function () {                                                                                           // 5521\n\t\treturn new L.LatLngBounds(this.getLatLngs());                                                                     // 5522\n\t},                                                                                                                 // 5523\n                                                                                                                    // 5524\n\t_convertLatLngs: function (latlngs, overwrite) {                                                                   // 5525\n\t\tvar i, len, target = overwrite ? latlngs : [];                                                                    // 5526\n                                                                                                                    // 5527\n\t\tfor (i = 0, len = latlngs.length; i < len; i++) {                                                                 // 5528\n\t\t\tif (L.Util.isArray(latlngs[i]) && typeof latlngs[i][0] !== 'number') {                                           // 5529\n\t\t\t\treturn;                                                                                                         // 5530\n\t\t\t}                                                                                                                // 5531\n\t\t\ttarget[i] = L.latLng(latlngs[i]);                                                                                // 5532\n\t\t}                                                                                                                 // 5533\n\t\treturn target;                                                                                                    // 5534\n\t},                                                                                                                 // 5535\n                                                                                                                    // 5536\n\t_initEvents: function () {                                                                                         // 5537\n\t\tL.Path.prototype._initEvents.call(this);                                                                          // 5538\n\t},                                                                                                                 // 5539\n                                                                                                                    // 5540\n\t_getPathPartStr: function (points) {                                                                               // 5541\n\t\tvar round = L.Path.VML;                                                                                           // 5542\n                                                                                                                    // 5543\n\t\tfor (var j = 0, len2 = points.length, str = '', p; j < len2; j++) {                                               // 5544\n\t\t\tp = points[j];                                                                                                   // 5545\n\t\t\tif (round) {                                                                                                     // 5546\n\t\t\t\tp._round();                                                                                                     // 5547\n\t\t\t}                                                                                                                // 5548\n\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;                                                                        // 5549\n\t\t}                                                                                                                 // 5550\n\t\treturn str;                                                                                                       // 5551\n\t},                                                                                                                 // 5552\n                                                                                                                    // 5553\n\t_clipPoints: function () {                                                                                         // 5554\n\t\tvar points = this._originalPoints,                                                                                // 5555\n\t\t    len = points.length,                                                                                          // 5556\n\t\t    i, k, segment;                                                                                                // 5557\n                                                                                                                    // 5558\n\t\tif (this.options.noClip) {                                                                                        // 5559\n\t\t\tthis._parts = [points];                                                                                          // 5560\n\t\t\treturn;                                                                                                          // 5561\n\t\t}                                                                                                                 // 5562\n                                                                                                                    // 5563\n\t\tthis._parts = [];                                                                                                 // 5564\n                                                                                                                    // 5565\n\t\tvar parts = this._parts,                                                                                          // 5566\n\t\t    vp = this._map._pathViewport,                                                                                 // 5567\n\t\t    lu = L.LineUtil;                                                                                              // 5568\n                                                                                                                    // 5569\n\t\tfor (i = 0, k = 0; i < len - 1; i++) {                                                                            // 5570\n\t\t\tsegment = lu.clipSegment(points[i], points[i + 1], vp, i);                                                       // 5571\n\t\t\tif (!segment) {                                                                                                  // 5572\n\t\t\t\tcontinue;                                                                                                       // 5573\n\t\t\t}                                                                                                                // 5574\n                                                                                                                    // 5575\n\t\t\tparts[k] = parts[k] || [];                                                                                       // 5576\n\t\t\tparts[k].push(segment[0]);                                                                                       // 5577\n                                                                                                                    // 5578\n\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part                            // 5579\n\t\t\tif ((segment[1] !== points[i + 1]) || (i === len - 2)) {                                                         // 5580\n\t\t\t\tparts[k].push(segment[1]);                                                                                      // 5581\n\t\t\t\tk++;                                                                                                            // 5582\n\t\t\t}                                                                                                                // 5583\n\t\t}                                                                                                                 // 5584\n\t},                                                                                                                 // 5585\n                                                                                                                    // 5586\n\t// simplify each clipped part of the polyline                                                                      // 5587\n\t_simplifyPoints: function () {                                                                                     // 5588\n\t\tvar parts = this._parts,                                                                                          // 5589\n\t\t    lu = L.LineUtil;                                                                                              // 5590\n                                                                                                                    // 5591\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {                                                               // 5592\n\t\t\tparts[i] = lu.simplify(parts[i], this.options.smoothFactor);                                                     // 5593\n\t\t}                                                                                                                 // 5594\n\t},                                                                                                                 // 5595\n                                                                                                                    // 5596\n\t_updatePath: function () {                                                                                         // 5597\n\t\tif (!this._map) { return; }                                                                                       // 5598\n                                                                                                                    // 5599\n\t\tthis._clipPoints();                                                                                               // 5600\n\t\tthis._simplifyPoints();                                                                                           // 5601\n                                                                                                                    // 5602\n\t\tL.Path.prototype._updatePath.call(this);                                                                          // 5603\n\t}                                                                                                                  // 5604\n});                                                                                                                 // 5605\n                                                                                                                    // 5606\nL.polyline = function (latlngs, options) {                                                                          // 5607\n\treturn new L.Polyline(latlngs, options);                                                                           // 5608\n};                                                                                                                  // 5609\n                                                                                                                    // 5610\n                                                                                                                    // 5611\n/*                                                                                                                  // 5612\n * L.PolyUtil contains utility functions for polygons (clipping, etc.).                                             // 5613\n */                                                                                                                 // 5614\n                                                                                                                    // 5615\n/*jshint bitwise:false */ // allow bitwise operations here                                                          // 5616\n                                                                                                                    // 5617\nL.PolyUtil = {};                                                                                                    // 5618\n                                                                                                                    // 5619\n/*                                                                                                                  // 5620\n * Sutherland-Hodgeman polygon clipping algorithm.                                                                  // 5621\n * Used to avoid rendering parts of a polygon that are not currently visible.                                       // 5622\n */                                                                                                                 // 5623\nL.PolyUtil.clipPolygon = function (points, bounds) {                                                                // 5624\n\tvar clippedPoints,                                                                                                 // 5625\n\t    edges = [1, 4, 2, 8],                                                                                          // 5626\n\t    i, j, k,                                                                                                       // 5627\n\t    a, b,                                                                                                          // 5628\n\t    len, edge, p,                                                                                                  // 5629\n\t    lu = L.LineUtil;                                                                                               // 5630\n                                                                                                                    // 5631\n\tfor (i = 0, len = points.length; i < len; i++) {                                                                   // 5632\n\t\tpoints[i]._code = lu._getBitCode(points[i], bounds);                                                              // 5633\n\t}                                                                                                                  // 5634\n                                                                                                                    // 5635\n\t// for each edge (left, bottom, right, top)                                                                        // 5636\n\tfor (k = 0; k < 4; k++) {                                                                                          // 5637\n\t\tedge = edges[k];                                                                                                  // 5638\n\t\tclippedPoints = [];                                                                                               // 5639\n                                                                                                                    // 5640\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {                                                 // 5641\n\t\t\ta = points[i];                                                                                                   // 5642\n\t\t\tb = points[j];                                                                                                   // 5643\n                                                                                                                    // 5644\n\t\t\t// if a is inside the clip window                                                                                // 5645\n\t\t\tif (!(a._code & edge)) {                                                                                         // 5646\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)                                                    // 5647\n\t\t\t\tif (b._code & edge) {                                                                                           // 5648\n\t\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);                                                               // 5649\n\t\t\t\t\tp._code = lu._getBitCode(p, bounds);                                                                           // 5650\n\t\t\t\t\tclippedPoints.push(p);                                                                                         // 5651\n\t\t\t\t}                                                                                                               // 5652\n\t\t\t\tclippedPoints.push(a);                                                                                          // 5653\n                                                                                                                    // 5654\n\t\t\t// else if b is inside the clip window (a->b enters the screen)                                                  // 5655\n\t\t\t} else if (!(b._code & edge)) {                                                                                  // 5656\n\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);                                                                // 5657\n\t\t\t\tp._code = lu._getBitCode(p, bounds);                                                                            // 5658\n\t\t\t\tclippedPoints.push(p);                                                                                          // 5659\n\t\t\t}                                                                                                                // 5660\n\t\t}                                                                                                                 // 5661\n\t\tpoints = clippedPoints;                                                                                           // 5662\n\t}                                                                                                                  // 5663\n                                                                                                                    // 5664\n\treturn points;                                                                                                     // 5665\n};                                                                                                                  // 5666\n                                                                                                                    // 5667\n                                                                                                                    // 5668\n/*                                                                                                                  // 5669\n * L.Polygon is used to display polygons on a map.                                                                  // 5670\n */                                                                                                                 // 5671\n                                                                                                                    // 5672\nL.Polygon = L.Polyline.extend({                                                                                     // 5673\n\toptions: {                                                                                                         // 5674\n\t\tfill: true                                                                                                        // 5675\n\t},                                                                                                                 // 5676\n                                                                                                                    // 5677\n\tinitialize: function (latlngs, options) {                                                                          // 5678\n\t\tL.Polyline.prototype.initialize.call(this, latlngs, options);                                                     // 5679\n\t\tthis._initWithHoles(latlngs);                                                                                     // 5680\n\t},                                                                                                                 // 5681\n                                                                                                                    // 5682\n\t_initWithHoles: function (latlngs) {                                                                               // 5683\n\t\tvar i, len, hole;                                                                                                 // 5684\n\t\tif (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {                               // 5685\n\t\t\tthis._latlngs = this._convertLatLngs(latlngs[0]);                                                                // 5686\n\t\t\tthis._holes = latlngs.slice(1);                                                                                  // 5687\n                                                                                                                    // 5688\n\t\t\tfor (i = 0, len = this._holes.length; i < len; i++) {                                                            // 5689\n\t\t\t\thole = this._holes[i] = this._convertLatLngs(this._holes[i]);                                                   // 5690\n\t\t\t\tif (hole[0].equals(hole[hole.length - 1])) {                                                                    // 5691\n\t\t\t\t\thole.pop();                                                                                                    // 5692\n\t\t\t\t}                                                                                                               // 5693\n\t\t\t}                                                                                                                // 5694\n\t\t}                                                                                                                 // 5695\n                                                                                                                    // 5696\n\t\t// filter out last point if its equal to the first one                                                            // 5697\n\t\tlatlngs = this._latlngs;                                                                                          // 5698\n                                                                                                                    // 5699\n\t\tif (latlngs.length >= 2 && latlngs[0].equals(latlngs[latlngs.length - 1])) {                                      // 5700\n\t\t\tlatlngs.pop();                                                                                                   // 5701\n\t\t}                                                                                                                 // 5702\n\t},                                                                                                                 // 5703\n                                                                                                                    // 5704\n\tprojectLatlngs: function () {                                                                                      // 5705\n\t\tL.Polyline.prototype.projectLatlngs.call(this);                                                                   // 5706\n                                                                                                                    // 5707\n\t\t// project polygon holes points                                                                                   // 5708\n\t\t// TODO move this logic to Polyline to get rid of duplication                                                     // 5709\n\t\tthis._holePoints = [];                                                                                            // 5710\n                                                                                                                    // 5711\n\t\tif (!this._holes) { return; }                                                                                     // 5712\n                                                                                                                    // 5713\n\t\tvar i, j, len, len2;                                                                                              // 5714\n                                                                                                                    // 5715\n\t\tfor (i = 0, len = this._holes.length; i < len; i++) {                                                             // 5716\n\t\t\tthis._holePoints[i] = [];                                                                                        // 5717\n                                                                                                                    // 5718\n\t\t\tfor (j = 0, len2 = this._holes[i].length; j < len2; j++) {                                                       // 5719\n\t\t\t\tthis._holePoints[i][j] = this._map.latLngToLayerPoint(this._holes[i][j]);                                       // 5720\n\t\t\t}                                                                                                                // 5721\n\t\t}                                                                                                                 // 5722\n\t},                                                                                                                 // 5723\n                                                                                                                    // 5724\n\tsetLatLngs: function (latlngs) {                                                                                   // 5725\n\t\tif (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {                               // 5726\n\t\t\tthis._initWithHoles(latlngs);                                                                                    // 5727\n\t\t\treturn this.redraw();                                                                                            // 5728\n\t\t} else {                                                                                                          // 5729\n\t\t\treturn L.Polyline.prototype.setLatLngs.call(this, latlngs);                                                      // 5730\n\t\t}                                                                                                                 // 5731\n\t},                                                                                                                 // 5732\n                                                                                                                    // 5733\n\t_clipPoints: function () {                                                                                         // 5734\n\t\tvar points = this._originalPoints,                                                                                // 5735\n\t\t    newParts = [];                                                                                                // 5736\n                                                                                                                    // 5737\n\t\tthis._parts = [points].concat(this._holePoints);                                                                  // 5738\n                                                                                                                    // 5739\n\t\tif (this.options.noClip) { return; }                                                                              // 5740\n                                                                                                                    // 5741\n\t\tfor (var i = 0, len = this._parts.length; i < len; i++) {                                                         // 5742\n\t\t\tvar clipped = L.PolyUtil.clipPolygon(this._parts[i], this._map._pathViewport);                                   // 5743\n\t\t\tif (clipped.length) {                                                                                            // 5744\n\t\t\t\tnewParts.push(clipped);                                                                                         // 5745\n\t\t\t}                                                                                                                // 5746\n\t\t}                                                                                                                 // 5747\n                                                                                                                    // 5748\n\t\tthis._parts = newParts;                                                                                           // 5749\n\t},                                                                                                                 // 5750\n                                                                                                                    // 5751\n\t_getPathPartStr: function (points) {                                                                               // 5752\n\t\tvar str = L.Polyline.prototype._getPathPartStr.call(this, points);                                                // 5753\n\t\treturn str + (L.Browser.svg ? 'z' : 'x');                                                                         // 5754\n\t}                                                                                                                  // 5755\n});                                                                                                                 // 5756\n                                                                                                                    // 5757\nL.polygon = function (latlngs, options) {                                                                           // 5758\n\treturn new L.Polygon(latlngs, options);                                                                            // 5759\n};                                                                                                                  // 5760\n                                                                                                                    // 5761\n                                                                                                                    // 5762\n/*                                                                                                                  // 5763\n * Contains L.MultiPolyline and L.MultiPolygon layers.                                                              // 5764\n */                                                                                                                 // 5765\n                                                                                                                    // 5766\n(function () {                                                                                                      // 5767\n\tfunction createMulti(Klass) {                                                                                      // 5768\n                                                                                                                    // 5769\n\t\treturn L.FeatureGroup.extend({                                                                                    // 5770\n                                                                                                                    // 5771\n\t\t\tinitialize: function (latlngs, options) {                                                                        // 5772\n\t\t\t\tthis._layers = {};                                                                                              // 5773\n\t\t\t\tthis._options = options;                                                                                        // 5774\n\t\t\t\tthis.setLatLngs(latlngs);                                                                                       // 5775\n\t\t\t},                                                                                                               // 5776\n                                                                                                                    // 5777\n\t\t\tsetLatLngs: function (latlngs) {                                                                                 // 5778\n\t\t\t\tvar i = 0,                                                                                                      // 5779\n\t\t\t\t    len = latlngs.length;                                                                                       // 5780\n                                                                                                                    // 5781\n\t\t\t\tthis.eachLayer(function (layer) {                                                                               // 5782\n\t\t\t\t\tif (i < len) {                                                                                                 // 5783\n\t\t\t\t\t\tlayer.setLatLngs(latlngs[i++]);                                                                               // 5784\n\t\t\t\t\t} else {                                                                                                       // 5785\n\t\t\t\t\t\tthis.removeLayer(layer);                                                                                      // 5786\n\t\t\t\t\t}                                                                                                              // 5787\n\t\t\t\t}, this);                                                                                                       // 5788\n                                                                                                                    // 5789\n\t\t\t\twhile (i < len) {                                                                                               // 5790\n\t\t\t\t\tthis.addLayer(new Klass(latlngs[i++], this._options));                                                         // 5791\n\t\t\t\t}                                                                                                               // 5792\n                                                                                                                    // 5793\n\t\t\t\treturn this;                                                                                                    // 5794\n\t\t\t},                                                                                                               // 5795\n                                                                                                                    // 5796\n\t\t\tgetLatLngs: function () {                                                                                        // 5797\n\t\t\t\tvar latlngs = [];                                                                                               // 5798\n                                                                                                                    // 5799\n\t\t\t\tthis.eachLayer(function (layer) {                                                                               // 5800\n\t\t\t\t\tlatlngs.push(layer.getLatLngs());                                                                              // 5801\n\t\t\t\t});                                                                                                             // 5802\n                                                                                                                    // 5803\n\t\t\t\treturn latlngs;                                                                                                 // 5804\n\t\t\t}                                                                                                                // 5805\n\t\t});                                                                                                               // 5806\n\t}                                                                                                                  // 5807\n                                                                                                                    // 5808\n\tL.MultiPolyline = createMulti(L.Polyline);                                                                         // 5809\n\tL.MultiPolygon = createMulti(L.Polygon);                                                                           // 5810\n                                                                                                                    // 5811\n\tL.multiPolyline = function (latlngs, options) {                                                                    // 5812\n\t\treturn new L.MultiPolyline(latlngs, options);                                                                     // 5813\n\t};                                                                                                                 // 5814\n                                                                                                                    // 5815\n\tL.multiPolygon = function (latlngs, options) {                                                                     // 5816\n\t\treturn new L.MultiPolygon(latlngs, options);                                                                      // 5817\n\t};                                                                                                                 // 5818\n}());                                                                                                               // 5819\n                                                                                                                    // 5820\n                                                                                                                    // 5821\n/*                                                                                                                  // 5822\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.                           // 5823\n */                                                                                                                 // 5824\n                                                                                                                    // 5825\nL.Rectangle = L.Polygon.extend({                                                                                    // 5826\n\tinitialize: function (latLngBounds, options) {                                                                     // 5827\n\t\tL.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);                          // 5828\n\t},                                                                                                                 // 5829\n                                                                                                                    // 5830\n\tsetBounds: function (latLngBounds) {                                                                               // 5831\n\t\tthis.setLatLngs(this._boundsToLatLngs(latLngBounds));                                                             // 5832\n\t},                                                                                                                 // 5833\n                                                                                                                    // 5834\n\t_boundsToLatLngs: function (latLngBounds) {                                                                        // 5835\n\t\tlatLngBounds = L.latLngBounds(latLngBounds);                                                                      // 5836\n\t\treturn [                                                                                                          // 5837\n\t\t\tlatLngBounds.getSouthWest(),                                                                                     // 5838\n\t\t\tlatLngBounds.getNorthWest(),                                                                                     // 5839\n\t\t\tlatLngBounds.getNorthEast(),                                                                                     // 5840\n\t\t\tlatLngBounds.getSouthEast()                                                                                      // 5841\n\t\t];                                                                                                                // 5842\n\t}                                                                                                                  // 5843\n});                                                                                                                 // 5844\n                                                                                                                    // 5845\nL.rectangle = function (latLngBounds, options) {                                                                    // 5846\n\treturn new L.Rectangle(latLngBounds, options);                                                                     // 5847\n};                                                                                                                  // 5848\n                                                                                                                    // 5849\n                                                                                                                    // 5850\n/*                                                                                                                  // 5851\n * L.Circle is a circle overlay (with a certain radius in meters).                                                  // 5852\n */                                                                                                                 // 5853\n                                                                                                                    // 5854\nL.Circle = L.Path.extend({                                                                                          // 5855\n\tinitialize: function (latlng, radius, options) {                                                                   // 5856\n\t\tL.Path.prototype.initialize.call(this, options);                                                                  // 5857\n                                                                                                                    // 5858\n\t\tthis._latlng = L.latLng(latlng);                                                                                  // 5859\n\t\tthis._mRadius = radius;                                                                                           // 5860\n\t},                                                                                                                 // 5861\n                                                                                                                    // 5862\n\toptions: {                                                                                                         // 5863\n\t\tfill: true                                                                                                        // 5864\n\t},                                                                                                                 // 5865\n                                                                                                                    // 5866\n\tsetLatLng: function (latlng) {                                                                                     // 5867\n\t\tthis._latlng = L.latLng(latlng);                                                                                  // 5868\n\t\treturn this.redraw();                                                                                             // 5869\n\t},                                                                                                                 // 5870\n                                                                                                                    // 5871\n\tsetRadius: function (radius) {                                                                                     // 5872\n\t\tthis._mRadius = radius;                                                                                           // 5873\n\t\treturn this.redraw();                                                                                             // 5874\n\t},                                                                                                                 // 5875\n                                                                                                                    // 5876\n\tprojectLatlngs: function () {                                                                                      // 5877\n\t\tvar lngRadius = this._getLngRadius(),                                                                             // 5878\n\t\t    latlng = this._latlng,                                                                                        // 5879\n\t\t    pointLeft = this._map.latLngToLayerPoint([latlng.lat, latlng.lng - lngRadius]);                               // 5880\n                                                                                                                    // 5881\n\t\tthis._point = this._map.latLngToLayerPoint(latlng);                                                               // 5882\n\t\tthis._radius = Math.max(this._point.x - pointLeft.x, 1);                                                          // 5883\n\t},                                                                                                                 // 5884\n                                                                                                                    // 5885\n\tgetBounds: function () {                                                                                           // 5886\n\t\tvar lngRadius = this._getLngRadius(),                                                                             // 5887\n\t\t    latRadius = (this._mRadius / 40075017) * 360,                                                                 // 5888\n\t\t    latlng = this._latlng;                                                                                        // 5889\n                                                                                                                    // 5890\n\t\treturn new L.LatLngBounds(                                                                                        // 5891\n\t\t        [latlng.lat - latRadius, latlng.lng - lngRadius],                                                         // 5892\n\t\t        [latlng.lat + latRadius, latlng.lng + lngRadius]);                                                        // 5893\n\t},                                                                                                                 // 5894\n                                                                                                                    // 5895\n\tgetLatLng: function () {                                                                                           // 5896\n\t\treturn this._latlng;                                                                                              // 5897\n\t},                                                                                                                 // 5898\n                                                                                                                    // 5899\n\tgetPathString: function () {                                                                                       // 5900\n\t\tvar p = this._point,                                                                                              // 5901\n\t\t    r = this._radius;                                                                                             // 5902\n                                                                                                                    // 5903\n\t\tif (this._checkIfEmpty()) {                                                                                       // 5904\n\t\t\treturn '';                                                                                                       // 5905\n\t\t}                                                                                                                 // 5906\n                                                                                                                    // 5907\n\t\tif (L.Browser.svg) {                                                                                              // 5908\n\t\t\treturn 'M' + p.x + ',' + (p.y - r) +                                                                             // 5909\n\t\t\t       'A' + r + ',' + r + ',0,1,1,' +                                                                           // 5910\n\t\t\t       (p.x - 0.1) + ',' + (p.y - r) + ' z';                                                                     // 5911\n\t\t} else {                                                                                                          // 5912\n\t\t\tp._round();                                                                                                      // 5913\n\t\t\tr = Math.round(r);                                                                                               // 5914\n\t\t\treturn 'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r + ' 0,' + (65535 * 360);                                      // 5915\n\t\t}                                                                                                                 // 5916\n\t},                                                                                                                 // 5917\n                                                                                                                    // 5918\n\tgetRadius: function () {                                                                                           // 5919\n\t\treturn this._mRadius;                                                                                             // 5920\n\t},                                                                                                                 // 5921\n                                                                                                                    // 5922\n\t// TODO Earth hardcoded, move into projection code!                                                                // 5923\n                                                                                                                    // 5924\n\t_getLatRadius: function () {                                                                                       // 5925\n\t\treturn (this._mRadius / 40075017) * 360;                                                                          // 5926\n\t},                                                                                                                 // 5927\n                                                                                                                    // 5928\n\t_getLngRadius: function () {                                                                                       // 5929\n\t\treturn this._getLatRadius() / Math.cos(L.LatLng.DEG_TO_RAD * this._latlng.lat);                                   // 5930\n\t},                                                                                                                 // 5931\n                                                                                                                    // 5932\n\t_checkIfEmpty: function () {                                                                                       // 5933\n\t\tif (!this._map) {                                                                                                 // 5934\n\t\t\treturn false;                                                                                                    // 5935\n\t\t}                                                                                                                 // 5936\n\t\tvar vp = this._map._pathViewport,                                                                                 // 5937\n\t\t    r = this._radius,                                                                                             // 5938\n\t\t    p = this._point;                                                                                              // 5939\n                                                                                                                    // 5940\n\t\treturn p.x - r > vp.max.x || p.y - r > vp.max.y ||                                                                // 5941\n\t\t       p.x + r < vp.min.x || p.y + r < vp.min.y;                                                                  // 5942\n\t}                                                                                                                  // 5943\n});                                                                                                                 // 5944\n                                                                                                                    // 5945\nL.circle = function (latlng, radius, options) {                                                                     // 5946\n\treturn new L.Circle(latlng, radius, options);                                                                      // 5947\n};                                                                                                                  // 5948\n                                                                                                                    // 5949\n                                                                                                                    // 5950\n/*                                                                                                                  // 5951\n * L.CircleMarker is a circle overlay with a permanent pixel radius.                                                // 5952\n */                                                                                                                 // 5953\n                                                                                                                    // 5954\nL.CircleMarker = L.Circle.extend({                                                                                  // 5955\n\toptions: {                                                                                                         // 5956\n\t\tradius: 10,                                                                                                       // 5957\n\t\tweight: 2                                                                                                         // 5958\n\t},                                                                                                                 // 5959\n                                                                                                                    // 5960\n\tinitialize: function (latlng, options) {                                                                           // 5961\n\t\tL.Circle.prototype.initialize.call(this, latlng, null, options);                                                  // 5962\n\t\tthis._radius = this.options.radius;                                                                               // 5963\n\t},                                                                                                                 // 5964\n                                                                                                                    // 5965\n\tprojectLatlngs: function () {                                                                                      // 5966\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);                                                         // 5967\n\t},                                                                                                                 // 5968\n                                                                                                                    // 5969\n\t_updateStyle : function () {                                                                                       // 5970\n\t\tL.Circle.prototype._updateStyle.call(this);                                                                       // 5971\n\t\tthis.setRadius(this.options.radius);                                                                              // 5972\n\t},                                                                                                                 // 5973\n                                                                                                                    // 5974\n\tsetLatLng: function (latlng) {                                                                                     // 5975\n\t\tL.Circle.prototype.setLatLng.call(this, latlng);                                                                  // 5976\n\t\tif (this._popup && this._popup._isOpen) {                                                                         // 5977\n\t\t\tthis._popup.setLatLng(latlng);                                                                                   // 5978\n\t\t}                                                                                                                 // 5979\n\t\treturn this;                                                                                                      // 5980\n\t},                                                                                                                 // 5981\n                                                                                                                    // 5982\n\tsetRadius: function (radius) {                                                                                     // 5983\n\t\tthis.options.radius = this._radius = radius;                                                                      // 5984\n\t\treturn this.redraw();                                                                                             // 5985\n\t},                                                                                                                 // 5986\n                                                                                                                    // 5987\n\tgetRadius: function () {                                                                                           // 5988\n\t\treturn this._radius;                                                                                              // 5989\n\t}                                                                                                                  // 5990\n});                                                                                                                 // 5991\n                                                                                                                    // 5992\nL.circleMarker = function (latlng, options) {                                                                       // 5993\n\treturn new L.CircleMarker(latlng, options);                                                                        // 5994\n};                                                                                                                  // 5995\n                                                                                                                    // 5996\n                                                                                                                    // 5997\n/*                                                                                                                  // 5998\n * Extends L.Polyline to be able to manually detect clicks on Canvas-rendered polylines.                            // 5999\n */                                                                                                                 // 6000\n                                                                                                                    // 6001\nL.Polyline.include(!L.Path.CANVAS ? {} : {                                                                          // 6002\n\t_containsPoint: function (p, closed) {                                                                             // 6003\n\t\tvar i, j, k, len, len2, dist, part,                                                                               // 6004\n\t\t    w = this.options.weight / 2;                                                                                  // 6005\n                                                                                                                    // 6006\n\t\tif (L.Browser.touch) {                                                                                            // 6007\n\t\t\tw += 10; // polyline click tolerance on touch devices                                                            // 6008\n\t\t}                                                                                                                 // 6009\n                                                                                                                    // 6010\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {                                                             // 6011\n\t\t\tpart = this._parts[i];                                                                                           // 6012\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {                                               // 6013\n\t\t\t\tif (!closed && (j === 0)) {                                                                                     // 6014\n\t\t\t\t\tcontinue;                                                                                                      // 6015\n\t\t\t\t}                                                                                                               // 6016\n                                                                                                                    // 6017\n\t\t\t\tdist = L.LineUtil.pointToSegmentDistance(p, part[k], part[j]);                                                  // 6018\n                                                                                                                    // 6019\n\t\t\t\tif (dist <= w) {                                                                                                // 6020\n\t\t\t\t\treturn true;                                                                                                   // 6021\n\t\t\t\t}                                                                                                               // 6022\n\t\t\t}                                                                                                                // 6023\n\t\t}                                                                                                                 // 6024\n\t\treturn false;                                                                                                     // 6025\n\t}                                                                                                                  // 6026\n});                                                                                                                 // 6027\n                                                                                                                    // 6028\n                                                                                                                    // 6029\n/*                                                                                                                  // 6030\n * Extends L.Polygon to be able to manually detect clicks on Canvas-rendered polygons.                              // 6031\n */                                                                                                                 // 6032\n                                                                                                                    // 6033\nL.Polygon.include(!L.Path.CANVAS ? {} : {                                                                           // 6034\n\t_containsPoint: function (p) {                                                                                     // 6035\n\t\tvar inside = false,                                                                                               // 6036\n\t\t    part, p1, p2,                                                                                                 // 6037\n\t\t    i, j, k,                                                                                                      // 6038\n\t\t    len, len2;                                                                                                    // 6039\n                                                                                                                    // 6040\n\t\t// TODO optimization: check if within bounds first                                                                // 6041\n                                                                                                                    // 6042\n\t\tif (L.Polyline.prototype._containsPoint.call(this, p, true)) {                                                    // 6043\n\t\t\t// click on polygon border                                                                                       // 6044\n\t\t\treturn true;                                                                                                     // 6045\n\t\t}                                                                                                                 // 6046\n                                                                                                                    // 6047\n\t\t// ray casting algorithm for detecting if point is in polygon                                                     // 6048\n                                                                                                                    // 6049\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {                                                             // 6050\n\t\t\tpart = this._parts[i];                                                                                           // 6051\n                                                                                                                    // 6052\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {                                               // 6053\n\t\t\t\tp1 = part[j];                                                                                                   // 6054\n\t\t\t\tp2 = part[k];                                                                                                   // 6055\n                                                                                                                    // 6056\n\t\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) &&                                                                          // 6057\n\t\t\t\t\t\t(p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {                                                // 6058\n\t\t\t\t\tinside = !inside;                                                                                              // 6059\n\t\t\t\t}                                                                                                               // 6060\n\t\t\t}                                                                                                                // 6061\n\t\t}                                                                                                                 // 6062\n                                                                                                                    // 6063\n\t\treturn inside;                                                                                                    // 6064\n\t}                                                                                                                  // 6065\n});                                                                                                                 // 6066\n                                                                                                                    // 6067\n                                                                                                                    // 6068\n/*                                                                                                                  // 6069\n * Extends L.Circle with Canvas-specific code.                                                                      // 6070\n */                                                                                                                 // 6071\n                                                                                                                    // 6072\nL.Circle.include(!L.Path.CANVAS ? {} : {                                                                            // 6073\n\t_drawPath: function () {                                                                                           // 6074\n\t\tvar p = this._point;                                                                                              // 6075\n\t\tthis._ctx.beginPath();                                                                                            // 6076\n\t\tthis._ctx.arc(p.x, p.y, this._radius, 0, Math.PI * 2, false);                                                     // 6077\n\t},                                                                                                                 // 6078\n                                                                                                                    // 6079\n\t_containsPoint: function (p) {                                                                                     // 6080\n\t\tvar center = this._point,                                                                                         // 6081\n\t\t    w2 = this.options.stroke ? this.options.weight / 2 : 0;                                                       // 6082\n                                                                                                                    // 6083\n\t\treturn (p.distanceTo(center) <= this._radius + w2);                                                               // 6084\n\t}                                                                                                                  // 6085\n});                                                                                                                 // 6086\n                                                                                                                    // 6087\n                                                                                                                    // 6088\n/*                                                                                                                  // 6089\n * CircleMarker canvas specific drawing parts.                                                                      // 6090\n */                                                                                                                 // 6091\n                                                                                                                    // 6092\nL.CircleMarker.include(!L.Path.CANVAS ? {} : {                                                                      // 6093\n\t_updateStyle: function () {                                                                                        // 6094\n\t\tL.Path.prototype._updateStyle.call(this);                                                                         // 6095\n\t}                                                                                                                  // 6096\n});                                                                                                                 // 6097\n                                                                                                                    // 6098\n                                                                                                                    // 6099\n/*                                                                                                                  // 6100\n * L.GeoJSON turns any GeoJSON data into a Leaflet layer.                                                           // 6101\n */                                                                                                                 // 6102\n                                                                                                                    // 6103\nL.GeoJSON = L.FeatureGroup.extend({                                                                                 // 6104\n                                                                                                                    // 6105\n\tinitialize: function (geojson, options) {                                                                          // 6106\n\t\tL.setOptions(this, options);                                                                                      // 6107\n                                                                                                                    // 6108\n\t\tthis._layers = {};                                                                                                // 6109\n                                                                                                                    // 6110\n\t\tif (geojson) {                                                                                                    // 6111\n\t\t\tthis.addData(geojson);                                                                                           // 6112\n\t\t}                                                                                                                 // 6113\n\t},                                                                                                                 // 6114\n                                                                                                                    // 6115\n\taddData: function (geojson) {                                                                                      // 6116\n\t\tvar features = L.Util.isArray(geojson) ? geojson : geojson.features,                                              // 6117\n\t\t    i, len, feature;                                                                                              // 6118\n                                                                                                                    // 6119\n\t\tif (features) {                                                                                                   // 6120\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {                                                               // 6121\n\t\t\t\t// Only add this if geometry or geometries are set and not null                                                 // 6122\n\t\t\t\tfeature = features[i];                                                                                          // 6123\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {                        // 6124\n\t\t\t\t\tthis.addData(features[i]);                                                                                     // 6125\n\t\t\t\t}                                                                                                               // 6126\n\t\t\t}                                                                                                                // 6127\n\t\t\treturn this;                                                                                                     // 6128\n\t\t}                                                                                                                 // 6129\n                                                                                                                    // 6130\n\t\tvar options = this.options;                                                                                       // 6131\n                                                                                                                    // 6132\n\t\tif (options.filter && !options.filter(geojson)) { return; }                                                       // 6133\n                                                                                                                    // 6134\n\t\tvar layer = L.GeoJSON.geometryToLayer(geojson, options.pointToLayer, options.coordsToLatLng, options);            // 6135\n\t\tlayer.feature = L.GeoJSON.asFeature(geojson);                                                                     // 6136\n                                                                                                                    // 6137\n\t\tlayer.defaultOptions = layer.options;                                                                             // 6138\n\t\tthis.resetStyle(layer);                                                                                           // 6139\n                                                                                                                    // 6140\n\t\tif (options.onEachFeature) {                                                                                      // 6141\n\t\t\toptions.onEachFeature(geojson, layer);                                                                           // 6142\n\t\t}                                                                                                                 // 6143\n                                                                                                                    // 6144\n\t\treturn this.addLayer(layer);                                                                                      // 6145\n\t},                                                                                                                 // 6146\n                                                                                                                    // 6147\n\tresetStyle: function (layer) {                                                                                     // 6148\n\t\tvar style = this.options.style;                                                                                   // 6149\n\t\tif (style) {                                                                                                      // 6150\n\t\t\t// reset any custom styles                                                                                       // 6151\n\t\t\tL.Util.extend(layer.options, layer.defaultOptions);                                                              // 6152\n                                                                                                                    // 6153\n\t\t\tthis._setLayerStyle(layer, style);                                                                               // 6154\n\t\t}                                                                                                                 // 6155\n\t},                                                                                                                 // 6156\n                                                                                                                    // 6157\n\tsetStyle: function (style) {                                                                                       // 6158\n\t\tthis.eachLayer(function (layer) {                                                                                 // 6159\n\t\t\tthis._setLayerStyle(layer, style);                                                                               // 6160\n\t\t}, this);                                                                                                         // 6161\n\t},                                                                                                                 // 6162\n                                                                                                                    // 6163\n\t_setLayerStyle: function (layer, style) {                                                                          // 6164\n\t\tif (typeof style === 'function') {                                                                                // 6165\n\t\t\tstyle = style(layer.feature);                                                                                    // 6166\n\t\t}                                                                                                                 // 6167\n\t\tif (layer.setStyle) {                                                                                             // 6168\n\t\t\tlayer.setStyle(style);                                                                                           // 6169\n\t\t}                                                                                                                 // 6170\n\t}                                                                                                                  // 6171\n});                                                                                                                 // 6172\n                                                                                                                    // 6173\nL.extend(L.GeoJSON, {                                                                                               // 6174\n\tgeometryToLayer: function (geojson, pointToLayer, coordsToLatLng, vectorOptions) {                                 // 6175\n\t\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,                                           // 6176\n\t\t    coords = geometry.coordinates,                                                                                // 6177\n\t\t    layers = [],                                                                                                  // 6178\n\t\t    latlng, latlngs, i, len;                                                                                      // 6179\n                                                                                                                    // 6180\n\t\tcoordsToLatLng = coordsToLatLng || this.coordsToLatLng;                                                           // 6181\n                                                                                                                    // 6182\n\t\tswitch (geometry.type) {                                                                                          // 6183\n\t\tcase 'Point':                                                                                                     // 6184\n\t\t\tlatlng = coordsToLatLng(coords);                                                                                 // 6185\n\t\t\treturn pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);                                      // 6186\n                                                                                                                    // 6187\n\t\tcase 'MultiPoint':                                                                                                // 6188\n\t\t\tfor (i = 0, len = coords.length; i < len; i++) {                                                                 // 6189\n\t\t\t\tlatlng = coordsToLatLng(coords[i]);                                                                             // 6190\n\t\t\t\tlayers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));                               // 6191\n\t\t\t}                                                                                                                // 6192\n\t\t\treturn new L.FeatureGroup(layers);                                                                               // 6193\n                                                                                                                    // 6194\n\t\tcase 'LineString':                                                                                                // 6195\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 0, coordsToLatLng);                                                       // 6196\n\t\t\treturn new L.Polyline(latlngs, vectorOptions);                                                                   // 6197\n                                                                                                                    // 6198\n\t\tcase 'Polygon':                                                                                                   // 6199\n\t\t\tif (coords.length === 2 && !coords[1].length) {                                                                  // 6200\n\t\t\t\tthrow new Error('Invalid GeoJSON object.');                                                                     // 6201\n\t\t\t}                                                                                                                // 6202\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);                                                       // 6203\n\t\t\treturn new L.Polygon(latlngs, vectorOptions);                                                                    // 6204\n                                                                                                                    // 6205\n\t\tcase 'MultiLineString':                                                                                           // 6206\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);                                                       // 6207\n\t\t\treturn new L.MultiPolyline(latlngs, vectorOptions);                                                              // 6208\n                                                                                                                    // 6209\n\t\tcase 'MultiPolygon':                                                                                              // 6210\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 2, coordsToLatLng);                                                       // 6211\n\t\t\treturn new L.MultiPolygon(latlngs, vectorOptions);                                                               // 6212\n                                                                                                                    // 6213\n\t\tcase 'GeometryCollection':                                                                                        // 6214\n\t\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {                                                    // 6215\n                                                                                                                    // 6216\n\t\t\t\tlayers.push(this.geometryToLayer({                                                                              // 6217\n\t\t\t\t\tgeometry: geometry.geometries[i],                                                                              // 6218\n\t\t\t\t\ttype: 'Feature',                                                                                               // 6219\n\t\t\t\t\tproperties: geojson.properties                                                                                 // 6220\n\t\t\t\t}, pointToLayer, coordsToLatLng, vectorOptions));                                                               // 6221\n\t\t\t}                                                                                                                // 6222\n\t\t\treturn new L.FeatureGroup(layers);                                                                               // 6223\n                                                                                                                    // 6224\n\t\tdefault:                                                                                                          // 6225\n\t\t\tthrow new Error('Invalid GeoJSON object.');                                                                      // 6226\n\t\t}                                                                                                                 // 6227\n\t},                                                                                                                 // 6228\n                                                                                                                    // 6229\n\tcoordsToLatLng: function (coords) { // (Array[, Boolean]) -> LatLng                                                // 6230\n\t\treturn new L.LatLng(coords[1], coords[0], coords[2]);                                                             // 6231\n\t},                                                                                                                 // 6232\n                                                                                                                    // 6233\n\tcoordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) { // (Array[, Number, Function]) -> Array           // 6234\n\t\tvar latlng, i, len,                                                                                               // 6235\n\t\t    latlngs = [];                                                                                                 // 6236\n                                                                                                                    // 6237\n\t\tfor (i = 0, len = coords.length; i < len; i++) {                                                                  // 6238\n\t\t\tlatlng = levelsDeep ?                                                                                            // 6239\n\t\t\t        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :                                        // 6240\n\t\t\t        (coordsToLatLng || this.coordsToLatLng)(coords[i]);                                                      // 6241\n                                                                                                                    // 6242\n\t\t\tlatlngs.push(latlng);                                                                                            // 6243\n\t\t}                                                                                                                 // 6244\n                                                                                                                    // 6245\n\t\treturn latlngs;                                                                                                   // 6246\n\t},                                                                                                                 // 6247\n                                                                                                                    // 6248\n\tlatLngToCoords: function (latlng) {                                                                                // 6249\n\t\tvar coords = [latlng.lng, latlng.lat];                                                                            // 6250\n                                                                                                                    // 6251\n\t\tif (latlng.alt !== undefined) {                                                                                   // 6252\n\t\t\tcoords.push(latlng.alt);                                                                                         // 6253\n\t\t}                                                                                                                 // 6254\n\t\treturn coords;                                                                                                    // 6255\n\t},                                                                                                                 // 6256\n                                                                                                                    // 6257\n\tlatLngsToCoords: function (latLngs) {                                                                              // 6258\n\t\tvar coords = [];                                                                                                  // 6259\n                                                                                                                    // 6260\n\t\tfor (var i = 0, len = latLngs.length; i < len; i++) {                                                             // 6261\n\t\t\tcoords.push(L.GeoJSON.latLngToCoords(latLngs[i]));                                                               // 6262\n\t\t}                                                                                                                 // 6263\n                                                                                                                    // 6264\n\t\treturn coords;                                                                                                    // 6265\n\t},                                                                                                                 // 6266\n                                                                                                                    // 6267\n\tgetFeature: function (layer, newGeometry) {                                                                        // 6268\n\t\treturn layer.feature ? L.extend({}, layer.feature, {geometry: newGeometry}) : L.GeoJSON.asFeature(newGeometry);   // 6269\n\t},                                                                                                                 // 6270\n                                                                                                                    // 6271\n\tasFeature: function (geoJSON) {                                                                                    // 6272\n\t\tif (geoJSON.type === 'Feature') {                                                                                 // 6273\n\t\t\treturn geoJSON;                                                                                                  // 6274\n\t\t}                                                                                                                 // 6275\n                                                                                                                    // 6276\n\t\treturn {                                                                                                          // 6277\n\t\t\ttype: 'Feature',                                                                                                 // 6278\n\t\t\tproperties: {},                                                                                                  // 6279\n\t\t\tgeometry: geoJSON                                                                                                // 6280\n\t\t};                                                                                                                // 6281\n\t}                                                                                                                  // 6282\n});                                                                                                                 // 6283\n                                                                                                                    // 6284\nvar PointToGeoJSON = {                                                                                              // 6285\n\ttoGeoJSON: function () {                                                                                           // 6286\n\t\treturn L.GeoJSON.getFeature(this, {                                                                               // 6287\n\t\t\ttype: 'Point',                                                                                                   // 6288\n\t\t\tcoordinates: L.GeoJSON.latLngToCoords(this.getLatLng())                                                          // 6289\n\t\t});                                                                                                               // 6290\n\t}                                                                                                                  // 6291\n};                                                                                                                  // 6292\n                                                                                                                    // 6293\nL.Marker.include(PointToGeoJSON);                                                                                   // 6294\nL.Circle.include(PointToGeoJSON);                                                                                   // 6295\nL.CircleMarker.include(PointToGeoJSON);                                                                             // 6296\n                                                                                                                    // 6297\nL.Polyline.include({                                                                                                // 6298\n\ttoGeoJSON: function () {                                                                                           // 6299\n\t\treturn L.GeoJSON.getFeature(this, {                                                                               // 6300\n\t\t\ttype: 'LineString',                                                                                              // 6301\n\t\t\tcoordinates: L.GeoJSON.latLngsToCoords(this.getLatLngs())                                                        // 6302\n\t\t});                                                                                                               // 6303\n\t}                                                                                                                  // 6304\n});                                                                                                                 // 6305\n                                                                                                                    // 6306\nL.Polygon.include({                                                                                                 // 6307\n\ttoGeoJSON: function () {                                                                                           // 6308\n\t\tvar coords = [L.GeoJSON.latLngsToCoords(this.getLatLngs())],                                                      // 6309\n\t\t    i, len, hole;                                                                                                 // 6310\n                                                                                                                    // 6311\n\t\tcoords[0].push(coords[0][0]);                                                                                     // 6312\n                                                                                                                    // 6313\n\t\tif (this._holes) {                                                                                                // 6314\n\t\t\tfor (i = 0, len = this._holes.length; i < len; i++) {                                                            // 6315\n\t\t\t\thole = L.GeoJSON.latLngsToCoords(this._holes[i]);                                                               // 6316\n\t\t\t\thole.push(hole[0]);                                                                                             // 6317\n\t\t\t\tcoords.push(hole);                                                                                              // 6318\n\t\t\t}                                                                                                                // 6319\n\t\t}                                                                                                                 // 6320\n                                                                                                                    // 6321\n\t\treturn L.GeoJSON.getFeature(this, {                                                                               // 6322\n\t\t\ttype: 'Polygon',                                                                                                 // 6323\n\t\t\tcoordinates: coords                                                                                              // 6324\n\t\t});                                                                                                               // 6325\n\t}                                                                                                                  // 6326\n});                                                                                                                 // 6327\n                                                                                                                    // 6328\n(function () {                                                                                                      // 6329\n\tfunction multiToGeoJSON(type) {                                                                                    // 6330\n\t\treturn function () {                                                                                              // 6331\n\t\t\tvar coords = [];                                                                                                 // 6332\n                                                                                                                    // 6333\n\t\t\tthis.eachLayer(function (layer) {                                                                                // 6334\n\t\t\t\tcoords.push(layer.toGeoJSON().geometry.coordinates);                                                            // 6335\n\t\t\t});                                                                                                              // 6336\n                                                                                                                    // 6337\n\t\t\treturn L.GeoJSON.getFeature(this, {                                                                              // 6338\n\t\t\t\ttype: type,                                                                                                     // 6339\n\t\t\t\tcoordinates: coords                                                                                             // 6340\n\t\t\t});                                                                                                              // 6341\n\t\t};                                                                                                                // 6342\n\t}                                                                                                                  // 6343\n                                                                                                                    // 6344\n\tL.MultiPolyline.include({toGeoJSON: multiToGeoJSON('MultiLineString')});                                           // 6345\n\tL.MultiPolygon.include({toGeoJSON: multiToGeoJSON('MultiPolygon')});                                               // 6346\n                                                                                                                    // 6347\n\tL.LayerGroup.include({                                                                                             // 6348\n\t\ttoGeoJSON: function () {                                                                                          // 6349\n                                                                                                                    // 6350\n\t\t\tvar geometry = this.feature && this.feature.geometry,                                                            // 6351\n\t\t\t\tjsons = [],                                                                                                     // 6352\n\t\t\t\tjson;                                                                                                           // 6353\n                                                                                                                    // 6354\n\t\t\tif (geometry && geometry.type === 'MultiPoint') {                                                                // 6355\n\t\t\t\treturn multiToGeoJSON('MultiPoint').call(this);                                                                 // 6356\n\t\t\t}                                                                                                                // 6357\n                                                                                                                    // 6358\n\t\t\tvar isGeometryCollection = geometry && geometry.type === 'GeometryCollection';                                   // 6359\n                                                                                                                    // 6360\n\t\t\tthis.eachLayer(function (layer) {                                                                                // 6361\n\t\t\t\tif (layer.toGeoJSON) {                                                                                          // 6362\n\t\t\t\t\tjson = layer.toGeoJSON();                                                                                      // 6363\n\t\t\t\t\tjsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));                                  // 6364\n\t\t\t\t}                                                                                                               // 6365\n\t\t\t});                                                                                                              // 6366\n                                                                                                                    // 6367\n\t\t\tif (isGeometryCollection) {                                                                                      // 6368\n\t\t\t\treturn L.GeoJSON.getFeature(this, {                                                                             // 6369\n\t\t\t\t\tgeometries: jsons,                                                                                             // 6370\n\t\t\t\t\ttype: 'GeometryCollection'                                                                                     // 6371\n\t\t\t\t});                                                                                                             // 6372\n\t\t\t}                                                                                                                // 6373\n                                                                                                                    // 6374\n\t\t\treturn {                                                                                                         // 6375\n\t\t\t\ttype: 'FeatureCollection',                                                                                      // 6376\n\t\t\t\tfeatures: jsons                                                                                                 // 6377\n\t\t\t};                                                                                                               // 6378\n\t\t}                                                                                                                 // 6379\n\t});                                                                                                                // 6380\n}());                                                                                                               // 6381\n                                                                                                                    // 6382\nL.geoJson = function (geojson, options) {                                                                           // 6383\n\treturn new L.GeoJSON(geojson, options);                                                                            // 6384\n};                                                                                                                  // 6385\n                                                                                                                    // 6386\n                                                                                                                    // 6387\n/*                                                                                                                  // 6388\n * L.DomEvent contains functions for working with DOM events.                                                       // 6389\n */                                                                                                                 // 6390\n                                                                                                                    // 6391\nL.DomEvent = {                                                                                                      // 6392\n\t/* inspired by John Resig, Dean Edwards and YUI addEvent implementations */                                        // 6393\n\taddListener: function (obj, type, fn, context) { // (HTMLElement, String, Function[, Object])                      // 6394\n                                                                                                                    // 6395\n\t\tvar id = L.stamp(fn),                                                                                             // 6396\n\t\t    key = '_leaflet_' + type + id,                                                                                // 6397\n\t\t    handler, originalHandler, newType;                                                                            // 6398\n                                                                                                                    // 6399\n\t\tif (obj[key]) { return this; }                                                                                    // 6400\n                                                                                                                    // 6401\n\t\thandler = function (e) {                                                                                          // 6402\n\t\t\treturn fn.call(context || obj, e || L.DomEvent._getEvent());                                                     // 6403\n\t\t};                                                                                                                // 6404\n                                                                                                                    // 6405\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {                                                           // 6406\n\t\t\treturn this.addPointerListener(obj, type, handler, id);                                                          // 6407\n\t\t}                                                                                                                 // 6408\n\t\tif (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {                                      // 6409\n\t\t\tthis.addDoubleTapListener(obj, handler, id);                                                                     // 6410\n\t\t}                                                                                                                 // 6411\n                                                                                                                    // 6412\n\t\tif ('addEventListener' in obj) {                                                                                  // 6413\n                                                                                                                    // 6414\n\t\t\tif (type === 'mousewheel') {                                                                                     // 6415\n\t\t\t\tobj.addEventListener('DOMMouseScroll', handler, false);                                                         // 6416\n\t\t\t\tobj.addEventListener(type, handler, false);                                                                     // 6417\n                                                                                                                    // 6418\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {                                                 // 6419\n                                                                                                                    // 6420\n\t\t\t\toriginalHandler = handler;                                                                                      // 6421\n\t\t\t\tnewType = (type === 'mouseenter' ? 'mouseover' : 'mouseout');                                                   // 6422\n                                                                                                                    // 6423\n\t\t\t\thandler = function (e) {                                                                                        // 6424\n\t\t\t\t\tif (!L.DomEvent._checkMouse(obj, e)) { return; }                                                               // 6425\n\t\t\t\t\treturn originalHandler(e);                                                                                     // 6426\n\t\t\t\t};                                                                                                              // 6427\n                                                                                                                    // 6428\n\t\t\t\tobj.addEventListener(newType, handler, false);                                                                  // 6429\n                                                                                                                    // 6430\n\t\t\t} else if (type === 'click' && L.Browser.android) {                                                              // 6431\n\t\t\t\toriginalHandler = handler;                                                                                      // 6432\n\t\t\t\thandler = function (e) {                                                                                        // 6433\n\t\t\t\t\treturn L.DomEvent._filterClick(e, originalHandler);                                                            // 6434\n\t\t\t\t};                                                                                                              // 6435\n                                                                                                                    // 6436\n\t\t\t\tobj.addEventListener(type, handler, false);                                                                     // 6437\n\t\t\t} else {                                                                                                         // 6438\n\t\t\t\tobj.addEventListener(type, handler, false);                                                                     // 6439\n\t\t\t}                                                                                                                // 6440\n                                                                                                                    // 6441\n\t\t} else if ('attachEvent' in obj) {                                                                                // 6442\n\t\t\tobj.attachEvent('on' + type, handler);                                                                           // 6443\n\t\t}                                                                                                                 // 6444\n                                                                                                                    // 6445\n\t\tobj[key] = handler;                                                                                               // 6446\n                                                                                                                    // 6447\n\t\treturn this;                                                                                                      // 6448\n\t},                                                                                                                 // 6449\n                                                                                                                    // 6450\n\tremoveListener: function (obj, type, fn) {  // (HTMLElement, String, Function)                                     // 6451\n                                                                                                                    // 6452\n\t\tvar id = L.stamp(fn),                                                                                             // 6453\n\t\t    key = '_leaflet_' + type + id,                                                                                // 6454\n\t\t    handler = obj[key];                                                                                           // 6455\n                                                                                                                    // 6456\n\t\tif (!handler) { return this; }                                                                                    // 6457\n                                                                                                                    // 6458\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {                                                           // 6459\n\t\t\tthis.removePointerListener(obj, type, id);                                                                       // 6460\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {                            // 6461\n\t\t\tthis.removeDoubleTapListener(obj, id);                                                                           // 6462\n                                                                                                                    // 6463\n\t\t} else if ('removeEventListener' in obj) {                                                                        // 6464\n                                                                                                                    // 6465\n\t\t\tif (type === 'mousewheel') {                                                                                     // 6466\n\t\t\t\tobj.removeEventListener('DOMMouseScroll', handler, false);                                                      // 6467\n\t\t\t\tobj.removeEventListener(type, handler, false);                                                                  // 6468\n                                                                                                                    // 6469\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {                                                 // 6470\n\t\t\t\tobj.removeEventListener((type === 'mouseenter' ? 'mouseover' : 'mouseout'), handler, false);                    // 6471\n\t\t\t} else {                                                                                                         // 6472\n\t\t\t\tobj.removeEventListener(type, handler, false);                                                                  // 6473\n\t\t\t}                                                                                                                // 6474\n\t\t} else if ('detachEvent' in obj) {                                                                                // 6475\n\t\t\tobj.detachEvent('on' + type, handler);                                                                           // 6476\n\t\t}                                                                                                                 // 6477\n                                                                                                                    // 6478\n\t\tobj[key] = null;                                                                                                  // 6479\n                                                                                                                    // 6480\n\t\treturn this;                                                                                                      // 6481\n\t},                                                                                                                 // 6482\n                                                                                                                    // 6483\n\tstopPropagation: function (e) {                                                                                    // 6484\n                                                                                                                    // 6485\n\t\tif (e.stopPropagation) {                                                                                          // 6486\n\t\t\te.stopPropagation();                                                                                             // 6487\n\t\t} else {                                                                                                          // 6488\n\t\t\te.cancelBubble = true;                                                                                           // 6489\n\t\t}                                                                                                                 // 6490\n\t\tL.DomEvent._skipped(e);                                                                                           // 6491\n                                                                                                                    // 6492\n\t\treturn this;                                                                                                      // 6493\n\t},                                                                                                                 // 6494\n                                                                                                                    // 6495\n\tdisableScrollPropagation: function (el) {                                                                          // 6496\n\t\tvar stop = L.DomEvent.stopPropagation;                                                                            // 6497\n                                                                                                                    // 6498\n\t\treturn L.DomEvent                                                                                                 // 6499\n\t\t\t.on(el, 'mousewheel', stop)                                                                                      // 6500\n\t\t\t.on(el, 'MozMousePixelScroll', stop);                                                                            // 6501\n\t},                                                                                                                 // 6502\n                                                                                                                    // 6503\n\tdisableClickPropagation: function (el) {                                                                           // 6504\n\t\tvar stop = L.DomEvent.stopPropagation;                                                                            // 6505\n                                                                                                                    // 6506\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {                                                         // 6507\n\t\t\tL.DomEvent.on(el, L.Draggable.START[i], stop);                                                                   // 6508\n\t\t}                                                                                                                 // 6509\n                                                                                                                    // 6510\n\t\treturn L.DomEvent                                                                                                 // 6511\n\t\t\t.on(el, 'click', L.DomEvent._fakeStop)                                                                           // 6512\n\t\t\t.on(el, 'dblclick', stop);                                                                                       // 6513\n\t},                                                                                                                 // 6514\n                                                                                                                    // 6515\n\tpreventDefault: function (e) {                                                                                     // 6516\n                                                                                                                    // 6517\n\t\tif (e.preventDefault) {                                                                                           // 6518\n\t\t\te.preventDefault();                                                                                              // 6519\n\t\t} else {                                                                                                          // 6520\n\t\t\te.returnValue = false;                                                                                           // 6521\n\t\t}                                                                                                                 // 6522\n\t\treturn this;                                                                                                      // 6523\n\t},                                                                                                                 // 6524\n                                                                                                                    // 6525\n\tstop: function (e) {                                                                                               // 6526\n\t\treturn L.DomEvent                                                                                                 // 6527\n\t\t\t.preventDefault(e)                                                                                               // 6528\n\t\t\t.stopPropagation(e);                                                                                             // 6529\n\t},                                                                                                                 // 6530\n                                                                                                                    // 6531\n\tgetMousePosition: function (e, container) {                                                                        // 6532\n\t\tif (!container) {                                                                                                 // 6533\n\t\t\treturn new L.Point(e.clientX, e.clientY);                                                                        // 6534\n\t\t}                                                                                                                 // 6535\n                                                                                                                    // 6536\n\t\tvar rect = container.getBoundingClientRect();                                                                     // 6537\n                                                                                                                    // 6538\n\t\treturn new L.Point(                                                                                               // 6539\n\t\t\te.clientX - rect.left - container.clientLeft,                                                                    // 6540\n\t\t\te.clientY - rect.top - container.clientTop);                                                                     // 6541\n\t},                                                                                                                 // 6542\n                                                                                                                    // 6543\n\tgetWheelDelta: function (e) {                                                                                      // 6544\n                                                                                                                    // 6545\n\t\tvar delta = 0;                                                                                                    // 6546\n                                                                                                                    // 6547\n\t\tif (e.wheelDelta) {                                                                                               // 6548\n\t\t\tdelta = e.wheelDelta / 120;                                                                                      // 6549\n\t\t}                                                                                                                 // 6550\n\t\tif (e.detail) {                                                                                                   // 6551\n\t\t\tdelta = -e.detail / 3;                                                                                           // 6552\n\t\t}                                                                                                                 // 6553\n\t\treturn delta;                                                                                                     // 6554\n\t},                                                                                                                 // 6555\n                                                                                                                    // 6556\n\t_skipEvents: {},                                                                                                   // 6557\n                                                                                                                    // 6558\n\t_fakeStop: function (e) {                                                                                          // 6559\n\t\t// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)               // 6560\n\t\tL.DomEvent._skipEvents[e.type] = true;                                                                            // 6561\n\t},                                                                                                                 // 6562\n                                                                                                                    // 6563\n\t_skipped: function (e) {                                                                                           // 6564\n\t\tvar skipped = this._skipEvents[e.type];                                                                           // 6565\n\t\t// reset when checking, as it's only used in map container and propagates outside of the map                      // 6566\n\t\tthis._skipEvents[e.type] = false;                                                                                 // 6567\n\t\treturn skipped;                                                                                                   // 6568\n\t},                                                                                                                 // 6569\n                                                                                                                    // 6570\n\t// check if element really left/entered the event target (for mouseenter/mouseleave)                               // 6571\n\t_checkMouse: function (el, e) {                                                                                    // 6572\n                                                                                                                    // 6573\n\t\tvar related = e.relatedTarget;                                                                                    // 6574\n                                                                                                                    // 6575\n\t\tif (!related) { return true; }                                                                                    // 6576\n                                                                                                                    // 6577\n\t\ttry {                                                                                                             // 6578\n\t\t\twhile (related && (related !== el)) {                                                                            // 6579\n\t\t\t\trelated = related.parentNode;                                                                                   // 6580\n\t\t\t}                                                                                                                // 6581\n\t\t} catch (err) {                                                                                                   // 6582\n\t\t\treturn false;                                                                                                    // 6583\n\t\t}                                                                                                                 // 6584\n\t\treturn (related !== el);                                                                                          // 6585\n\t},                                                                                                                 // 6586\n                                                                                                                    // 6587\n\t_getEvent: function () { // evil magic for IE                                                                      // 6588\n\t\t/*jshint noarg:false */                                                                                           // 6589\n\t\tvar e = window.event;                                                                                             // 6590\n\t\tif (!e) {                                                                                                         // 6591\n\t\t\tvar caller = arguments.callee.caller;                                                                            // 6592\n\t\t\twhile (caller) {                                                                                                 // 6593\n\t\t\t\te = caller['arguments'][0];                                                                                     // 6594\n\t\t\t\tif (e && window.Event === e.constructor) {                                                                      // 6595\n\t\t\t\t\tbreak;                                                                                                         // 6596\n\t\t\t\t}                                                                                                               // 6597\n\t\t\t\tcaller = caller.caller;                                                                                         // 6598\n\t\t\t}                                                                                                                // 6599\n\t\t}                                                                                                                 // 6600\n\t\treturn e;                                                                                                         // 6601\n\t},                                                                                                                 // 6602\n                                                                                                                    // 6603\n\t// this is a horrible workaround for a bug in Android where a single touch triggers two click events               // 6604\n\t_filterClick: function (e, handler) {                                                                              // 6605\n\t\tvar timeStamp = (e.timeStamp || e.originalEvent.timeStamp),                                                       // 6606\n\t\t\telapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);                                          // 6607\n                                                                                                                    // 6608\n\t\t// are they closer together than 500ms yet more than 100ms?                                                       // 6609\n\t\t// Android typically triggers them ~300ms apart while multiple listeners                                          // 6610\n\t\t// on the same event should be triggered far faster;                                                              // 6611\n\t\t// or check if click is simulated on the element, and if it is, reject any non-simulated events                   // 6612\n                                                                                                                    // 6613\n\t\tif ((elapsed && elapsed > 100 && elapsed < 500) || (e.target._simulatedClick && !e._simulated)) {                 // 6614\n\t\t\tL.DomEvent.stop(e);                                                                                              // 6615\n\t\t\treturn;                                                                                                          // 6616\n\t\t}                                                                                                                 // 6617\n\t\tL.DomEvent._lastClick = timeStamp;                                                                                // 6618\n                                                                                                                    // 6619\n\t\treturn handler(e);                                                                                                // 6620\n\t}                                                                                                                  // 6621\n};                                                                                                                  // 6622\n                                                                                                                    // 6623\nL.DomEvent.on = L.DomEvent.addListener;                                                                             // 6624\nL.DomEvent.off = L.DomEvent.removeListener;                                                                         // 6625\n                                                                                                                    // 6626\n                                                                                                                    // 6627\n/*                                                                                                                  // 6628\n * L.Draggable allows you to add dragging capabilities to any element. Supports mobile devices too.                 // 6629\n */                                                                                                                 // 6630\n                                                                                                                    // 6631\nL.Draggable = L.Class.extend({                                                                                      // 6632\n\tincludes: L.Mixin.Events,                                                                                          // 6633\n                                                                                                                    // 6634\n\tstatics: {                                                                                                         // 6635\n\t\tSTART: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],                                             // 6636\n\t\tEND: {                                                                                                            // 6637\n\t\t\tmousedown: 'mouseup',                                                                                            // 6638\n\t\t\ttouchstart: 'touchend',                                                                                          // 6639\n\t\t\tpointerdown: 'touchend',                                                                                         // 6640\n\t\t\tMSPointerDown: 'touchend'                                                                                        // 6641\n\t\t},                                                                                                                // 6642\n\t\tMOVE: {                                                                                                           // 6643\n\t\t\tmousedown: 'mousemove',                                                                                          // 6644\n\t\t\ttouchstart: 'touchmove',                                                                                         // 6645\n\t\t\tpointerdown: 'touchmove',                                                                                        // 6646\n\t\t\tMSPointerDown: 'touchmove'                                                                                       // 6647\n\t\t}                                                                                                                 // 6648\n\t},                                                                                                                 // 6649\n                                                                                                                    // 6650\n\tinitialize: function (element, dragStartTarget) {                                                                  // 6651\n\t\tthis._element = element;                                                                                          // 6652\n\t\tthis._dragStartTarget = dragStartTarget || element;                                                               // 6653\n\t},                                                                                                                 // 6654\n                                                                                                                    // 6655\n\tenable: function () {                                                                                              // 6656\n\t\tif (this._enabled) { return; }                                                                                    // 6657\n                                                                                                                    // 6658\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {                                                         // 6659\n\t\t\tL.DomEvent.on(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);                                  // 6660\n\t\t}                                                                                                                 // 6661\n                                                                                                                    // 6662\n\t\tthis._enabled = true;                                                                                             // 6663\n\t},                                                                                                                 // 6664\n                                                                                                                    // 6665\n\tdisable: function () {                                                                                             // 6666\n\t\tif (!this._enabled) { return; }                                                                                   // 6667\n                                                                                                                    // 6668\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {                                                         // 6669\n\t\t\tL.DomEvent.off(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);                                 // 6670\n\t\t}                                                                                                                 // 6671\n                                                                                                                    // 6672\n\t\tthis._enabled = false;                                                                                            // 6673\n\t\tthis._moved = false;                                                                                              // 6674\n\t},                                                                                                                 // 6675\n                                                                                                                    // 6676\n\t_onDown: function (e) {                                                                                            // 6677\n\t\tthis._moved = false;                                                                                              // 6678\n                                                                                                                    // 6679\n\t\tif (e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches)) { return; }                                // 6680\n                                                                                                                    // 6681\n\t\tL.DomEvent.stopPropagation(e);                                                                                    // 6682\n                                                                                                                    // 6683\n\t\tif (L.Draggable._disabled) { return; }                                                                            // 6684\n                                                                                                                    // 6685\n\t\tL.DomUtil.disableImageDrag();                                                                                     // 6686\n\t\tL.DomUtil.disableTextSelection();                                                                                 // 6687\n                                                                                                                    // 6688\n\t\tif (this._moving) { return; }                                                                                     // 6689\n                                                                                                                    // 6690\n\t\tvar first = e.touches ? e.touches[0] : e;                                                                         // 6691\n                                                                                                                    // 6692\n\t\tthis._startPoint = new L.Point(first.clientX, first.clientY);                                                     // 6693\n\t\tthis._startPos = this._newPos = L.DomUtil.getPosition(this._element);                                             // 6694\n                                                                                                                    // 6695\n\t\tL.DomEvent                                                                                                        // 6696\n\t\t    .on(document, L.Draggable.MOVE[e.type], this._onMove, this)                                                   // 6697\n\t\t    .on(document, L.Draggable.END[e.type], this._onUp, this);                                                     // 6698\n\t},                                                                                                                 // 6699\n                                                                                                                    // 6700\n\t_onMove: function (e) {                                                                                            // 6701\n\t\tif (e.touches && e.touches.length > 1) {                                                                          // 6702\n\t\t\tthis._moved = true;                                                                                              // 6703\n\t\t\treturn;                                                                                                          // 6704\n\t\t}                                                                                                                 // 6705\n                                                                                                                    // 6706\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),                                             // 6707\n\t\t    newPoint = new L.Point(first.clientX, first.clientY),                                                         // 6708\n\t\t    offset = newPoint.subtract(this._startPoint);                                                                 // 6709\n                                                                                                                    // 6710\n\t\tif (!offset.x && !offset.y) { return; }                                                                           // 6711\n\t\tif (L.Browser.touch && Math.abs(offset.x) + Math.abs(offset.y) < 3) { return; }                                   // 6712\n                                                                                                                    // 6713\n\t\tL.DomEvent.preventDefault(e);                                                                                     // 6714\n                                                                                                                    // 6715\n\t\tif (!this._moved) {                                                                                               // 6716\n\t\t\tthis.fire('dragstart');                                                                                          // 6717\n                                                                                                                    // 6718\n\t\t\tthis._moved = true;                                                                                              // 6719\n\t\t\tthis._startPos = L.DomUtil.getPosition(this._element).subtract(offset);                                          // 6720\n                                                                                                                    // 6721\n\t\t\tL.DomUtil.addClass(document.body, 'leaflet-dragging');                                                           // 6722\n\t\t\tthis._lastTarget = e.target || e.srcElement;                                                                     // 6723\n\t\t\tL.DomUtil.addClass(this._lastTarget, 'leaflet-drag-target');                                                     // 6724\n\t\t}                                                                                                                 // 6725\n                                                                                                                    // 6726\n\t\tthis._newPos = this._startPos.add(offset);                                                                        // 6727\n\t\tthis._moving = true;                                                                                              // 6728\n                                                                                                                    // 6729\n\t\tL.Util.cancelAnimFrame(this._animRequest);                                                                        // 6730\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true, this._dragStartTarget);             // 6731\n\t},                                                                                                                 // 6732\n                                                                                                                    // 6733\n\t_updatePosition: function () {                                                                                     // 6734\n\t\tthis.fire('predrag');                                                                                             // 6735\n\t\tL.DomUtil.setPosition(this._element, this._newPos);                                                               // 6736\n\t\tthis.fire('drag');                                                                                                // 6737\n\t},                                                                                                                 // 6738\n                                                                                                                    // 6739\n\t_onUp: function () {                                                                                               // 6740\n\t\tL.DomUtil.removeClass(document.body, 'leaflet-dragging');                                                         // 6741\n                                                                                                                    // 6742\n\t\tif (this._lastTarget) {                                                                                           // 6743\n\t\t\tL.DomUtil.removeClass(this._lastTarget, 'leaflet-drag-target');                                                  // 6744\n\t\t\tthis._lastTarget = null;                                                                                         // 6745\n\t\t}                                                                                                                 // 6746\n                                                                                                                    // 6747\n\t\tfor (var i in L.Draggable.MOVE) {                                                                                 // 6748\n\t\t\tL.DomEvent                                                                                                       // 6749\n\t\t\t    .off(document, L.Draggable.MOVE[i], this._onMove)                                                            // 6750\n\t\t\t    .off(document, L.Draggable.END[i], this._onUp);                                                              // 6751\n\t\t}                                                                                                                 // 6752\n                                                                                                                    // 6753\n\t\tL.DomUtil.enableImageDrag();                                                                                      // 6754\n\t\tL.DomUtil.enableTextSelection();                                                                                  // 6755\n                                                                                                                    // 6756\n\t\tif (this._moved && this._moving) {                                                                                // 6757\n\t\t\t// ensure drag is not fired after dragend                                                                        // 6758\n\t\t\tL.Util.cancelAnimFrame(this._animRequest);                                                                       // 6759\n                                                                                                                    // 6760\n\t\t\tthis.fire('dragend', {                                                                                           // 6761\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)                                                               // 6762\n\t\t\t});                                                                                                              // 6763\n\t\t}                                                                                                                 // 6764\n                                                                                                                    // 6765\n\t\tthis._moving = false;                                                                                             // 6766\n\t}                                                                                                                  // 6767\n});                                                                                                                 // 6768\n                                                                                                                    // 6769\n                                                                                                                    // 6770\n/*                                                                                                                  // 6771\n\tL.Handler is a base class for handler classes that are used internally to inject                                   // 6772\n\tinteraction features like dragging to classes like Map and Marker.                                                 // 6773\n*/                                                                                                                  // 6774\n                                                                                                                    // 6775\nL.Handler = L.Class.extend({                                                                                        // 6776\n\tinitialize: function (map) {                                                                                       // 6777\n\t\tthis._map = map;                                                                                                  // 6778\n\t},                                                                                                                 // 6779\n                                                                                                                    // 6780\n\tenable: function () {                                                                                              // 6781\n\t\tif (this._enabled) { return; }                                                                                    // 6782\n                                                                                                                    // 6783\n\t\tthis._enabled = true;                                                                                             // 6784\n\t\tthis.addHooks();                                                                                                  // 6785\n\t},                                                                                                                 // 6786\n                                                                                                                    // 6787\n\tdisable: function () {                                                                                             // 6788\n\t\tif (!this._enabled) { return; }                                                                                   // 6789\n                                                                                                                    // 6790\n\t\tthis._enabled = false;                                                                                            // 6791\n\t\tthis.removeHooks();                                                                                               // 6792\n\t},                                                                                                                 // 6793\n                                                                                                                    // 6794\n\tenabled: function () {                                                                                             // 6795\n\t\treturn !!this._enabled;                                                                                           // 6796\n\t}                                                                                                                  // 6797\n});                                                                                                                 // 6798\n                                                                                                                    // 6799\n                                                                                                                    // 6800\n/*                                                                                                                  // 6801\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.                  // 6802\n */                                                                                                                 // 6803\n                                                                                                                    // 6804\nL.Map.mergeOptions({                                                                                                // 6805\n\tdragging: true,                                                                                                    // 6806\n                                                                                                                    // 6807\n\tinertia: !L.Browser.android23,                                                                                     // 6808\n\tinertiaDeceleration: 3400, // px/s^2                                                                               // 6809\n\tinertiaMaxSpeed: Infinity, // px/s                                                                                 // 6810\n\tinertiaThreshold: L.Browser.touch ? 32 : 18, // ms                                                                 // 6811\n\teaseLinearity: 0.25,                                                                                               // 6812\n                                                                                                                    // 6813\n\t// TODO refactor, move to CRS                                                                                      // 6814\n\tworldCopyJump: false                                                                                               // 6815\n});                                                                                                                 // 6816\n                                                                                                                    // 6817\nL.Map.Drag = L.Handler.extend({                                                                                     // 6818\n\taddHooks: function () {                                                                                            // 6819\n\t\tif (!this._draggable) {                                                                                           // 6820\n\t\t\tvar map = this._map;                                                                                             // 6821\n                                                                                                                    // 6822\n\t\t\tthis._draggable = new L.Draggable(map._mapPane, map._container);                                                 // 6823\n                                                                                                                    // 6824\n\t\t\tthis._draggable.on({                                                                                             // 6825\n\t\t\t\t'dragstart': this._onDragStart,                                                                                 // 6826\n\t\t\t\t'drag': this._onDrag,                                                                                           // 6827\n\t\t\t\t'dragend': this._onDragEnd                                                                                      // 6828\n\t\t\t}, this);                                                                                                        // 6829\n                                                                                                                    // 6830\n\t\t\tif (map.options.worldCopyJump) {                                                                                 // 6831\n\t\t\t\tthis._draggable.on('predrag', this._onPreDrag, this);                                                           // 6832\n\t\t\t\tmap.on('viewreset', this._onViewReset, this);                                                                   // 6833\n                                                                                                                    // 6834\n\t\t\t\tmap.whenReady(this._onViewReset, this);                                                                         // 6835\n\t\t\t}                                                                                                                // 6836\n\t\t}                                                                                                                 // 6837\n\t\tthis._draggable.enable();                                                                                         // 6838\n\t},                                                                                                                 // 6839\n                                                                                                                    // 6840\n\tremoveHooks: function () {                                                                                         // 6841\n\t\tthis._draggable.disable();                                                                                        // 6842\n\t},                                                                                                                 // 6843\n                                                                                                                    // 6844\n\tmoved: function () {                                                                                               // 6845\n\t\treturn this._draggable && this._draggable._moved;                                                                 // 6846\n\t},                                                                                                                 // 6847\n                                                                                                                    // 6848\n\t_onDragStart: function () {                                                                                        // 6849\n\t\tvar map = this._map;                                                                                              // 6850\n                                                                                                                    // 6851\n\t\tif (map._panAnim) {                                                                                               // 6852\n\t\t\tmap._panAnim.stop();                                                                                             // 6853\n\t\t}                                                                                                                 // 6854\n                                                                                                                    // 6855\n\t\tmap                                                                                                               // 6856\n\t\t    .fire('movestart')                                                                                            // 6857\n\t\t    .fire('dragstart');                                                                                           // 6858\n                                                                                                                    // 6859\n\t\tif (map.options.inertia) {                                                                                        // 6860\n\t\t\tthis._positions = [];                                                                                            // 6861\n\t\t\tthis._times = [];                                                                                                // 6862\n\t\t}                                                                                                                 // 6863\n\t},                                                                                                                 // 6864\n                                                                                                                    // 6865\n\t_onDrag: function () {                                                                                             // 6866\n\t\tif (this._map.options.inertia) {                                                                                  // 6867\n\t\t\tvar time = this._lastTime = +new Date(),                                                                         // 6868\n\t\t\t    pos = this._lastPos = this._draggable._newPos;                                                               // 6869\n                                                                                                                    // 6870\n\t\t\tthis._positions.push(pos);                                                                                       // 6871\n\t\t\tthis._times.push(time);                                                                                          // 6872\n                                                                                                                    // 6873\n\t\t\tif (time - this._times[0] > 200) {                                                                               // 6874\n\t\t\t\tthis._positions.shift();                                                                                        // 6875\n\t\t\t\tthis._times.shift();                                                                                            // 6876\n\t\t\t}                                                                                                                // 6877\n\t\t}                                                                                                                 // 6878\n                                                                                                                    // 6879\n\t\tthis._map                                                                                                         // 6880\n\t\t    .fire('move')                                                                                                 // 6881\n\t\t    .fire('drag');                                                                                                // 6882\n\t},                                                                                                                 // 6883\n                                                                                                                    // 6884\n\t_onViewReset: function () {                                                                                        // 6885\n\t\t// TODO fix hardcoded Earth values                                                                                // 6886\n\t\tvar pxCenter = this._map.getSize()._divideBy(2),                                                                  // 6887\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);                                                         // 6888\n                                                                                                                    // 6889\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;                                                    // 6890\n\t\tthis._worldWidth = this._map.project([0, 180]).x;                                                                 // 6891\n\t},                                                                                                                 // 6892\n                                                                                                                    // 6893\n\t_onPreDrag: function () {                                                                                          // 6894\n\t\t// TODO refactor to be able to adjust map pane position after zoom                                                // 6895\n\t\tvar worldWidth = this._worldWidth,                                                                                // 6896\n\t\t    halfWidth = Math.round(worldWidth / 2),                                                                       // 6897\n\t\t    dx = this._initialWorldOffset,                                                                                // 6898\n\t\t    x = this._draggable._newPos.x,                                                                                // 6899\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,                                                   // 6900\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,                                                   // 6901\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;                                           // 6902\n                                                                                                                    // 6903\n\t\tthis._draggable._newPos.x = newX;                                                                                 // 6904\n\t},                                                                                                                 // 6905\n                                                                                                                    // 6906\n\t_onDragEnd: function (e) {                                                                                         // 6907\n\t\tvar map = this._map,                                                                                              // 6908\n\t\t    options = map.options,                                                                                        // 6909\n\t\t    delay = +new Date() - this._lastTime,                                                                         // 6910\n                                                                                                                    // 6911\n\t\t    noInertia = !options.inertia || delay > options.inertiaThreshold || !this._positions[0];                      // 6912\n                                                                                                                    // 6913\n\t\tmap.fire('dragend', e);                                                                                           // 6914\n                                                                                                                    // 6915\n\t\tif (noInertia) {                                                                                                  // 6916\n\t\t\tmap.fire('moveend');                                                                                             // 6917\n                                                                                                                    // 6918\n\t\t} else {                                                                                                          // 6919\n                                                                                                                    // 6920\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),                                                      // 6921\n\t\t\t    duration = (this._lastTime + delay - this._times[0]) / 1000,                                                 // 6922\n\t\t\t    ease = options.easeLinearity,                                                                                // 6923\n                                                                                                                    // 6924\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),                                                         // 6925\n\t\t\t    speed = speedVector.distanceTo([0, 0]),                                                                      // 6926\n                                                                                                                    // 6927\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),                                                     // 6928\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),                                           // 6929\n                                                                                                                    // 6930\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),                                  // 6931\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();                                   // 6932\n                                                                                                                    // 6933\n\t\t\tif (!offset.x || !offset.y) {                                                                                    // 6934\n\t\t\t\tmap.fire('moveend');                                                                                            // 6935\n                                                                                                                    // 6936\n\t\t\t} else {                                                                                                         // 6937\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);                                                       // 6938\n                                                                                                                    // 6939\n\t\t\t\tL.Util.requestAnimFrame(function () {                                                                           // 6940\n\t\t\t\t\tmap.panBy(offset, {                                                                                            // 6941\n\t\t\t\t\t\tduration: decelerationDuration,                                                                               // 6942\n\t\t\t\t\t\teaseLinearity: ease,                                                                                          // 6943\n\t\t\t\t\t\tnoMoveStart: true                                                                                             // 6944\n\t\t\t\t\t});                                                                                                            // 6945\n\t\t\t\t});                                                                                                             // 6946\n\t\t\t}                                                                                                                // 6947\n\t\t}                                                                                                                 // 6948\n\t}                                                                                                                  // 6949\n});                                                                                                                 // 6950\n                                                                                                                    // 6951\nL.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);                                                            // 6952\n                                                                                                                    // 6953\n                                                                                                                    // 6954\n/*                                                                                                                  // 6955\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.                    // 6956\n */                                                                                                                 // 6957\n                                                                                                                    // 6958\nL.Map.mergeOptions({                                                                                                // 6959\n\tdoubleClickZoom: true                                                                                              // 6960\n});                                                                                                                 // 6961\n                                                                                                                    // 6962\nL.Map.DoubleClickZoom = L.Handler.extend({                                                                          // 6963\n\taddHooks: function () {                                                                                            // 6964\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);                                                              // 6965\n\t},                                                                                                                 // 6966\n                                                                                                                    // 6967\n\tremoveHooks: function () {                                                                                         // 6968\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);                                                             // 6969\n\t},                                                                                                                 // 6970\n                                                                                                                    // 6971\n\t_onDoubleClick: function (e) {                                                                                     // 6972\n\t\tvar map = this._map,                                                                                              // 6973\n\t\t    zoom = map.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);                                                   // 6974\n                                                                                                                    // 6975\n\t\tif (map.options.doubleClickZoom === 'center') {                                                                   // 6976\n\t\t\tmap.setZoom(zoom);                                                                                               // 6977\n\t\t} else {                                                                                                          // 6978\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);                                                                       // 6979\n\t\t}                                                                                                                 // 6980\n\t}                                                                                                                  // 6981\n});                                                                                                                 // 6982\n                                                                                                                    // 6983\nL.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);                                          // 6984\n                                                                                                                    // 6985\n                                                                                                                    // 6986\n/*                                                                                                                  // 6987\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.                         // 6988\n */                                                                                                                 // 6989\n                                                                                                                    // 6990\nL.Map.mergeOptions({                                                                                                // 6991\n\tscrollWheelZoom: true                                                                                              // 6992\n});                                                                                                                 // 6993\n                                                                                                                    // 6994\nL.Map.ScrollWheelZoom = L.Handler.extend({                                                                          // 6995\n\taddHooks: function () {                                                                                            // 6996\n\t\tL.DomEvent.on(this._map._container, 'mousewheel', this._onWheelScroll, this);                                     // 6997\n\t\tL.DomEvent.on(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);                            // 6998\n\t\tthis._delta = 0;                                                                                                  // 6999\n\t},                                                                                                                 // 7000\n                                                                                                                    // 7001\n\tremoveHooks: function () {                                                                                         // 7002\n\t\tL.DomEvent.off(this._map._container, 'mousewheel', this._onWheelScroll);                                          // 7003\n\t\tL.DomEvent.off(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);                           // 7004\n\t},                                                                                                                 // 7005\n                                                                                                                    // 7006\n\t_onWheelScroll: function (e) {                                                                                     // 7007\n\t\tvar delta = L.DomEvent.getWheelDelta(e);                                                                          // 7008\n                                                                                                                    // 7009\n\t\tthis._delta += delta;                                                                                             // 7010\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);                                                     // 7011\n                                                                                                                    // 7012\n\t\tif (!this._startTime) {                                                                                           // 7013\n\t\t\tthis._startTime = +new Date();                                                                                   // 7014\n\t\t}                                                                                                                 // 7015\n                                                                                                                    // 7016\n\t\tvar left = Math.max(40 - (+new Date() - this._startTime), 0);                                                     // 7017\n                                                                                                                    // 7018\n\t\tclearTimeout(this._timer);                                                                                        // 7019\n\t\tthis._timer = setTimeout(L.bind(this._performZoom, this), left);                                                  // 7020\n                                                                                                                    // 7021\n\t\tL.DomEvent.preventDefault(e);                                                                                     // 7022\n\t\tL.DomEvent.stopPropagation(e);                                                                                    // 7023\n\t},                                                                                                                 // 7024\n                                                                                                                    // 7025\n\t_performZoom: function () {                                                                                        // 7026\n\t\tvar map = this._map,                                                                                              // 7027\n\t\t    delta = this._delta,                                                                                          // 7028\n\t\t    zoom = map.getZoom();                                                                                         // 7029\n                                                                                                                    // 7030\n\t\tdelta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);                                                         // 7031\n\t\tdelta = Math.max(Math.min(delta, 4), -4);                                                                         // 7032\n\t\tdelta = map._limitZoom(zoom + delta) - zoom;                                                                      // 7033\n                                                                                                                    // 7034\n\t\tthis._delta = 0;                                                                                                  // 7035\n\t\tthis._startTime = null;                                                                                           // 7036\n                                                                                                                    // 7037\n\t\tif (!delta) { return; }                                                                                           // 7038\n                                                                                                                    // 7039\n\t\tif (map.options.scrollWheelZoom === 'center') {                                                                   // 7040\n\t\t\tmap.setZoom(zoom + delta);                                                                                       // 7041\n\t\t} else {                                                                                                          // 7042\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);                                                             // 7043\n\t\t}                                                                                                                 // 7044\n\t}                                                                                                                  // 7045\n});                                                                                                                 // 7046\n                                                                                                                    // 7047\nL.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);                                          // 7048\n                                                                                                                    // 7049\n                                                                                                                    // 7050\n/*                                                                                                                  // 7051\n * Extends the event handling code with double tap support for mobile browsers.                                     // 7052\n */                                                                                                                 // 7053\n                                                                                                                    // 7054\nL.extend(L.DomEvent, {                                                                                              // 7055\n                                                                                                                    // 7056\n\t_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',             // 7057\n\t_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',                     // 7058\n                                                                                                                    // 7059\n\t// inspired by Zepto touch code by Thomas Fuchs                                                                    // 7060\n\taddDoubleTapListener: function (obj, handler, id) {                                                                // 7061\n\t\tvar last,                                                                                                         // 7062\n\t\t    doubleTap = false,                                                                                            // 7063\n\t\t    delay = 250,                                                                                                  // 7064\n\t\t    touch,                                                                                                        // 7065\n\t\t    pre = '_leaflet_',                                                                                            // 7066\n\t\t    touchstart = this._touchstart,                                                                                // 7067\n\t\t    touchend = this._touchend,                                                                                    // 7068\n\t\t    trackedTouches = [];                                                                                          // 7069\n                                                                                                                    // 7070\n\t\tfunction onTouchStart(e) {                                                                                        // 7071\n\t\t\tvar count;                                                                                                       // 7072\n                                                                                                                    // 7073\n\t\t\tif (L.Browser.pointer) {                                                                                         // 7074\n\t\t\t\ttrackedTouches.push(e.pointerId);                                                                               // 7075\n\t\t\t\tcount = trackedTouches.length;                                                                                  // 7076\n\t\t\t} else {                                                                                                         // 7077\n\t\t\t\tcount = e.touches.length;                                                                                       // 7078\n\t\t\t}                                                                                                                // 7079\n\t\t\tif (count > 1) {                                                                                                 // 7080\n\t\t\t\treturn;                                                                                                         // 7081\n\t\t\t}                                                                                                                // 7082\n                                                                                                                    // 7083\n\t\t\tvar now = Date.now(),                                                                                            // 7084\n\t\t\t\tdelta = now - (last || now);                                                                                    // 7085\n                                                                                                                    // 7086\n\t\t\ttouch = e.touches ? e.touches[0] : e;                                                                            // 7087\n\t\t\tdoubleTap = (delta > 0 && delta <= delay);                                                                       // 7088\n\t\t\tlast = now;                                                                                                      // 7089\n\t\t}                                                                                                                 // 7090\n                                                                                                                    // 7091\n\t\tfunction onTouchEnd(e) {                                                                                          // 7092\n\t\t\tif (L.Browser.pointer) {                                                                                         // 7093\n\t\t\t\tvar idx = trackedTouches.indexOf(e.pointerId);                                                                  // 7094\n\t\t\t\tif (idx === -1) {                                                                                               // 7095\n\t\t\t\t\treturn;                                                                                                        // 7096\n\t\t\t\t}                                                                                                               // 7097\n\t\t\t\ttrackedTouches.splice(idx, 1);                                                                                  // 7098\n\t\t\t}                                                                                                                // 7099\n                                                                                                                    // 7100\n\t\t\tif (doubleTap) {                                                                                                 // 7101\n\t\t\t\tif (L.Browser.pointer) {                                                                                        // 7102\n\t\t\t\t\t// work around .type being readonly with MSPointer* events                                                     // 7103\n\t\t\t\t\tvar newTouch = { },                                                                                            // 7104\n\t\t\t\t\t\tprop;                                                                                                         // 7105\n                                                                                                                    // 7106\n\t\t\t\t\t// jshint forin:false                                                                                          // 7107\n\t\t\t\t\tfor (var i in touch) {                                                                                         // 7108\n\t\t\t\t\t\tprop = touch[i];                                                                                              // 7109\n\t\t\t\t\t\tif (typeof prop === 'function') {                                                                             // 7110\n\t\t\t\t\t\t\tnewTouch[i] = prop.bind(touch);                                                                              // 7111\n\t\t\t\t\t\t} else {                                                                                                      // 7112\n\t\t\t\t\t\t\tnewTouch[i] = prop;                                                                                          // 7113\n\t\t\t\t\t\t}                                                                                                             // 7114\n\t\t\t\t\t}                                                                                                              // 7115\n\t\t\t\t\ttouch = newTouch;                                                                                              // 7116\n\t\t\t\t}                                                                                                               // 7117\n\t\t\t\ttouch.type = 'dblclick';                                                                                        // 7118\n\t\t\t\thandler(touch);                                                                                                 // 7119\n\t\t\t\tlast = null;                                                                                                    // 7120\n\t\t\t}                                                                                                                // 7121\n\t\t}                                                                                                                 // 7122\n\t\tobj[pre + touchstart + id] = onTouchStart;                                                                        // 7123\n\t\tobj[pre + touchend + id] = onTouchEnd;                                                                            // 7124\n                                                                                                                    // 7125\n\t\t// on pointer we need to listen on the document, otherwise a drag starting on the map and moving off screen       // 7126\n\t\t// will not come through to us, so we will lose track of how many touches are ongoing                             // 7127\n\t\tvar endElement = L.Browser.pointer ? document.documentElement : obj;                                              // 7128\n                                                                                                                    // 7129\n\t\tobj.addEventListener(touchstart, onTouchStart, false);                                                            // 7130\n\t\tendElement.addEventListener(touchend, onTouchEnd, false);                                                         // 7131\n                                                                                                                    // 7132\n\t\tif (L.Browser.pointer) {                                                                                          // 7133\n\t\t\tendElement.addEventListener(L.DomEvent.POINTER_CANCEL, onTouchEnd, false);                                       // 7134\n\t\t}                                                                                                                 // 7135\n                                                                                                                    // 7136\n\t\treturn this;                                                                                                      // 7137\n\t},                                                                                                                 // 7138\n                                                                                                                    // 7139\n\tremoveDoubleTapListener: function (obj, id) {                                                                      // 7140\n\t\tvar pre = '_leaflet_';                                                                                            // 7141\n                                                                                                                    // 7142\n\t\tobj.removeEventListener(this._touchstart, obj[pre + this._touchstart + id], false);                               // 7143\n\t\t(L.Browser.pointer ? document.documentElement : obj).removeEventListener(                                         // 7144\n\t\t        this._touchend, obj[pre + this._touchend + id], false);                                                   // 7145\n                                                                                                                    // 7146\n\t\tif (L.Browser.pointer) {                                                                                          // 7147\n\t\t\tdocument.documentElement.removeEventListener(L.DomEvent.POINTER_CANCEL, obj[pre + this._touchend + id],          // 7148\n\t\t\t\tfalse);                                                                                                         // 7149\n\t\t}                                                                                                                 // 7150\n                                                                                                                    // 7151\n\t\treturn this;                                                                                                      // 7152\n\t}                                                                                                                  // 7153\n});                                                                                                                 // 7154\n                                                                                                                    // 7155\n                                                                                                                    // 7156\n/*                                                                                                                  // 7157\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.                     // 7158\n */                                                                                                                 // 7159\n                                                                                                                    // 7160\nL.extend(L.DomEvent, {                                                                                              // 7161\n                                                                                                                    // 7162\n\t//static                                                                                                           // 7163\n\tPOINTER_DOWN: L.Browser.msPointer ? 'MSPointerDown' : 'pointerdown',                                               // 7164\n\tPOINTER_MOVE: L.Browser.msPointer ? 'MSPointerMove' : 'pointermove',                                               // 7165\n\tPOINTER_UP: L.Browser.msPointer ? 'MSPointerUp' : 'pointerup',                                                     // 7166\n\tPOINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',                                         // 7167\n                                                                                                                    // 7168\n\t_pointers: [],                                                                                                     // 7169\n\t_pointerDocumentListener: false,                                                                                   // 7170\n                                                                                                                    // 7171\n\t// Provides a touch events wrapper for (ms)pointer events.                                                         // 7172\n\t// Based on changes by veproza https://github.com/CloudMade/Leaflet/pull/1019                                      // 7173\n\t//ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890                     // 7174\n                                                                                                                    // 7175\n\taddPointerListener: function (obj, type, handler, id) {                                                            // 7176\n                                                                                                                    // 7177\n\t\tswitch (type) {                                                                                                   // 7178\n\t\tcase 'touchstart':                                                                                                // 7179\n\t\t\treturn this.addPointerListenerStart(obj, type, handler, id);                                                     // 7180\n\t\tcase 'touchend':                                                                                                  // 7181\n\t\t\treturn this.addPointerListenerEnd(obj, type, handler, id);                                                       // 7182\n\t\tcase 'touchmove':                                                                                                 // 7183\n\t\t\treturn this.addPointerListenerMove(obj, type, handler, id);                                                      // 7184\n\t\tdefault:                                                                                                          // 7185\n\t\t\tthrow 'Unknown touch event type';                                                                                // 7186\n\t\t}                                                                                                                 // 7187\n\t},                                                                                                                 // 7188\n                                                                                                                    // 7189\n\taddPointerListenerStart: function (obj, type, handler, id) {                                                       // 7190\n\t\tvar pre = '_leaflet_',                                                                                            // 7191\n\t\t    pointers = this._pointers;                                                                                    // 7192\n                                                                                                                    // 7193\n\t\tvar cb = function (e) {                                                                                           // 7194\n                                                                                                                    // 7195\n\t\t\tL.DomEvent.preventDefault(e);                                                                                    // 7196\n                                                                                                                    // 7197\n\t\t\tvar alreadyInArray = false;                                                                                      // 7198\n\t\t\tfor (var i = 0; i < pointers.length; i++) {                                                                      // 7199\n\t\t\t\tif (pointers[i].pointerId === e.pointerId) {                                                                    // 7200\n\t\t\t\t\talreadyInArray = true;                                                                                         // 7201\n\t\t\t\t\tbreak;                                                                                                         // 7202\n\t\t\t\t}                                                                                                               // 7203\n\t\t\t}                                                                                                                // 7204\n\t\t\tif (!alreadyInArray) {                                                                                           // 7205\n\t\t\t\tpointers.push(e);                                                                                               // 7206\n\t\t\t}                                                                                                                // 7207\n                                                                                                                    // 7208\n\t\t\te.touches = pointers.slice();                                                                                    // 7209\n\t\t\te.changedTouches = [e];                                                                                          // 7210\n                                                                                                                    // 7211\n\t\t\thandler(e);                                                                                                      // 7212\n\t\t};                                                                                                                // 7213\n                                                                                                                    // 7214\n\t\tobj[pre + 'touchstart' + id] = cb;                                                                                // 7215\n\t\tobj.addEventListener(this.POINTER_DOWN, cb, false);                                                               // 7216\n                                                                                                                    // 7217\n\t\t// need to also listen for end events to keep the _pointers list accurate                                         // 7218\n\t\t// this needs to be on the body and never go away                                                                 // 7219\n\t\tif (!this._pointerDocumentListener) {                                                                             // 7220\n\t\t\tvar internalCb = function (e) {                                                                                  // 7221\n\t\t\t\tfor (var i = 0; i < pointers.length; i++) {                                                                     // 7222\n\t\t\t\t\tif (pointers[i].pointerId === e.pointerId) {                                                                   // 7223\n\t\t\t\t\t\tpointers.splice(i, 1);                                                                                        // 7224\n\t\t\t\t\t\tbreak;                                                                                                        // 7225\n\t\t\t\t\t}                                                                                                              // 7226\n\t\t\t\t}                                                                                                               // 7227\n\t\t\t};                                                                                                               // 7228\n\t\t\t//We listen on the documentElement as any drags that end by moving the touch off the screen get fired there      // 7229\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_UP, internalCb, false);                                   // 7230\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_CANCEL, internalCb, false);                               // 7231\n                                                                                                                    // 7232\n\t\t\tthis._pointerDocumentListener = true;                                                                            // 7233\n\t\t}                                                                                                                 // 7234\n                                                                                                                    // 7235\n\t\treturn this;                                                                                                      // 7236\n\t},                                                                                                                 // 7237\n                                                                                                                    // 7238\n\taddPointerListenerMove: function (obj, type, handler, id) {                                                        // 7239\n\t\tvar pre = '_leaflet_',                                                                                            // 7240\n\t\t    touches = this._pointers;                                                                                     // 7241\n                                                                                                                    // 7242\n\t\tfunction cb(e) {                                                                                                  // 7243\n                                                                                                                    // 7244\n\t\t\t// don't fire touch moves when mouse isn't down                                                                  // 7245\n\t\t\tif ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }      // 7246\n                                                                                                                    // 7247\n\t\t\tfor (var i = 0; i < touches.length; i++) {                                                                       // 7248\n\t\t\t\tif (touches[i].pointerId === e.pointerId) {                                                                     // 7249\n\t\t\t\t\ttouches[i] = e;                                                                                                // 7250\n\t\t\t\t\tbreak;                                                                                                         // 7251\n\t\t\t\t}                                                                                                               // 7252\n\t\t\t}                                                                                                                // 7253\n                                                                                                                    // 7254\n\t\t\te.touches = touches.slice();                                                                                     // 7255\n\t\t\te.changedTouches = [e];                                                                                          // 7256\n                                                                                                                    // 7257\n\t\t\thandler(e);                                                                                                      // 7258\n\t\t}                                                                                                                 // 7259\n                                                                                                                    // 7260\n\t\tobj[pre + 'touchmove' + id] = cb;                                                                                 // 7261\n\t\tobj.addEventListener(this.POINTER_MOVE, cb, false);                                                               // 7262\n                                                                                                                    // 7263\n\t\treturn this;                                                                                                      // 7264\n\t},                                                                                                                 // 7265\n                                                                                                                    // 7266\n\taddPointerListenerEnd: function (obj, type, handler, id) {                                                         // 7267\n\t\tvar pre = '_leaflet_',                                                                                            // 7268\n\t\t    touches = this._pointers;                                                                                     // 7269\n                                                                                                                    // 7270\n\t\tvar cb = function (e) {                                                                                           // 7271\n\t\t\tfor (var i = 0; i < touches.length; i++) {                                                                       // 7272\n\t\t\t\tif (touches[i].pointerId === e.pointerId) {                                                                     // 7273\n\t\t\t\t\ttouches.splice(i, 1);                                                                                          // 7274\n\t\t\t\t\tbreak;                                                                                                         // 7275\n\t\t\t\t}                                                                                                               // 7276\n\t\t\t}                                                                                                                // 7277\n                                                                                                                    // 7278\n\t\t\te.touches = touches.slice();                                                                                     // 7279\n\t\t\te.changedTouches = [e];                                                                                          // 7280\n                                                                                                                    // 7281\n\t\t\thandler(e);                                                                                                      // 7282\n\t\t};                                                                                                                // 7283\n                                                                                                                    // 7284\n\t\tobj[pre + 'touchend' + id] = cb;                                                                                  // 7285\n\t\tobj.addEventListener(this.POINTER_UP, cb, false);                                                                 // 7286\n\t\tobj.addEventListener(this.POINTER_CANCEL, cb, false);                                                             // 7287\n                                                                                                                    // 7288\n\t\treturn this;                                                                                                      // 7289\n\t},                                                                                                                 // 7290\n                                                                                                                    // 7291\n\tremovePointerListener: function (obj, type, id) {                                                                  // 7292\n\t\tvar pre = '_leaflet_',                                                                                            // 7293\n\t\t    cb = obj[pre + type + id];                                                                                    // 7294\n                                                                                                                    // 7295\n\t\tswitch (type) {                                                                                                   // 7296\n\t\tcase 'touchstart':                                                                                                // 7297\n\t\t\tobj.removeEventListener(this.POINTER_DOWN, cb, false);                                                           // 7298\n\t\t\tbreak;                                                                                                           // 7299\n\t\tcase 'touchmove':                                                                                                 // 7300\n\t\t\tobj.removeEventListener(this.POINTER_MOVE, cb, false);                                                           // 7301\n\t\t\tbreak;                                                                                                           // 7302\n\t\tcase 'touchend':                                                                                                  // 7303\n\t\t\tobj.removeEventListener(this.POINTER_UP, cb, false);                                                             // 7304\n\t\t\tobj.removeEventListener(this.POINTER_CANCEL, cb, false);                                                         // 7305\n\t\t\tbreak;                                                                                                           // 7306\n\t\t}                                                                                                                 // 7307\n                                                                                                                    // 7308\n\t\treturn this;                                                                                                      // 7309\n\t}                                                                                                                  // 7310\n});                                                                                                                 // 7311\n                                                                                                                    // 7312\n                                                                                                                    // 7313\n/*                                                                                                                  // 7314\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.                             // 7315\n */                                                                                                                 // 7316\n                                                                                                                    // 7317\nL.Map.mergeOptions({                                                                                                // 7318\n\ttouchZoom: L.Browser.touch && !L.Browser.android23,                                                                // 7319\n\tbounceAtZoomLimits: true                                                                                           // 7320\n});                                                                                                                 // 7321\n                                                                                                                    // 7322\nL.Map.TouchZoom = L.Handler.extend({                                                                                // 7323\n\taddHooks: function () {                                                                                            // 7324\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);                                      // 7325\n\t},                                                                                                                 // 7326\n                                                                                                                    // 7327\n\tremoveHooks: function () {                                                                                         // 7328\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);                                     // 7329\n\t},                                                                                                                 // 7330\n                                                                                                                    // 7331\n\t_onTouchStart: function (e) {                                                                                      // 7332\n\t\tvar map = this._map;                                                                                              // 7333\n                                                                                                                    // 7334\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }                      // 7335\n                                                                                                                    // 7336\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),                                                                // 7337\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]),                                                                // 7338\n\t\t    viewCenter = map._getCenterLayerPoint();                                                                      // 7339\n                                                                                                                    // 7340\n\t\tthis._startCenter = p1.add(p2)._divideBy(2);                                                                      // 7341\n\t\tthis._startDist = p1.distanceTo(p2);                                                                              // 7342\n                                                                                                                    // 7343\n\t\tthis._moved = false;                                                                                              // 7344\n\t\tthis._zooming = true;                                                                                             // 7345\n                                                                                                                    // 7346\n\t\tthis._centerOffset = viewCenter.subtract(this._startCenter);                                                      // 7347\n                                                                                                                    // 7348\n\t\tif (map._panAnim) {                                                                                               // 7349\n\t\t\tmap._panAnim.stop();                                                                                             // 7350\n\t\t}                                                                                                                 // 7351\n                                                                                                                    // 7352\n\t\tL.DomEvent                                                                                                        // 7353\n\t\t    .on(document, 'touchmove', this._onTouchMove, this)                                                           // 7354\n\t\t    .on(document, 'touchend', this._onTouchEnd, this);                                                            // 7355\n                                                                                                                    // 7356\n\t\tL.DomEvent.preventDefault(e);                                                                                     // 7357\n\t},                                                                                                                 // 7358\n                                                                                                                    // 7359\n\t_onTouchMove: function (e) {                                                                                       // 7360\n\t\tvar map = this._map;                                                                                              // 7361\n                                                                                                                    // 7362\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }                                           // 7363\n                                                                                                                    // 7364\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),                                                                // 7365\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]);                                                                // 7366\n                                                                                                                    // 7367\n\t\tthis._scale = p1.distanceTo(p2) / this._startDist;                                                                // 7368\n\t\tthis._delta = p1._add(p2)._divideBy(2)._subtract(this._startCenter);                                              // 7369\n                                                                                                                    // 7370\n\t\tif (this._scale === 1) { return; }                                                                                // 7371\n                                                                                                                    // 7372\n\t\tif (!map.options.bounceAtZoomLimits) {                                                                            // 7373\n\t\t\tif ((map.getZoom() === map.getMinZoom() && this._scale < 1) ||                                                   // 7374\n\t\t\t    (map.getZoom() === map.getMaxZoom() && this._scale > 1)) { return; }                                         // 7375\n\t\t}                                                                                                                 // 7376\n                                                                                                                    // 7377\n\t\tif (!this._moved) {                                                                                               // 7378\n\t\t\tL.DomUtil.addClass(map._mapPane, 'leaflet-touching');                                                            // 7379\n                                                                                                                    // 7380\n\t\t\tmap                                                                                                              // 7381\n\t\t\t    .fire('movestart')                                                                                           // 7382\n\t\t\t    .fire('zoomstart');                                                                                          // 7383\n                                                                                                                    // 7384\n\t\t\tthis._moved = true;                                                                                              // 7385\n\t\t}                                                                                                                 // 7386\n                                                                                                                    // 7387\n\t\tL.Util.cancelAnimFrame(this._animRequest);                                                                        // 7388\n\t\tthis._animRequest = L.Util.requestAnimFrame(                                                                      // 7389\n\t\t        this._updateOnMove, this, true, this._map._container);                                                    // 7390\n                                                                                                                    // 7391\n\t\tL.DomEvent.preventDefault(e);                                                                                     // 7392\n\t},                                                                                                                 // 7393\n                                                                                                                    // 7394\n\t_updateOnMove: function () {                                                                                       // 7395\n\t\tvar map = this._map,                                                                                              // 7396\n\t\t    origin = this._getScaleOrigin(),                                                                              // 7397\n\t\t    center = map.layerPointToLatLng(origin),                                                                      // 7398\n\t\t    zoom = map.getScaleZoom(this._scale);                                                                         // 7399\n                                                                                                                    // 7400\n\t\tmap._animateZoom(center, zoom, this._startCenter, this._scale, this._delta, false, true);                         // 7401\n\t},                                                                                                                 // 7402\n                                                                                                                    // 7403\n\t_onTouchEnd: function () {                                                                                         // 7404\n\t\tif (!this._moved || !this._zooming) {                                                                             // 7405\n\t\t\tthis._zooming = false;                                                                                           // 7406\n\t\t\treturn;                                                                                                          // 7407\n\t\t}                                                                                                                 // 7408\n                                                                                                                    // 7409\n\t\tvar map = this._map;                                                                                              // 7410\n                                                                                                                    // 7411\n\t\tthis._zooming = false;                                                                                            // 7412\n\t\tL.DomUtil.removeClass(map._mapPane, 'leaflet-touching');                                                          // 7413\n\t\tL.Util.cancelAnimFrame(this._animRequest);                                                                        // 7414\n                                                                                                                    // 7415\n\t\tL.DomEvent                                                                                                        // 7416\n\t\t    .off(document, 'touchmove', this._onTouchMove)                                                                // 7417\n\t\t    .off(document, 'touchend', this._onTouchEnd);                                                                 // 7418\n                                                                                                                    // 7419\n\t\tvar origin = this._getScaleOrigin(),                                                                              // 7420\n\t\t    center = map.layerPointToLatLng(origin),                                                                      // 7421\n                                                                                                                    // 7422\n\t\t    oldZoom = map.getZoom(),                                                                                      // 7423\n\t\t    floatZoomDelta = map.getScaleZoom(this._scale) - oldZoom,                                                     // 7424\n\t\t    roundZoomDelta = (floatZoomDelta > 0 ?                                                                        // 7425\n\t\t            Math.ceil(floatZoomDelta) : Math.floor(floatZoomDelta)),                                              // 7426\n                                                                                                                    // 7427\n\t\t    zoom = map._limitZoom(oldZoom + roundZoomDelta),                                                              // 7428\n\t\t    scale = map.getZoomScale(zoom) / this._scale;                                                                 // 7429\n                                                                                                                    // 7430\n\t\tmap._animateZoom(center, zoom, origin, scale);                                                                    // 7431\n\t},                                                                                                                 // 7432\n                                                                                                                    // 7433\n\t_getScaleOrigin: function () {                                                                                     // 7434\n\t\tvar centerOffset = this._centerOffset.subtract(this._delta).divideBy(this._scale);                                // 7435\n\t\treturn this._startCenter.add(centerOffset);                                                                       // 7436\n\t}                                                                                                                  // 7437\n});                                                                                                                 // 7438\n                                                                                                                    // 7439\nL.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);                                                      // 7440\n                                                                                                                    // 7441\n                                                                                                                    // 7442\n/*                                                                                                                  // 7443\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.                                          // 7444\n */                                                                                                                 // 7445\n                                                                                                                    // 7446\nL.Map.mergeOptions({                                                                                                // 7447\n\ttap: true,                                                                                                         // 7448\n\ttapTolerance: 15                                                                                                   // 7449\n});                                                                                                                 // 7450\n                                                                                                                    // 7451\nL.Map.Tap = L.Handler.extend({                                                                                      // 7452\n\taddHooks: function () {                                                                                            // 7453\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);                                            // 7454\n\t},                                                                                                                 // 7455\n                                                                                                                    // 7456\n\tremoveHooks: function () {                                                                                         // 7457\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);                                           // 7458\n\t},                                                                                                                 // 7459\n                                                                                                                    // 7460\n\t_onDown: function (e) {                                                                                            // 7461\n\t\tif (!e.touches) { return; }                                                                                       // 7462\n                                                                                                                    // 7463\n\t\tL.DomEvent.preventDefault(e);                                                                                     // 7464\n                                                                                                                    // 7465\n\t\tthis._fireClick = true;                                                                                           // 7466\n                                                                                                                    // 7467\n\t\t// don't simulate click or track longpress if more than 1 touch                                                   // 7468\n\t\tif (e.touches.length > 1) {                                                                                       // 7469\n\t\t\tthis._fireClick = false;                                                                                         // 7470\n\t\t\tclearTimeout(this._holdTimeout);                                                                                 // 7471\n\t\t\treturn;                                                                                                          // 7472\n\t\t}                                                                                                                 // 7473\n                                                                                                                    // 7474\n\t\tvar first = e.touches[0],                                                                                         // 7475\n\t\t    el = first.target;                                                                                            // 7476\n                                                                                                                    // 7477\n\t\tthis._startPos = this._newPos = new L.Point(first.clientX, first.clientY);                                        // 7478\n                                                                                                                    // 7479\n\t\t// if touching a link, highlight it                                                                               // 7480\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {                                                             // 7481\n\t\t\tL.DomUtil.addClass(el, 'leaflet-active');                                                                        // 7482\n\t\t}                                                                                                                 // 7483\n                                                                                                                    // 7484\n\t\t// simulate long hold but setting a timeout                                                                       // 7485\n\t\tthis._holdTimeout = setTimeout(L.bind(function () {                                                               // 7486\n\t\t\tif (this._isTapValid()) {                                                                                        // 7487\n\t\t\t\tthis._fireClick = false;                                                                                        // 7488\n\t\t\t\tthis._onUp();                                                                                                   // 7489\n\t\t\t\tthis._simulateEvent('contextmenu', first);                                                                      // 7490\n\t\t\t}                                                                                                                // 7491\n\t\t}, this), 1000);                                                                                                  // 7492\n                                                                                                                    // 7493\n\t\tL.DomEvent                                                                                                        // 7494\n\t\t\t.on(document, 'touchmove', this._onMove, this)                                                                   // 7495\n\t\t\t.on(document, 'touchend', this._onUp, this);                                                                     // 7496\n\t},                                                                                                                 // 7497\n                                                                                                                    // 7498\n\t_onUp: function (e) {                                                                                              // 7499\n\t\tclearTimeout(this._holdTimeout);                                                                                  // 7500\n                                                                                                                    // 7501\n\t\tL.DomEvent                                                                                                        // 7502\n\t\t\t.off(document, 'touchmove', this._onMove, this)                                                                  // 7503\n\t\t\t.off(document, 'touchend', this._onUp, this);                                                                    // 7504\n                                                                                                                    // 7505\n\t\tif (this._fireClick && e && e.changedTouches) {                                                                   // 7506\n                                                                                                                    // 7507\n\t\t\tvar first = e.changedTouches[0],                                                                                 // 7508\n\t\t\t    el = first.target;                                                                                           // 7509\n                                                                                                                    // 7510\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {                                                      // 7511\n\t\t\t\tL.DomUtil.removeClass(el, 'leaflet-active');                                                                    // 7512\n\t\t\t}                                                                                                                // 7513\n                                                                                                                    // 7514\n\t\t\t// simulate click if the touch didn't move too much                                                              // 7515\n\t\t\tif (this._isTapValid()) {                                                                                        // 7516\n\t\t\t\tthis._simulateEvent('click', first);                                                                            // 7517\n\t\t\t}                                                                                                                // 7518\n\t\t}                                                                                                                 // 7519\n\t},                                                                                                                 // 7520\n                                                                                                                    // 7521\n\t_isTapValid: function () {                                                                                         // 7522\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;                                 // 7523\n\t},                                                                                                                 // 7524\n                                                                                                                    // 7525\n\t_onMove: function (e) {                                                                                            // 7526\n\t\tvar first = e.touches[0];                                                                                         // 7527\n\t\tthis._newPos = new L.Point(first.clientX, first.clientY);                                                         // 7528\n\t},                                                                                                                 // 7529\n                                                                                                                    // 7530\n\t_simulateEvent: function (type, e) {                                                                               // 7531\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');                                                         // 7532\n                                                                                                                    // 7533\n\t\tsimulatedEvent._simulated = true;                                                                                 // 7534\n\t\te.target._simulatedClick = true;                                                                                  // 7535\n                                                                                                                    // 7536\n\t\tsimulatedEvent.initMouseEvent(                                                                                    // 7537\n\t\t        type, true, true, window, 1,                                                                              // 7538\n\t\t        e.screenX, e.screenY,                                                                                     // 7539\n\t\t        e.clientX, e.clientY,                                                                                     // 7540\n\t\t        false, false, false, false, 0, null);                                                                     // 7541\n                                                                                                                    // 7542\n\t\te.target.dispatchEvent(simulatedEvent);                                                                           // 7543\n\t}                                                                                                                  // 7544\n});                                                                                                                 // 7545\n                                                                                                                    // 7546\nif (L.Browser.touch && !L.Browser.pointer) {                                                                        // 7547\n\tL.Map.addInitHook('addHandler', 'tap', L.Map.Tap);                                                                 // 7548\n}                                                                                                                   // 7549\n                                                                                                                    // 7550\n                                                                                                                    // 7551\n/*                                                                                                                  // 7552\n * L.Handler.ShiftDragZoom is used to add shift-drag zoom interaction to the map                                    // 7553\n  * (zoom to a selected bounding box), enabled by default.                                                          // 7554\n */                                                                                                                 // 7555\n                                                                                                                    // 7556\nL.Map.mergeOptions({                                                                                                // 7557\n\tboxZoom: true                                                                                                      // 7558\n});                                                                                                                 // 7559\n                                                                                                                    // 7560\nL.Map.BoxZoom = L.Handler.extend({                                                                                  // 7561\n\tinitialize: function (map) {                                                                                       // 7562\n\t\tthis._map = map;                                                                                                  // 7563\n\t\tthis._container = map._container;                                                                                 // 7564\n\t\tthis._pane = map._panes.overlayPane;                                                                              // 7565\n\t\tthis._moved = false;                                                                                              // 7566\n\t},                                                                                                                 // 7567\n                                                                                                                    // 7568\n\taddHooks: function () {                                                                                            // 7569\n\t\tL.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);                                             // 7570\n\t},                                                                                                                 // 7571\n                                                                                                                    // 7572\n\tremoveHooks: function () {                                                                                         // 7573\n\t\tL.DomEvent.off(this._container, 'mousedown', this._onMouseDown);                                                  // 7574\n\t\tthis._moved = false;                                                                                              // 7575\n\t},                                                                                                                 // 7576\n                                                                                                                    // 7577\n\tmoved: function () {                                                                                               // 7578\n\t\treturn this._moved;                                                                                               // 7579\n\t},                                                                                                                 // 7580\n                                                                                                                    // 7581\n\t_onMouseDown: function (e) {                                                                                       // 7582\n\t\tthis._moved = false;                                                                                              // 7583\n                                                                                                                    // 7584\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }                                       // 7585\n                                                                                                                    // 7586\n\t\tL.DomUtil.disableTextSelection();                                                                                 // 7587\n\t\tL.DomUtil.disableImageDrag();                                                                                     // 7588\n                                                                                                                    // 7589\n\t\tthis._startLayerPoint = this._map.mouseEventToLayerPoint(e);                                                      // 7590\n                                                                                                                    // 7591\n\t\tL.DomEvent                                                                                                        // 7592\n\t\t    .on(document, 'mousemove', this._onMouseMove, this)                                                           // 7593\n\t\t    .on(document, 'mouseup', this._onMouseUp, this)                                                               // 7594\n\t\t    .on(document, 'keydown', this._onKeyDown, this);                                                              // 7595\n\t},                                                                                                                 // 7596\n                                                                                                                    // 7597\n\t_onMouseMove: function (e) {                                                                                       // 7598\n\t\tif (!this._moved) {                                                                                               // 7599\n\t\t\tthis._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._pane);                                             // 7600\n\t\t\tL.DomUtil.setPosition(this._box, this._startLayerPoint);                                                         // 7601\n                                                                                                                    // 7602\n\t\t\t//TODO refactor: move cursor to styles                                                                           // 7603\n\t\t\tthis._container.style.cursor = 'crosshair';                                                                      // 7604\n\t\t\tthis._map.fire('boxzoomstart');                                                                                  // 7605\n\t\t}                                                                                                                 // 7606\n                                                                                                                    // 7607\n\t\tvar startPoint = this._startLayerPoint,                                                                           // 7608\n\t\t    box = this._box,                                                                                              // 7609\n                                                                                                                    // 7610\n\t\t    layerPoint = this._map.mouseEventToLayerPoint(e),                                                             // 7611\n\t\t    offset = layerPoint.subtract(startPoint),                                                                     // 7612\n                                                                                                                    // 7613\n\t\t    newPos = new L.Point(                                                                                         // 7614\n\t\t        Math.min(layerPoint.x, startPoint.x),                                                                     // 7615\n\t\t        Math.min(layerPoint.y, startPoint.y));                                                                    // 7616\n                                                                                                                    // 7617\n\t\tL.DomUtil.setPosition(box, newPos);                                                                               // 7618\n                                                                                                                    // 7619\n\t\tthis._moved = true;                                                                                               // 7620\n                                                                                                                    // 7621\n\t\t// TODO refactor: remove hardcoded 4 pixels                                                                       // 7622\n\t\tbox.style.width  = (Math.max(0, Math.abs(offset.x) - 4)) + 'px';                                                  // 7623\n\t\tbox.style.height = (Math.max(0, Math.abs(offset.y) - 4)) + 'px';                                                  // 7624\n\t},                                                                                                                 // 7625\n                                                                                                                    // 7626\n\t_finish: function () {                                                                                             // 7627\n\t\tif (this._moved) {                                                                                                // 7628\n\t\t\tthis._pane.removeChild(this._box);                                                                               // 7629\n\t\t\tthis._container.style.cursor = '';                                                                               // 7630\n\t\t}                                                                                                                 // 7631\n                                                                                                                    // 7632\n\t\tL.DomUtil.enableTextSelection();                                                                                  // 7633\n\t\tL.DomUtil.enableImageDrag();                                                                                      // 7634\n                                                                                                                    // 7635\n\t\tL.DomEvent                                                                                                        // 7636\n\t\t    .off(document, 'mousemove', this._onMouseMove)                                                                // 7637\n\t\t    .off(document, 'mouseup', this._onMouseUp)                                                                    // 7638\n\t\t    .off(document, 'keydown', this._onKeyDown);                                                                   // 7639\n\t},                                                                                                                 // 7640\n                                                                                                                    // 7641\n\t_onMouseUp: function (e) {                                                                                         // 7642\n                                                                                                                    // 7643\n\t\tthis._finish();                                                                                                   // 7644\n                                                                                                                    // 7645\n\t\tvar map = this._map,                                                                                              // 7646\n\t\t    layerPoint = map.mouseEventToLayerPoint(e);                                                                   // 7647\n                                                                                                                    // 7648\n\t\tif (this._startLayerPoint.equals(layerPoint)) { return; }                                                         // 7649\n                                                                                                                    // 7650\n\t\tvar bounds = new L.LatLngBounds(                                                                                  // 7651\n\t\t        map.layerPointToLatLng(this._startLayerPoint),                                                            // 7652\n\t\t        map.layerPointToLatLng(layerPoint));                                                                      // 7653\n                                                                                                                    // 7654\n\t\tmap.fitBounds(bounds);                                                                                            // 7655\n                                                                                                                    // 7656\n\t\tmap.fire('boxzoomend', {                                                                                          // 7657\n\t\t\tboxZoomBounds: bounds                                                                                            // 7658\n\t\t});                                                                                                               // 7659\n\t},                                                                                                                 // 7660\n                                                                                                                    // 7661\n\t_onKeyDown: function (e) {                                                                                         // 7662\n\t\tif (e.keyCode === 27) {                                                                                           // 7663\n\t\t\tthis._finish();                                                                                                  // 7664\n\t\t}                                                                                                                 // 7665\n\t}                                                                                                                  // 7666\n});                                                                                                                 // 7667\n                                                                                                                    // 7668\nL.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);                                                          // 7669\n                                                                                                                    // 7670\n                                                                                                                    // 7671\n/*                                                                                                                  // 7672\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.                                // 7673\n */                                                                                                                 // 7674\n                                                                                                                    // 7675\nL.Map.mergeOptions({                                                                                                // 7676\n\tkeyboard: true,                                                                                                    // 7677\n\tkeyboardPanOffset: 80,                                                                                             // 7678\n\tkeyboardZoomOffset: 1                                                                                              // 7679\n});                                                                                                                 // 7680\n                                                                                                                    // 7681\nL.Map.Keyboard = L.Handler.extend({                                                                                 // 7682\n                                                                                                                    // 7683\n\tkeyCodes: {                                                                                                        // 7684\n\t\tleft:    [37],                                                                                                    // 7685\n\t\tright:   [39],                                                                                                    // 7686\n\t\tdown:    [40],                                                                                                    // 7687\n\t\tup:      [38],                                                                                                    // 7688\n\t\tzoomIn:  [187, 107, 61, 171],                                                                                     // 7689\n\t\tzoomOut: [189, 109, 173]                                                                                          // 7690\n\t},                                                                                                                 // 7691\n                                                                                                                    // 7692\n\tinitialize: function (map) {                                                                                       // 7693\n\t\tthis._map = map;                                                                                                  // 7694\n                                                                                                                    // 7695\n\t\tthis._setPanOffset(map.options.keyboardPanOffset);                                                                // 7696\n\t\tthis._setZoomOffset(map.options.keyboardZoomOffset);                                                              // 7697\n\t},                                                                                                                 // 7698\n                                                                                                                    // 7699\n\taddHooks: function () {                                                                                            // 7700\n\t\tvar container = this._map._container;                                                                             // 7701\n                                                                                                                    // 7702\n\t\t// make the container focusable by tabbing                                                                        // 7703\n\t\tif (container.tabIndex === -1) {                                                                                  // 7704\n\t\t\tcontainer.tabIndex = '0';                                                                                        // 7705\n\t\t}                                                                                                                 // 7706\n                                                                                                                    // 7707\n\t\tL.DomEvent                                                                                                        // 7708\n\t\t    .on(container, 'focus', this._onFocus, this)                                                                  // 7709\n\t\t    .on(container, 'blur', this._onBlur, this)                                                                    // 7710\n\t\t    .on(container, 'mousedown', this._onMouseDown, this);                                                         // 7711\n                                                                                                                    // 7712\n\t\tthis._map                                                                                                         // 7713\n\t\t    .on('focus', this._addHooks, this)                                                                            // 7714\n\t\t    .on('blur', this._removeHooks, this);                                                                         // 7715\n\t},                                                                                                                 // 7716\n                                                                                                                    // 7717\n\tremoveHooks: function () {                                                                                         // 7718\n\t\tthis._removeHooks();                                                                                              // 7719\n                                                                                                                    // 7720\n\t\tvar container = this._map._container;                                                                             // 7721\n                                                                                                                    // 7722\n\t\tL.DomEvent                                                                                                        // 7723\n\t\t    .off(container, 'focus', this._onFocus, this)                                                                 // 7724\n\t\t    .off(container, 'blur', this._onBlur, this)                                                                   // 7725\n\t\t    .off(container, 'mousedown', this._onMouseDown, this);                                                        // 7726\n                                                                                                                    // 7727\n\t\tthis._map                                                                                                         // 7728\n\t\t    .off('focus', this._addHooks, this)                                                                           // 7729\n\t\t    .off('blur', this._removeHooks, this);                                                                        // 7730\n\t},                                                                                                                 // 7731\n                                                                                                                    // 7732\n\t_onMouseDown: function () {                                                                                        // 7733\n\t\tif (this._focused) { return; }                                                                                    // 7734\n                                                                                                                    // 7735\n\t\tvar body = document.body,                                                                                         // 7736\n\t\t    docEl = document.documentElement,                                                                             // 7737\n\t\t    top = body.scrollTop || docEl.scrollTop,                                                                      // 7738\n\t\t    left = body.scrollLeft || docEl.scrollLeft;                                                                   // 7739\n                                                                                                                    // 7740\n\t\tthis._map._container.focus();                                                                                     // 7741\n                                                                                                                    // 7742\n\t\twindow.scrollTo(left, top);                                                                                       // 7743\n\t},                                                                                                                 // 7744\n                                                                                                                    // 7745\n\t_onFocus: function () {                                                                                            // 7746\n\t\tthis._focused = true;                                                                                             // 7747\n\t\tthis._map.fire('focus');                                                                                          // 7748\n\t},                                                                                                                 // 7749\n                                                                                                                    // 7750\n\t_onBlur: function () {                                                                                             // 7751\n\t\tthis._focused = false;                                                                                            // 7752\n\t\tthis._map.fire('blur');                                                                                           // 7753\n\t},                                                                                                                 // 7754\n                                                                                                                    // 7755\n\t_setPanOffset: function (pan) {                                                                                    // 7756\n\t\tvar keys = this._panKeys = {},                                                                                    // 7757\n\t\t    codes = this.keyCodes,                                                                                        // 7758\n\t\t    i, len;                                                                                                       // 7759\n                                                                                                                    // 7760\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {                                                              // 7761\n\t\t\tkeys[codes.left[i]] = [-1 * pan, 0];                                                                             // 7762\n\t\t}                                                                                                                 // 7763\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {                                                             // 7764\n\t\t\tkeys[codes.right[i]] = [pan, 0];                                                                                 // 7765\n\t\t}                                                                                                                 // 7766\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {                                                              // 7767\n\t\t\tkeys[codes.down[i]] = [0, pan];                                                                                  // 7768\n\t\t}                                                                                                                 // 7769\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {                                                                // 7770\n\t\t\tkeys[codes.up[i]] = [0, -1 * pan];                                                                               // 7771\n\t\t}                                                                                                                 // 7772\n\t},                                                                                                                 // 7773\n                                                                                                                    // 7774\n\t_setZoomOffset: function (zoom) {                                                                                  // 7775\n\t\tvar keys = this._zoomKeys = {},                                                                                   // 7776\n\t\t    codes = this.keyCodes,                                                                                        // 7777\n\t\t    i, len;                                                                                                       // 7778\n                                                                                                                    // 7779\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {                                                            // 7780\n\t\t\tkeys[codes.zoomIn[i]] = zoom;                                                                                    // 7781\n\t\t}                                                                                                                 // 7782\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {                                                           // 7783\n\t\t\tkeys[codes.zoomOut[i]] = -zoom;                                                                                  // 7784\n\t\t}                                                                                                                 // 7785\n\t},                                                                                                                 // 7786\n                                                                                                                    // 7787\n\t_addHooks: function () {                                                                                           // 7788\n\t\tL.DomEvent.on(document, 'keydown', this._onKeyDown, this);                                                        // 7789\n\t},                                                                                                                 // 7790\n                                                                                                                    // 7791\n\t_removeHooks: function () {                                                                                        // 7792\n\t\tL.DomEvent.off(document, 'keydown', this._onKeyDown, this);                                                       // 7793\n\t},                                                                                                                 // 7794\n                                                                                                                    // 7795\n\t_onKeyDown: function (e) {                                                                                         // 7796\n\t\tvar key = e.keyCode,                                                                                              // 7797\n\t\t    map = this._map;                                                                                              // 7798\n                                                                                                                    // 7799\n\t\tif (key in this._panKeys) {                                                                                       // 7800\n                                                                                                                    // 7801\n\t\t\tif (map._panAnim && map._panAnim._inProgress) { return; }                                                        // 7802\n                                                                                                                    // 7803\n\t\t\tmap.panBy(this._panKeys[key]);                                                                                   // 7804\n                                                                                                                    // 7805\n\t\t\tif (map.options.maxBounds) {                                                                                     // 7806\n\t\t\t\tmap.panInsideBounds(map.options.maxBounds);                                                                     // 7807\n\t\t\t}                                                                                                                // 7808\n                                                                                                                    // 7809\n\t\t} else if (key in this._zoomKeys) {                                                                               // 7810\n\t\t\tmap.setZoom(map.getZoom() + this._zoomKeys[key]);                                                                // 7811\n                                                                                                                    // 7812\n\t\t} else {                                                                                                          // 7813\n\t\t\treturn;                                                                                                          // 7814\n\t\t}                                                                                                                 // 7815\n                                                                                                                    // 7816\n\t\tL.DomEvent.stop(e);                                                                                               // 7817\n\t}                                                                                                                  // 7818\n});                                                                                                                 // 7819\n                                                                                                                    // 7820\nL.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);                                                        // 7821\n                                                                                                                    // 7822\n                                                                                                                    // 7823\n/*                                                                                                                  // 7824\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.                               // 7825\n */                                                                                                                 // 7826\n                                                                                                                    // 7827\nL.Handler.MarkerDrag = L.Handler.extend({                                                                           // 7828\n\tinitialize: function (marker) {                                                                                    // 7829\n\t\tthis._marker = marker;                                                                                            // 7830\n\t},                                                                                                                 // 7831\n                                                                                                                    // 7832\n\taddHooks: function () {                                                                                            // 7833\n\t\tvar icon = this._marker._icon;                                                                                    // 7834\n\t\tif (!this._draggable) {                                                                                           // 7835\n\t\t\tthis._draggable = new L.Draggable(icon, icon);                                                                   // 7836\n\t\t}                                                                                                                 // 7837\n                                                                                                                    // 7838\n\t\tthis._draggable                                                                                                   // 7839\n\t\t\t.on('dragstart', this._onDragStart, this)                                                                        // 7840\n\t\t\t.on('drag', this._onDrag, this)                                                                                  // 7841\n\t\t\t.on('dragend', this._onDragEnd, this);                                                                           // 7842\n\t\tthis._draggable.enable();                                                                                         // 7843\n\t\tL.DomUtil.addClass(this._marker._icon, 'leaflet-marker-draggable');                                               // 7844\n\t},                                                                                                                 // 7845\n                                                                                                                    // 7846\n\tremoveHooks: function () {                                                                                         // 7847\n\t\tthis._draggable                                                                                                   // 7848\n\t\t\t.off('dragstart', this._onDragStart, this)                                                                       // 7849\n\t\t\t.off('drag', this._onDrag, this)                                                                                 // 7850\n\t\t\t.off('dragend', this._onDragEnd, this);                                                                          // 7851\n                                                                                                                    // 7852\n\t\tthis._draggable.disable();                                                                                        // 7853\n\t\tL.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');                                            // 7854\n\t},                                                                                                                 // 7855\n                                                                                                                    // 7856\n\tmoved: function () {                                                                                               // 7857\n\t\treturn this._draggable && this._draggable._moved;                                                                 // 7858\n\t},                                                                                                                 // 7859\n                                                                                                                    // 7860\n\t_onDragStart: function () {                                                                                        // 7861\n\t\tthis._marker                                                                                                      // 7862\n\t\t    .closePopup()                                                                                                 // 7863\n\t\t    .fire('movestart')                                                                                            // 7864\n\t\t    .fire('dragstart');                                                                                           // 7865\n\t},                                                                                                                 // 7866\n                                                                                                                    // 7867\n\t_onDrag: function () {                                                                                             // 7868\n\t\tvar marker = this._marker,                                                                                        // 7869\n\t\t    shadow = marker._shadow,                                                                                      // 7870\n\t\t    iconPos = L.DomUtil.getPosition(marker._icon),                                                                // 7871\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);                                                             // 7872\n                                                                                                                    // 7873\n\t\t// update shadow position                                                                                         // 7874\n\t\tif (shadow) {                                                                                                     // 7875\n\t\t\tL.DomUtil.setPosition(shadow, iconPos);                                                                          // 7876\n\t\t}                                                                                                                 // 7877\n                                                                                                                    // 7878\n\t\tmarker._latlng = latlng;                                                                                          // 7879\n                                                                                                                    // 7880\n\t\tmarker                                                                                                            // 7881\n\t\t    .fire('move', {latlng: latlng})                                                                               // 7882\n\t\t    .fire('drag');                                                                                                // 7883\n\t},                                                                                                                 // 7884\n                                                                                                                    // 7885\n\t_onDragEnd: function (e) {                                                                                         // 7886\n\t\tthis._marker                                                                                                      // 7887\n\t\t    .fire('moveend')                                                                                              // 7888\n\t\t    .fire('dragend', e);                                                                                          // 7889\n\t}                                                                                                                  // 7890\n});                                                                                                                 // 7891\n                                                                                                                    // 7892\n                                                                                                                    // 7893\n/*                                                                                                                  // 7894\n * L.Control is a base class for implementing map controls. Handles positioning.                                    // 7895\n * All other controls extend from this class.                                                                       // 7896\n */                                                                                                                 // 7897\n                                                                                                                    // 7898\nL.Control = L.Class.extend({                                                                                        // 7899\n\toptions: {                                                                                                         // 7900\n\t\tposition: 'topright'                                                                                              // 7901\n\t},                                                                                                                 // 7902\n                                                                                                                    // 7903\n\tinitialize: function (options) {                                                                                   // 7904\n\t\tL.setOptions(this, options);                                                                                      // 7905\n\t},                                                                                                                 // 7906\n                                                                                                                    // 7907\n\tgetPosition: function () {                                                                                         // 7908\n\t\treturn this.options.position;                                                                                     // 7909\n\t},                                                                                                                 // 7910\n                                                                                                                    // 7911\n\tsetPosition: function (position) {                                                                                 // 7912\n\t\tvar map = this._map;                                                                                              // 7913\n                                                                                                                    // 7914\n\t\tif (map) {                                                                                                        // 7915\n\t\t\tmap.removeControl(this);                                                                                         // 7916\n\t\t}                                                                                                                 // 7917\n                                                                                                                    // 7918\n\t\tthis.options.position = position;                                                                                 // 7919\n                                                                                                                    // 7920\n\t\tif (map) {                                                                                                        // 7921\n\t\t\tmap.addControl(this);                                                                                            // 7922\n\t\t}                                                                                                                 // 7923\n                                                                                                                    // 7924\n\t\treturn this;                                                                                                      // 7925\n\t},                                                                                                                 // 7926\n                                                                                                                    // 7927\n\tgetContainer: function () {                                                                                        // 7928\n\t\treturn this._container;                                                                                           // 7929\n\t},                                                                                                                 // 7930\n                                                                                                                    // 7931\n\taddTo: function (map) {                                                                                            // 7932\n\t\tthis._map = map;                                                                                                  // 7933\n                                                                                                                    // 7934\n\t\tvar container = this._container = this.onAdd(map),                                                                // 7935\n\t\t    pos = this.getPosition(),                                                                                     // 7936\n\t\t    corner = map._controlCorners[pos];                                                                            // 7937\n                                                                                                                    // 7938\n\t\tL.DomUtil.addClass(container, 'leaflet-control');                                                                 // 7939\n                                                                                                                    // 7940\n\t\tif (pos.indexOf('bottom') !== -1) {                                                                               // 7941\n\t\t\tcorner.insertBefore(container, corner.firstChild);                                                               // 7942\n\t\t} else {                                                                                                          // 7943\n\t\t\tcorner.appendChild(container);                                                                                   // 7944\n\t\t}                                                                                                                 // 7945\n                                                                                                                    // 7946\n\t\treturn this;                                                                                                      // 7947\n\t},                                                                                                                 // 7948\n                                                                                                                    // 7949\n\tremoveFrom: function (map) {                                                                                       // 7950\n\t\tvar pos = this.getPosition(),                                                                                     // 7951\n\t\t    corner = map._controlCorners[pos];                                                                            // 7952\n                                                                                                                    // 7953\n\t\tcorner.removeChild(this._container);                                                                              // 7954\n\t\tthis._map = null;                                                                                                 // 7955\n                                                                                                                    // 7956\n\t\tif (this.onRemove) {                                                                                              // 7957\n\t\t\tthis.onRemove(map);                                                                                              // 7958\n\t\t}                                                                                                                 // 7959\n                                                                                                                    // 7960\n\t\treturn this;                                                                                                      // 7961\n\t},                                                                                                                 // 7962\n                                                                                                                    // 7963\n\t_refocusOnMap: function () {                                                                                       // 7964\n\t\tif (this._map) {                                                                                                  // 7965\n\t\t\tthis._map.getContainer().focus();                                                                                // 7966\n\t\t}                                                                                                                 // 7967\n\t}                                                                                                                  // 7968\n});                                                                                                                 // 7969\n                                                                                                                    // 7970\nL.control = function (options) {                                                                                    // 7971\n\treturn new L.Control(options);                                                                                     // 7972\n};                                                                                                                  // 7973\n                                                                                                                    // 7974\n                                                                                                                    // 7975\n// adds control-related methods to L.Map                                                                            // 7976\n                                                                                                                    // 7977\nL.Map.include({                                                                                                     // 7978\n\taddControl: function (control) {                                                                                   // 7979\n\t\tcontrol.addTo(this);                                                                                              // 7980\n\t\treturn this;                                                                                                      // 7981\n\t},                                                                                                                 // 7982\n                                                                                                                    // 7983\n\tremoveControl: function (control) {                                                                                // 7984\n\t\tcontrol.removeFrom(this);                                                                                         // 7985\n\t\treturn this;                                                                                                      // 7986\n\t},                                                                                                                 // 7987\n                                                                                                                    // 7988\n\t_initControlPos: function () {                                                                                     // 7989\n\t\tvar corners = this._controlCorners = {},                                                                          // 7990\n\t\t    l = 'leaflet-',                                                                                               // 7991\n\t\t    container = this._controlContainer =                                                                          // 7992\n\t\t            L.DomUtil.create('div', l + 'control-container', this._container);                                    // 7993\n                                                                                                                    // 7994\n\t\tfunction createCorner(vSide, hSide) {                                                                             // 7995\n\t\t\tvar className = l + vSide + ' ' + l + hSide;                                                                     // 7996\n                                                                                                                    // 7997\n\t\t\tcorners[vSide + hSide] = L.DomUtil.create('div', className, container);                                          // 7998\n\t\t}                                                                                                                 // 7999\n                                                                                                                    // 8000\n\t\tcreateCorner('top', 'left');                                                                                      // 8001\n\t\tcreateCorner('top', 'right');                                                                                     // 8002\n\t\tcreateCorner('bottom', 'left');                                                                                   // 8003\n\t\tcreateCorner('bottom', 'right');                                                                                  // 8004\n\t},                                                                                                                 // 8005\n                                                                                                                    // 8006\n\t_clearControlPos: function () {                                                                                    // 8007\n\t\tthis._container.removeChild(this._controlContainer);                                                              // 8008\n\t}                                                                                                                  // 8009\n});                                                                                                                 // 8010\n                                                                                                                    // 8011\n                                                                                                                    // 8012\n/*                                                                                                                  // 8013\n * L.Control.Zoom is used for the default zoom buttons on the map.                                                  // 8014\n */                                                                                                                 // 8015\n                                                                                                                    // 8016\nL.Control.Zoom = L.Control.extend({                                                                                 // 8017\n\toptions: {                                                                                                         // 8018\n\t\tposition: 'topleft',                                                                                              // 8019\n\t\tzoomInText: '+',                                                                                                  // 8020\n\t\tzoomInTitle: 'Zoom in',                                                                                           // 8021\n\t\tzoomOutText: '-',                                                                                                 // 8022\n\t\tzoomOutTitle: 'Zoom out'                                                                                          // 8023\n\t},                                                                                                                 // 8024\n                                                                                                                    // 8025\n\tonAdd: function (map) {                                                                                            // 8026\n\t\tvar zoomName = 'leaflet-control-zoom',                                                                            // 8027\n\t\t    container = L.DomUtil.create('div', zoomName + ' leaflet-bar');                                               // 8028\n                                                                                                                    // 8029\n\t\tthis._map = map;                                                                                                  // 8030\n                                                                                                                    // 8031\n\t\tthis._zoomInButton  = this._createButton(                                                                         // 8032\n\t\t        this.options.zoomInText, this.options.zoomInTitle,                                                        // 8033\n\t\t        zoomName + '-in',  container, this._zoomIn,  this);                                                       // 8034\n\t\tthis._zoomOutButton = this._createButton(                                                                         // 8035\n\t\t        this.options.zoomOutText, this.options.zoomOutTitle,                                                      // 8036\n\t\t        zoomName + '-out', container, this._zoomOut, this);                                                       // 8037\n                                                                                                                    // 8038\n\t\tthis._updateDisabled();                                                                                           // 8039\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);                                                   // 8040\n                                                                                                                    // 8041\n\t\treturn container;                                                                                                 // 8042\n\t},                                                                                                                 // 8043\n                                                                                                                    // 8044\n\tonRemove: function (map) {                                                                                         // 8045\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);                                                  // 8046\n\t},                                                                                                                 // 8047\n                                                                                                                    // 8048\n\t_zoomIn: function (e) {                                                                                            // 8049\n\t\tthis._map.zoomIn(e.shiftKey ? 3 : 1);                                                                             // 8050\n\t},                                                                                                                 // 8051\n                                                                                                                    // 8052\n\t_zoomOut: function (e) {                                                                                           // 8053\n\t\tthis._map.zoomOut(e.shiftKey ? 3 : 1);                                                                            // 8054\n\t},                                                                                                                 // 8055\n                                                                                                                    // 8056\n\t_createButton: function (html, title, className, container, fn, context) {                                         // 8057\n\t\tvar link = L.DomUtil.create('a', className, container);                                                           // 8058\n\t\tlink.innerHTML = html;                                                                                            // 8059\n\t\tlink.href = '#';                                                                                                  // 8060\n\t\tlink.title = title;                                                                                               // 8061\n                                                                                                                    // 8062\n\t\tvar stop = L.DomEvent.stopPropagation;                                                                            // 8063\n                                                                                                                    // 8064\n\t\tL.DomEvent                                                                                                        // 8065\n\t\t    .on(link, 'click', stop)                                                                                      // 8066\n\t\t    .on(link, 'mousedown', stop)                                                                                  // 8067\n\t\t    .on(link, 'dblclick', stop)                                                                                   // 8068\n\t\t    .on(link, 'click', L.DomEvent.preventDefault)                                                                 // 8069\n\t\t    .on(link, 'click', fn, context)                                                                               // 8070\n\t\t    .on(link, 'click', this._refocusOnMap, context);                                                              // 8071\n                                                                                                                    // 8072\n\t\treturn link;                                                                                                      // 8073\n\t},                                                                                                                 // 8074\n                                                                                                                    // 8075\n\t_updateDisabled: function () {                                                                                     // 8076\n\t\tvar map = this._map,                                                                                              // 8077\n\t\t\tclassName = 'leaflet-disabled';                                                                                  // 8078\n                                                                                                                    // 8079\n\t\tL.DomUtil.removeClass(this._zoomInButton, className);                                                             // 8080\n\t\tL.DomUtil.removeClass(this._zoomOutButton, className);                                                            // 8081\n                                                                                                                    // 8082\n\t\tif (map._zoom === map.getMinZoom()) {                                                                             // 8083\n\t\t\tL.DomUtil.addClass(this._zoomOutButton, className);                                                              // 8084\n\t\t}                                                                                                                 // 8085\n\t\tif (map._zoom === map.getMaxZoom()) {                                                                             // 8086\n\t\t\tL.DomUtil.addClass(this._zoomInButton, className);                                                               // 8087\n\t\t}                                                                                                                 // 8088\n\t}                                                                                                                  // 8089\n});                                                                                                                 // 8090\n                                                                                                                    // 8091\nL.Map.mergeOptions({                                                                                                // 8092\n\tzoomControl: true                                                                                                  // 8093\n});                                                                                                                 // 8094\n                                                                                                                    // 8095\nL.Map.addInitHook(function () {                                                                                     // 8096\n\tif (this.options.zoomControl) {                                                                                    // 8097\n\t\tthis.zoomControl = new L.Control.Zoom();                                                                          // 8098\n\t\tthis.addControl(this.zoomControl);                                                                                // 8099\n\t}                                                                                                                  // 8100\n});                                                                                                                 // 8101\n                                                                                                                    // 8102\nL.control.zoom = function (options) {                                                                               // 8103\n\treturn new L.Control.Zoom(options);                                                                                // 8104\n};                                                                                                                  // 8105\n                                                                                                                    // 8106\n                                                                                                                    // 8107\n                                                                                                                    // 8108\n/*                                                                                                                  // 8109\n * L.Control.Attribution is used for displaying attribution on the map (added by default).                          // 8110\n */                                                                                                                 // 8111\n                                                                                                                    // 8112\nL.Control.Attribution = L.Control.extend({                                                                          // 8113\n\toptions: {                                                                                                         // 8114\n\t\tposition: 'bottomright',                                                                                          // 8115\n\t\tprefix: '<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'                    // 8116\n\t},                                                                                                                 // 8117\n                                                                                                                    // 8118\n\tinitialize: function (options) {                                                                                   // 8119\n\t\tL.setOptions(this, options);                                                                                      // 8120\n                                                                                                                    // 8121\n\t\tthis._attributions = {};                                                                                          // 8122\n\t},                                                                                                                 // 8123\n                                                                                                                    // 8124\n\tonAdd: function (map) {                                                                                            // 8125\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-attribution');                                         // 8126\n\t\tL.DomEvent.disableClickPropagation(this._container);                                                              // 8127\n                                                                                                                    // 8128\n\t\tfor (var i in map._layers) {                                                                                      // 8129\n\t\t\tif (map._layers[i].getAttribution) {                                                                             // 8130\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());                                                           // 8131\n\t\t\t}                                                                                                                // 8132\n\t\t}                                                                                                                 // 8133\n\t\t                                                                                                                  // 8134\n\t\tmap                                                                                                               // 8135\n\t\t    .on('layeradd', this._onLayerAdd, this)                                                                       // 8136\n\t\t    .on('layerremove', this._onLayerRemove, this);                                                                // 8137\n                                                                                                                    // 8138\n\t\tthis._update();                                                                                                   // 8139\n                                                                                                                    // 8140\n\t\treturn this._container;                                                                                           // 8141\n\t},                                                                                                                 // 8142\n                                                                                                                    // 8143\n\tonRemove: function (map) {                                                                                         // 8144\n\t\tmap                                                                                                               // 8145\n\t\t    .off('layeradd', this._onLayerAdd)                                                                            // 8146\n\t\t    .off('layerremove', this._onLayerRemove);                                                                     // 8147\n                                                                                                                    // 8148\n\t},                                                                                                                 // 8149\n                                                                                                                    // 8150\n\tsetPrefix: function (prefix) {                                                                                     // 8151\n\t\tthis.options.prefix = prefix;                                                                                     // 8152\n\t\tthis._update();                                                                                                   // 8153\n\t\treturn this;                                                                                                      // 8154\n\t},                                                                                                                 // 8155\n                                                                                                                    // 8156\n\taddAttribution: function (text) {                                                                                  // 8157\n\t\tif (!text) { return; }                                                                                            // 8158\n                                                                                                                    // 8159\n\t\tif (!this._attributions[text]) {                                                                                  // 8160\n\t\t\tthis._attributions[text] = 0;                                                                                    // 8161\n\t\t}                                                                                                                 // 8162\n\t\tthis._attributions[text]++;                                                                                       // 8163\n                                                                                                                    // 8164\n\t\tthis._update();                                                                                                   // 8165\n                                                                                                                    // 8166\n\t\treturn this;                                                                                                      // 8167\n\t},                                                                                                                 // 8168\n                                                                                                                    // 8169\n\tremoveAttribution: function (text) {                                                                               // 8170\n\t\tif (!text) { return; }                                                                                            // 8171\n                                                                                                                    // 8172\n\t\tif (this._attributions[text]) {                                                                                   // 8173\n\t\t\tthis._attributions[text]--;                                                                                      // 8174\n\t\t\tthis._update();                                                                                                  // 8175\n\t\t}                                                                                                                 // 8176\n                                                                                                                    // 8177\n\t\treturn this;                                                                                                      // 8178\n\t},                                                                                                                 // 8179\n                                                                                                                    // 8180\n\t_update: function () {                                                                                             // 8181\n\t\tif (!this._map) { return; }                                                                                       // 8182\n                                                                                                                    // 8183\n\t\tvar attribs = [];                                                                                                 // 8184\n                                                                                                                    // 8185\n\t\tfor (var i in this._attributions) {                                                                               // 8186\n\t\t\tif (this._attributions[i]) {                                                                                     // 8187\n\t\t\t\tattribs.push(i);                                                                                                // 8188\n\t\t\t}                                                                                                                // 8189\n\t\t}                                                                                                                 // 8190\n                                                                                                                    // 8191\n\t\tvar prefixAndAttribs = [];                                                                                        // 8192\n                                                                                                                    // 8193\n\t\tif (this.options.prefix) {                                                                                        // 8194\n\t\t\tprefixAndAttribs.push(this.options.prefix);                                                                      // 8195\n\t\t}                                                                                                                 // 8196\n\t\tif (attribs.length) {                                                                                             // 8197\n\t\t\tprefixAndAttribs.push(attribs.join(', '));                                                                       // 8198\n\t\t}                                                                                                                 // 8199\n                                                                                                                    // 8200\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');                                                         // 8201\n\t},                                                                                                                 // 8202\n                                                                                                                    // 8203\n\t_onLayerAdd: function (e) {                                                                                        // 8204\n\t\tif (e.layer.getAttribution) {                                                                                     // 8205\n\t\t\tthis.addAttribution(e.layer.getAttribution());                                                                   // 8206\n\t\t}                                                                                                                 // 8207\n\t},                                                                                                                 // 8208\n                                                                                                                    // 8209\n\t_onLayerRemove: function (e) {                                                                                     // 8210\n\t\tif (e.layer.getAttribution) {                                                                                     // 8211\n\t\t\tthis.removeAttribution(e.layer.getAttribution());                                                                // 8212\n\t\t}                                                                                                                 // 8213\n\t}                                                                                                                  // 8214\n});                                                                                                                 // 8215\n                                                                                                                    // 8216\nL.Map.mergeOptions({                                                                                                // 8217\n\tattributionControl: true                                                                                           // 8218\n});                                                                                                                 // 8219\n                                                                                                                    // 8220\nL.Map.addInitHook(function () {                                                                                     // 8221\n\tif (this.options.attributionControl) {                                                                             // 8222\n\t\tthis.attributionControl = (new L.Control.Attribution()).addTo(this);                                              // 8223\n\t}                                                                                                                  // 8224\n});                                                                                                                 // 8225\n                                                                                                                    // 8226\nL.control.attribution = function (options) {                                                                        // 8227\n\treturn new L.Control.Attribution(options);                                                                         // 8228\n};                                                                                                                  // 8229\n                                                                                                                    // 8230\n                                                                                                                    // 8231\n/*                                                                                                                  // 8232\n * L.Control.Scale is used for displaying metric/imperial scale on the map.                                         // 8233\n */                                                                                                                 // 8234\n                                                                                                                    // 8235\nL.Control.Scale = L.Control.extend({                                                                                // 8236\n\toptions: {                                                                                                         // 8237\n\t\tposition: 'bottomleft',                                                                                           // 8238\n\t\tmaxWidth: 100,                                                                                                    // 8239\n\t\tmetric: true,                                                                                                     // 8240\n\t\timperial: true,                                                                                                   // 8241\n\t\tupdateWhenIdle: false                                                                                             // 8242\n\t},                                                                                                                 // 8243\n                                                                                                                    // 8244\n\tonAdd: function (map) {                                                                                            // 8245\n\t\tthis._map = map;                                                                                                  // 8246\n                                                                                                                    // 8247\n\t\tvar className = 'leaflet-control-scale',                                                                          // 8248\n\t\t    container = L.DomUtil.create('div', className),                                                               // 8249\n\t\t    options = this.options;                                                                                       // 8250\n                                                                                                                    // 8251\n\t\tthis._addScales(options, className, container);                                                                   // 8252\n                                                                                                                    // 8253\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);                                          // 8254\n\t\tmap.whenReady(this._update, this);                                                                                // 8255\n                                                                                                                    // 8256\n\t\treturn container;                                                                                                 // 8257\n\t},                                                                                                                 // 8258\n                                                                                                                    // 8259\n\tonRemove: function (map) {                                                                                         // 8260\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);                                    // 8261\n\t},                                                                                                                 // 8262\n                                                                                                                    // 8263\n\t_addScales: function (options, className, container) {                                                             // 8264\n\t\tif (options.metric) {                                                                                             // 8265\n\t\t\tthis._mScale = L.DomUtil.create('div', className + '-line', container);                                          // 8266\n\t\t}                                                                                                                 // 8267\n\t\tif (options.imperial) {                                                                                           // 8268\n\t\t\tthis._iScale = L.DomUtil.create('div', className + '-line', container);                                          // 8269\n\t\t}                                                                                                                 // 8270\n\t},                                                                                                                 // 8271\n                                                                                                                    // 8272\n\t_update: function () {                                                                                             // 8273\n\t\tvar bounds = this._map.getBounds(),                                                                               // 8274\n\t\t    centerLat = bounds.getCenter().lat,                                                                           // 8275\n\t\t    halfWorldMeters = 6378137 * Math.PI * Math.cos(centerLat * Math.PI / 180),                                    // 8276\n\t\t    dist = halfWorldMeters * (bounds.getNorthEast().lng - bounds.getSouthWest().lng) / 180,                       // 8277\n                                                                                                                    // 8278\n\t\t    size = this._map.getSize(),                                                                                   // 8279\n\t\t    options = this.options,                                                                                       // 8280\n\t\t    maxMeters = 0;                                                                                                // 8281\n                                                                                                                    // 8282\n\t\tif (size.x > 0) {                                                                                                 // 8283\n\t\t\tmaxMeters = dist * (options.maxWidth / size.x);                                                                  // 8284\n\t\t}                                                                                                                 // 8285\n                                                                                                                    // 8286\n\t\tthis._updateScales(options, maxMeters);                                                                           // 8287\n\t},                                                                                                                 // 8288\n                                                                                                                    // 8289\n\t_updateScales: function (options, maxMeters) {                                                                     // 8290\n\t\tif (options.metric && maxMeters) {                                                                                // 8291\n\t\t\tthis._updateMetric(maxMeters);                                                                                   // 8292\n\t\t}                                                                                                                 // 8293\n                                                                                                                    // 8294\n\t\tif (options.imperial && maxMeters) {                                                                              // 8295\n\t\t\tthis._updateImperial(maxMeters);                                                                                 // 8296\n\t\t}                                                                                                                 // 8297\n\t},                                                                                                                 // 8298\n                                                                                                                    // 8299\n\t_updateMetric: function (maxMeters) {                                                                              // 8300\n\t\tvar meters = this._getRoundNum(maxMeters);                                                                        // 8301\n                                                                                                                    // 8302\n\t\tthis._mScale.style.width = this._getScaleWidth(meters / maxMeters) + 'px';                                        // 8303\n\t\tthis._mScale.innerHTML = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';                                 // 8304\n\t},                                                                                                                 // 8305\n                                                                                                                    // 8306\n\t_updateImperial: function (maxMeters) {                                                                            // 8307\n\t\tvar maxFeet = maxMeters * 3.2808399,                                                                              // 8308\n\t\t    scale = this._iScale,                                                                                         // 8309\n\t\t    maxMiles, miles, feet;                                                                                        // 8310\n                                                                                                                    // 8311\n\t\tif (maxFeet > 5280) {                                                                                             // 8312\n\t\t\tmaxMiles = maxFeet / 5280;                                                                                       // 8313\n\t\t\tmiles = this._getRoundNum(maxMiles);                                                                             // 8314\n                                                                                                                    // 8315\n\t\t\tscale.style.width = this._getScaleWidth(miles / maxMiles) + 'px';                                                // 8316\n\t\t\tscale.innerHTML = miles + ' mi';                                                                                 // 8317\n                                                                                                                    // 8318\n\t\t} else {                                                                                                          // 8319\n\t\t\tfeet = this._getRoundNum(maxFeet);                                                                               // 8320\n                                                                                                                    // 8321\n\t\t\tscale.style.width = this._getScaleWidth(feet / maxFeet) + 'px';                                                  // 8322\n\t\t\tscale.innerHTML = feet + ' ft';                                                                                  // 8323\n\t\t}                                                                                                                 // 8324\n\t},                                                                                                                 // 8325\n                                                                                                                    // 8326\n\t_getScaleWidth: function (ratio) {                                                                                 // 8327\n\t\treturn Math.round(this.options.maxWidth * ratio) - 10;                                                            // 8328\n\t},                                                                                                                 // 8329\n                                                                                                                    // 8330\n\t_getRoundNum: function (num) {                                                                                     // 8331\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),                                                      // 8332\n\t\t    d = num / pow10;                                                                                              // 8333\n                                                                                                                    // 8334\n\t\td = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;                                                      // 8335\n                                                                                                                    // 8336\n\t\treturn pow10 * d;                                                                                                 // 8337\n\t}                                                                                                                  // 8338\n});                                                                                                                 // 8339\n                                                                                                                    // 8340\nL.control.scale = function (options) {                                                                              // 8341\n\treturn new L.Control.Scale(options);                                                                               // 8342\n};                                                                                                                  // 8343\n                                                                                                                    // 8344\n                                                                                                                    // 8345\n/*                                                                                                                  // 8346\n * L.Control.Layers is a control to allow users to switch between different layers on the map.                      // 8347\n */                                                                                                                 // 8348\n                                                                                                                    // 8349\nL.Control.Layers = L.Control.extend({                                                                               // 8350\n\toptions: {                                                                                                         // 8351\n\t\tcollapsed: true,                                                                                                  // 8352\n\t\tposition: 'topright',                                                                                             // 8353\n\t\tautoZIndex: true                                                                                                  // 8354\n\t},                                                                                                                 // 8355\n                                                                                                                    // 8356\n\tinitialize: function (baseLayers, overlays, options) {                                                             // 8357\n\t\tL.setOptions(this, options);                                                                                      // 8358\n                                                                                                                    // 8359\n\t\tthis._layers = {};                                                                                                // 8360\n\t\tthis._lastZIndex = 0;                                                                                             // 8361\n\t\tthis._handlingClick = false;                                                                                      // 8362\n                                                                                                                    // 8363\n\t\tfor (var i in baseLayers) {                                                                                       // 8364\n\t\t\tthis._addLayer(baseLayers[i], i);                                                                                // 8365\n\t\t}                                                                                                                 // 8366\n                                                                                                                    // 8367\n\t\tfor (i in overlays) {                                                                                             // 8368\n\t\t\tthis._addLayer(overlays[i], i, true);                                                                            // 8369\n\t\t}                                                                                                                 // 8370\n\t},                                                                                                                 // 8371\n                                                                                                                    // 8372\n\tonAdd: function (map) {                                                                                            // 8373\n\t\tthis._initLayout();                                                                                               // 8374\n\t\tthis._update();                                                                                                   // 8375\n                                                                                                                    // 8376\n\t\tmap                                                                                                               // 8377\n\t\t    .on('layeradd', this._onLayerChange, this)                                                                    // 8378\n\t\t    .on('layerremove', this._onLayerChange, this);                                                                // 8379\n                                                                                                                    // 8380\n\t\treturn this._container;                                                                                           // 8381\n\t},                                                                                                                 // 8382\n                                                                                                                    // 8383\n\tonRemove: function (map) {                                                                                         // 8384\n\t\tmap                                                                                                               // 8385\n\t\t    .off('layeradd', this._onLayerChange, this)                                                                   // 8386\n\t\t    .off('layerremove', this._onLayerChange, this);                                                               // 8387\n\t},                                                                                                                 // 8388\n                                                                                                                    // 8389\n\taddBaseLayer: function (layer, name) {                                                                             // 8390\n\t\tthis._addLayer(layer, name);                                                                                      // 8391\n\t\tthis._update();                                                                                                   // 8392\n\t\treturn this;                                                                                                      // 8393\n\t},                                                                                                                 // 8394\n                                                                                                                    // 8395\n\taddOverlay: function (layer, name) {                                                                               // 8396\n\t\tthis._addLayer(layer, name, true);                                                                                // 8397\n\t\tthis._update();                                                                                                   // 8398\n\t\treturn this;                                                                                                      // 8399\n\t},                                                                                                                 // 8400\n                                                                                                                    // 8401\n\tremoveLayer: function (layer) {                                                                                    // 8402\n\t\tvar id = L.stamp(layer);                                                                                          // 8403\n\t\tdelete this._layers[id];                                                                                          // 8404\n\t\tthis._update();                                                                                                   // 8405\n\t\treturn this;                                                                                                      // 8406\n\t},                                                                                                                 // 8407\n                                                                                                                    // 8408\n\t_initLayout: function () {                                                                                         // 8409\n\t\tvar className = 'leaflet-control-layers',                                                                         // 8410\n\t\t    container = this._container = L.DomUtil.create('div', className);                                             // 8411\n                                                                                                                    // 8412\n\t\t//Makes this work on IE10 Touch devices by stopping it from firing a mouseout event when the touch is released    // 8413\n\t\tcontainer.setAttribute('aria-haspopup', true);                                                                    // 8414\n                                                                                                                    // 8415\n\t\tif (!L.Browser.touch) {                                                                                           // 8416\n\t\t\tL.DomEvent                                                                                                       // 8417\n\t\t\t\t.disableClickPropagation(container)                                                                             // 8418\n\t\t\t\t.disableScrollPropagation(container);                                                                           // 8419\n\t\t} else {                                                                                                          // 8420\n\t\t\tL.DomEvent.on(container, 'click', L.DomEvent.stopPropagation);                                                   // 8421\n\t\t}                                                                                                                 // 8422\n                                                                                                                    // 8423\n\t\tvar form = this._form = L.DomUtil.create('form', className + '-list');                                            // 8424\n                                                                                                                    // 8425\n\t\tif (this.options.collapsed) {                                                                                     // 8426\n\t\t\tif (!L.Browser.android) {                                                                                        // 8427\n\t\t\t\tL.DomEvent                                                                                                      // 8428\n\t\t\t\t    .on(container, 'mouseover', this._expand, this)                                                             // 8429\n\t\t\t\t    .on(container, 'mouseout', this._collapse, this);                                                           // 8430\n\t\t\t}                                                                                                                // 8431\n\t\t\tvar link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);                           // 8432\n\t\t\tlink.href = '#';                                                                                                 // 8433\n\t\t\tlink.title = 'Layers';                                                                                           // 8434\n                                                                                                                    // 8435\n\t\t\tif (L.Browser.touch) {                                                                                           // 8436\n\t\t\t\tL.DomEvent                                                                                                      // 8437\n\t\t\t\t    .on(link, 'click', L.DomEvent.stop)                                                                         // 8438\n\t\t\t\t    .on(link, 'click', this._expand, this);                                                                     // 8439\n\t\t\t}                                                                                                                // 8440\n\t\t\telse {                                                                                                           // 8441\n\t\t\t\tL.DomEvent.on(link, 'focus', this._expand, this);                                                               // 8442\n\t\t\t}                                                                                                                // 8443\n\t\t\t//Work around for Firefox android issue https://github.com/Leaflet/Leaflet/issues/2033                           // 8444\n\t\t\tL.DomEvent.on(form, 'click', function () {                                                                       // 8445\n\t\t\t\tsetTimeout(L.bind(this._onInputClick, this), 0);                                                                // 8446\n\t\t\t}, this);                                                                                                        // 8447\n                                                                                                                    // 8448\n\t\t\tthis._map.on('click', this._collapse, this);                                                                     // 8449\n\t\t\t// TODO keyboard accessibility                                                                                   // 8450\n\t\t} else {                                                                                                          // 8451\n\t\t\tthis._expand();                                                                                                  // 8452\n\t\t}                                                                                                                 // 8453\n                                                                                                                    // 8454\n\t\tthis._baseLayersList = L.DomUtil.create('div', className + '-base', form);                                        // 8455\n\t\tthis._separator = L.DomUtil.create('div', className + '-separator', form);                                        // 8456\n\t\tthis._overlaysList = L.DomUtil.create('div', className + '-overlays', form);                                      // 8457\n                                                                                                                    // 8458\n\t\tcontainer.appendChild(form);                                                                                      // 8459\n\t},                                                                                                                 // 8460\n                                                                                                                    // 8461\n\t_addLayer: function (layer, name, overlay) {                                                                       // 8462\n\t\tvar id = L.stamp(layer);                                                                                          // 8463\n                                                                                                                    // 8464\n\t\tthis._layers[id] = {                                                                                              // 8465\n\t\t\tlayer: layer,                                                                                                    // 8466\n\t\t\tname: name,                                                                                                      // 8467\n\t\t\toverlay: overlay                                                                                                 // 8468\n\t\t};                                                                                                                // 8469\n                                                                                                                    // 8470\n\t\tif (this.options.autoZIndex && layer.setZIndex) {                                                                 // 8471\n\t\t\tthis._lastZIndex++;                                                                                              // 8472\n\t\t\tlayer.setZIndex(this._lastZIndex);                                                                               // 8473\n\t\t}                                                                                                                 // 8474\n\t},                                                                                                                 // 8475\n                                                                                                                    // 8476\n\t_update: function () {                                                                                             // 8477\n\t\tif (!this._container) {                                                                                           // 8478\n\t\t\treturn;                                                                                                          // 8479\n\t\t}                                                                                                                 // 8480\n                                                                                                                    // 8481\n\t\tthis._baseLayersList.innerHTML = '';                                                                              // 8482\n\t\tthis._overlaysList.innerHTML = '';                                                                                // 8483\n                                                                                                                    // 8484\n\t\tvar baseLayersPresent = false,                                                                                    // 8485\n\t\t    overlaysPresent = false,                                                                                      // 8486\n\t\t    i, obj;                                                                                                       // 8487\n                                                                                                                    // 8488\n\t\tfor (i in this._layers) {                                                                                         // 8489\n\t\t\tobj = this._layers[i];                                                                                           // 8490\n\t\t\tthis._addItem(obj);                                                                                              // 8491\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;                                                                // 8492\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;                                                           // 8493\n\t\t}                                                                                                                 // 8494\n                                                                                                                    // 8495\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';                               // 8496\n\t},                                                                                                                 // 8497\n                                                                                                                    // 8498\n\t_onLayerChange: function (e) {                                                                                     // 8499\n\t\tvar obj = this._layers[L.stamp(e.layer)];                                                                         // 8500\n                                                                                                                    // 8501\n\t\tif (!obj) { return; }                                                                                             // 8502\n                                                                                                                    // 8503\n\t\tif (!this._handlingClick) {                                                                                       // 8504\n\t\t\tthis._update();                                                                                                  // 8505\n\t\t}                                                                                                                 // 8506\n                                                                                                                    // 8507\n\t\tvar type = obj.overlay ?                                                                                          // 8508\n\t\t\t(e.type === 'layeradd' ? 'overlayadd' : 'overlayremove') :                                                       // 8509\n\t\t\t(e.type === 'layeradd' ? 'baselayerchange' : null);                                                              // 8510\n                                                                                                                    // 8511\n\t\tif (type) {                                                                                                       // 8512\n\t\t\tthis._map.fire(type, obj);                                                                                       // 8513\n\t\t}                                                                                                                 // 8514\n\t},                                                                                                                 // 8515\n                                                                                                                    // 8516\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)  // 8517\n\t_createRadioElement: function (name, checked) {                                                                    // 8518\n                                                                                                                    // 8519\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' + name + '\"';                // 8520\n\t\tif (checked) {                                                                                                    // 8521\n\t\t\tradioHtml += ' checked=\"checked\"';                                                                               // 8522\n\t\t}                                                                                                                 // 8523\n\t\tradioHtml += '/>';                                                                                                // 8524\n                                                                                                                    // 8525\n\t\tvar radioFragment = document.createElement('div');                                                                // 8526\n\t\tradioFragment.innerHTML = radioHtml;                                                                              // 8527\n                                                                                                                    // 8528\n\t\treturn radioFragment.firstChild;                                                                                  // 8529\n\t},                                                                                                                 // 8530\n                                                                                                                    // 8531\n\t_addItem: function (obj) {                                                                                         // 8532\n\t\tvar label = document.createElement('label'),                                                                      // 8533\n\t\t    input,                                                                                                        // 8534\n\t\t    checked = this._map.hasLayer(obj.layer);                                                                      // 8535\n                                                                                                                    // 8536\n\t\tif (obj.overlay) {                                                                                                // 8537\n\t\t\tinput = document.createElement('input');                                                                         // 8538\n\t\t\tinput.type = 'checkbox';                                                                                         // 8539\n\t\t\tinput.className = 'leaflet-control-layers-selector';                                                             // 8540\n\t\t\tinput.defaultChecked = checked;                                                                                  // 8541\n\t\t} else {                                                                                                          // 8542\n\t\t\tinput = this._createRadioElement('leaflet-base-layers', checked);                                                // 8543\n\t\t}                                                                                                                 // 8544\n                                                                                                                    // 8545\n\t\tinput.layerId = L.stamp(obj.layer);                                                                               // 8546\n                                                                                                                    // 8547\n\t\tL.DomEvent.on(input, 'click', this._onInputClick, this);                                                          // 8548\n                                                                                                                    // 8549\n\t\tvar name = document.createElement('span');                                                                        // 8550\n\t\tname.innerHTML = ' ' + obj.name;                                                                                  // 8551\n                                                                                                                    // 8552\n\t\tlabel.appendChild(input);                                                                                         // 8553\n\t\tlabel.appendChild(name);                                                                                          // 8554\n                                                                                                                    // 8555\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;                                          // 8556\n\t\tcontainer.appendChild(label);                                                                                     // 8557\n                                                                                                                    // 8558\n\t\treturn label;                                                                                                     // 8559\n\t},                                                                                                                 // 8560\n                                                                                                                    // 8561\n\t_onInputClick: function () {                                                                                       // 8562\n\t\tvar i, input, obj,                                                                                                // 8563\n\t\t    inputs = this._form.getElementsByTagName('input'),                                                            // 8564\n\t\t    inputsLen = inputs.length;                                                                                    // 8565\n                                                                                                                    // 8566\n\t\tthis._handlingClick = true;                                                                                       // 8567\n                                                                                                                    // 8568\n\t\tfor (i = 0; i < inputsLen; i++) {                                                                                 // 8569\n\t\t\tinput = inputs[i];                                                                                               // 8570\n\t\t\tobj = this._layers[input.layerId];                                                                               // 8571\n                                                                                                                    // 8572\n\t\t\tif (input.checked && !this._map.hasLayer(obj.layer)) {                                                           // 8573\n\t\t\t\tthis._map.addLayer(obj.layer);                                                                                  // 8574\n                                                                                                                    // 8575\n\t\t\t} else if (!input.checked && this._map.hasLayer(obj.layer)) {                                                    // 8576\n\t\t\t\tthis._map.removeLayer(obj.layer);                                                                               // 8577\n\t\t\t}                                                                                                                // 8578\n\t\t}                                                                                                                 // 8579\n                                                                                                                    // 8580\n\t\tthis._handlingClick = false;                                                                                      // 8581\n                                                                                                                    // 8582\n\t\tthis._refocusOnMap();                                                                                             // 8583\n\t},                                                                                                                 // 8584\n                                                                                                                    // 8585\n\t_expand: function () {                                                                                             // 8586\n\t\tL.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');                                           // 8587\n\t},                                                                                                                 // 8588\n                                                                                                                    // 8589\n\t_collapse: function () {                                                                                           // 8590\n\t\tthis._container.className = this._container.className.replace(' leaflet-control-layers-expanded', '');            // 8591\n\t}                                                                                                                  // 8592\n});                                                                                                                 // 8593\n                                                                                                                    // 8594\nL.control.layers = function (baseLayers, overlays, options) {                                                       // 8595\n\treturn new L.Control.Layers(baseLayers, overlays, options);                                                        // 8596\n};                                                                                                                  // 8597\n                                                                                                                    // 8598\n                                                                                                                    // 8599\n/*                                                                                                                  // 8600\n * L.PosAnimation is used by Leaflet internally for pan animations.                                                 // 8601\n */                                                                                                                 // 8602\n                                                                                                                    // 8603\nL.PosAnimation = L.Class.extend({                                                                                   // 8604\n\tincludes: L.Mixin.Events,                                                                                          // 8605\n                                                                                                                    // 8606\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])                    // 8607\n\t\tthis.stop();                                                                                                      // 8608\n                                                                                                                    // 8609\n\t\tthis._el = el;                                                                                                    // 8610\n\t\tthis._inProgress = true;                                                                                          // 8611\n\t\tthis._newPos = newPos;                                                                                            // 8612\n                                                                                                                    // 8613\n\t\tthis.fire('start');                                                                                               // 8614\n                                                                                                                    // 8615\n\t\tel.style[L.DomUtil.TRANSITION] = 'all ' + (duration || 0.25) +                                                    // 8616\n\t\t        's cubic-bezier(0,0,' + (easeLinearity || 0.5) + ',1)';                                                   // 8617\n                                                                                                                    // 8618\n\t\tL.DomEvent.on(el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);                                         // 8619\n\t\tL.DomUtil.setPosition(el, newPos);                                                                                // 8620\n                                                                                                                    // 8621\n\t\t// toggle reflow, Chrome flickers for some reason if you don't do this                                            // 8622\n\t\tL.Util.falseFn(el.offsetWidth);                                                                                   // 8623\n                                                                                                                    // 8624\n\t\t// there's no native way to track value updates of transitioned properties, so we imitate this                    // 8625\n\t\tthis._stepTimer = setInterval(L.bind(this._onStep, this), 50);                                                    // 8626\n\t},                                                                                                                 // 8627\n                                                                                                                    // 8628\n\tstop: function () {                                                                                                // 8629\n\t\tif (!this._inProgress) { return; }                                                                                // 8630\n                                                                                                                    // 8631\n\t\t// if we just removed the transition property, the element would jump to its final position,                      // 8632\n\t\t// so we need to make it stay at the current position                                                             // 8633\n                                                                                                                    // 8634\n\t\tL.DomUtil.setPosition(this._el, this._getPos());                                                                  // 8635\n\t\tthis._onTransitionEnd();                                                                                          // 8636\n\t\tL.Util.falseFn(this._el.offsetWidth); // force reflow in case we are about to start a new animation               // 8637\n\t},                                                                                                                 // 8638\n                                                                                                                    // 8639\n\t_onStep: function () {                                                                                             // 8640\n\t\tvar stepPos = this._getPos();                                                                                     // 8641\n\t\tif (!stepPos) {                                                                                                   // 8642\n\t\t\tthis._onTransitionEnd();                                                                                         // 8643\n\t\t\treturn;                                                                                                          // 8644\n\t\t}                                                                                                                 // 8645\n\t\t// jshint camelcase: false                                                                                        // 8646\n\t\t// make L.DomUtil.getPosition return intermediate position value during animation                                 // 8647\n\t\tthis._el._leaflet_pos = stepPos;                                                                                  // 8648\n                                                                                                                    // 8649\n\t\tthis.fire('step');                                                                                                // 8650\n\t},                                                                                                                 // 8651\n                                                                                                                    // 8652\n\t// you can't easily get intermediate values of properties animated with CSS3 Transitions,                          // 8653\n\t// we need to parse computed style (in case of transform it returns matrix string)                                 // 8654\n                                                                                                                    // 8655\n\t_transformRe: /([-+]?(?:\\d*\\.)?\\d+)\\D*, ([-+]?(?:\\d*\\.)?\\d+)\\D*\\)/,                                                // 8656\n                                                                                                                    // 8657\n\t_getPos: function () {                                                                                             // 8658\n\t\tvar left, top, matches,                                                                                           // 8659\n\t\t    el = this._el,                                                                                                // 8660\n\t\t    style = window.getComputedStyle(el);                                                                          // 8661\n                                                                                                                    // 8662\n\t\tif (L.Browser.any3d) {                                                                                            // 8663\n\t\t\tmatches = style[L.DomUtil.TRANSFORM].match(this._transformRe);                                                   // 8664\n\t\t\tif (!matches) { return; }                                                                                        // 8665\n\t\t\tleft = parseFloat(matches[1]);                                                                                   // 8666\n\t\t\ttop  = parseFloat(matches[2]);                                                                                   // 8667\n\t\t} else {                                                                                                          // 8668\n\t\t\tleft = parseFloat(style.left);                                                                                   // 8669\n\t\t\ttop  = parseFloat(style.top);                                                                                    // 8670\n\t\t}                                                                                                                 // 8671\n                                                                                                                    // 8672\n\t\treturn new L.Point(left, top, true);                                                                              // 8673\n\t},                                                                                                                 // 8674\n                                                                                                                    // 8675\n\t_onTransitionEnd: function () {                                                                                    // 8676\n\t\tL.DomEvent.off(this._el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);                                  // 8677\n                                                                                                                    // 8678\n\t\tif (!this._inProgress) { return; }                                                                                // 8679\n\t\tthis._inProgress = false;                                                                                         // 8680\n                                                                                                                    // 8681\n\t\tthis._el.style[L.DomUtil.TRANSITION] = '';                                                                        // 8682\n                                                                                                                    // 8683\n\t\t// jshint camelcase: false                                                                                        // 8684\n\t\t// make sure L.DomUtil.getPosition returns the final position value after animation                               // 8685\n\t\tthis._el._leaflet_pos = this._newPos;                                                                             // 8686\n                                                                                                                    // 8687\n\t\tclearInterval(this._stepTimer);                                                                                   // 8688\n                                                                                                                    // 8689\n\t\tthis.fire('step').fire('end');                                                                                    // 8690\n\t}                                                                                                                  // 8691\n                                                                                                                    // 8692\n});                                                                                                                 // 8693\n                                                                                                                    // 8694\n                                                                                                                    // 8695\n/*                                                                                                                  // 8696\n * Extends L.Map to handle panning animations.                                                                      // 8697\n */                                                                                                                 // 8698\n                                                                                                                    // 8699\nL.Map.include({                                                                                                     // 8700\n                                                                                                                    // 8701\n\tsetView: function (center, zoom, options) {                                                                        // 8702\n                                                                                                                    // 8703\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);                                                   // 8704\n\t\tcenter = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);                                       // 8705\n\t\toptions = options || {};                                                                                          // 8706\n                                                                                                                    // 8707\n\t\tif (this._panAnim) {                                                                                              // 8708\n\t\t\tthis._panAnim.stop();                                                                                            // 8709\n\t\t}                                                                                                                 // 8710\n                                                                                                                    // 8711\n\t\tif (this._loaded && !options.reset && options !== true) {                                                         // 8712\n                                                                                                                    // 8713\n\t\t\tif (options.animate !== undefined) {                                                                             // 8714\n\t\t\t\toptions.zoom = L.extend({animate: options.animate}, options.zoom);                                              // 8715\n\t\t\t\toptions.pan = L.extend({animate: options.animate}, options.pan);                                                // 8716\n\t\t\t}                                                                                                                // 8717\n                                                                                                                    // 8718\n\t\t\t// try animating pan or zoom                                                                                     // 8719\n\t\t\tvar animated = (this._zoom !== zoom) ?                                                                           // 8720\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :                                    // 8721\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);                                                                      // 8722\n                                                                                                                    // 8723\n\t\t\tif (animated) {                                                                                                  // 8724\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway                                    // 8725\n\t\t\t\tclearTimeout(this._sizeTimer);                                                                                  // 8726\n\t\t\t\treturn this;                                                                                                    // 8727\n\t\t\t}                                                                                                                // 8728\n\t\t}                                                                                                                 // 8729\n                                                                                                                    // 8730\n\t\t// animation didn't start, just reset the map view                                                                // 8731\n\t\tthis._resetView(center, zoom);                                                                                    // 8732\n                                                                                                                    // 8733\n\t\treturn this;                                                                                                      // 8734\n\t},                                                                                                                 // 8735\n                                                                                                                    // 8736\n\tpanBy: function (offset, options) {                                                                                // 8737\n\t\toffset = L.point(offset).round();                                                                                 // 8738\n\t\toptions = options || {};                                                                                          // 8739\n                                                                                                                    // 8740\n\t\tif (!offset.x && !offset.y) {                                                                                     // 8741\n\t\t\treturn this;                                                                                                     // 8742\n\t\t}                                                                                                                 // 8743\n                                                                                                                    // 8744\n\t\tif (!this._panAnim) {                                                                                             // 8745\n\t\t\tthis._panAnim = new L.PosAnimation();                                                                            // 8746\n                                                                                                                    // 8747\n\t\t\tthis._panAnim.on({                                                                                               // 8748\n\t\t\t\t'step': this._onPanTransitionStep,                                                                              // 8749\n\t\t\t\t'end': this._onPanTransitionEnd                                                                                 // 8750\n\t\t\t}, this);                                                                                                        // 8751\n\t\t}                                                                                                                 // 8752\n                                                                                                                    // 8753\n\t\t// don't fire movestart if animating inertia                                                                      // 8754\n\t\tif (!options.noMoveStart) {                                                                                       // 8755\n\t\t\tthis.fire('movestart');                                                                                          // 8756\n\t\t}                                                                                                                 // 8757\n                                                                                                                    // 8758\n\t\t// animate pan unless animate: false specified                                                                    // 8759\n\t\tif (options.animate !== false) {                                                                                  // 8760\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');                                                           // 8761\n                                                                                                                    // 8762\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset);                                                             // 8763\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);                       // 8764\n\t\t} else {                                                                                                          // 8765\n\t\t\tthis._rawPanBy(offset);                                                                                          // 8766\n\t\t\tthis.fire('move').fire('moveend');                                                                               // 8767\n\t\t}                                                                                                                 // 8768\n                                                                                                                    // 8769\n\t\treturn this;                                                                                                      // 8770\n\t},                                                                                                                 // 8771\n                                                                                                                    // 8772\n\t_onPanTransitionStep: function () {                                                                                // 8773\n\t\tthis.fire('move');                                                                                                // 8774\n\t},                                                                                                                 // 8775\n                                                                                                                    // 8776\n\t_onPanTransitionEnd: function () {                                                                                 // 8777\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');                                                         // 8778\n\t\tthis.fire('moveend');                                                                                             // 8779\n\t},                                                                                                                 // 8780\n                                                                                                                    // 8781\n\t_tryAnimatedPan: function (center, options) {                                                                      // 8782\n\t\t// difference between the new and current centers in pixels                                                       // 8783\n\t\tvar offset = this._getCenterOffset(center)._floor();                                                              // 8784\n                                                                                                                    // 8785\n\t\t// don't animate too far unless animate: true specified in options                                                // 8786\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }                  // 8787\n                                                                                                                    // 8788\n\t\tthis.panBy(offset, options);                                                                                      // 8789\n                                                                                                                    // 8790\n\t\treturn true;                                                                                                      // 8791\n\t}                                                                                                                  // 8792\n});                                                                                                                 // 8793\n                                                                                                                    // 8794\n                                                                                                                    // 8795\n/*                                                                                                                  // 8796\n * L.PosAnimation fallback implementation that powers Leaflet pan animations                                        // 8797\n * in browsers that don't support CSS3 Transitions.                                                                 // 8798\n */                                                                                                                 // 8799\n                                                                                                                    // 8800\nL.PosAnimation = L.DomUtil.TRANSITION ? L.PosAnimation : L.PosAnimation.extend({                                    // 8801\n                                                                                                                    // 8802\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])                    // 8803\n\t\tthis.stop();                                                                                                      // 8804\n                                                                                                                    // 8805\n\t\tthis._el = el;                                                                                                    // 8806\n\t\tthis._inProgress = true;                                                                                          // 8807\n\t\tthis._duration = duration || 0.25;                                                                                // 8808\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);                                                     // 8809\n                                                                                                                    // 8810\n\t\tthis._startPos = L.DomUtil.getPosition(el);                                                                       // 8811\n\t\tthis._offset = newPos.subtract(this._startPos);                                                                   // 8812\n\t\tthis._startTime = +new Date();                                                                                    // 8813\n                                                                                                                    // 8814\n\t\tthis.fire('start');                                                                                               // 8815\n                                                                                                                    // 8816\n\t\tthis._animate();                                                                                                  // 8817\n\t},                                                                                                                 // 8818\n                                                                                                                    // 8819\n\tstop: function () {                                                                                                // 8820\n\t\tif (!this._inProgress) { return; }                                                                                // 8821\n                                                                                                                    // 8822\n\t\tthis._step();                                                                                                     // 8823\n\t\tthis._complete();                                                                                                 // 8824\n\t},                                                                                                                 // 8825\n                                                                                                                    // 8826\n\t_animate: function () {                                                                                            // 8827\n\t\t// animation loop                                                                                                 // 8828\n\t\tthis._animId = L.Util.requestAnimFrame(this._animate, this);                                                      // 8829\n\t\tthis._step();                                                                                                     // 8830\n\t},                                                                                                                 // 8831\n                                                                                                                    // 8832\n\t_step: function () {                                                                                               // 8833\n\t\tvar elapsed = (+new Date()) - this._startTime,                                                                    // 8834\n\t\t    duration = this._duration * 1000;                                                                             // 8835\n                                                                                                                    // 8836\n\t\tif (elapsed < duration) {                                                                                         // 8837\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration));                                                               // 8838\n\t\t} else {                                                                                                          // 8839\n\t\t\tthis._runFrame(1);                                                                                               // 8840\n\t\t\tthis._complete();                                                                                                // 8841\n\t\t}                                                                                                                 // 8842\n\t},                                                                                                                 // 8843\n                                                                                                                    // 8844\n\t_runFrame: function (progress) {                                                                                   // 8845\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));                                                  // 8846\n\t\tL.DomUtil.setPosition(this._el, pos);                                                                             // 8847\n                                                                                                                    // 8848\n\t\tthis.fire('step');                                                                                                // 8849\n\t},                                                                                                                 // 8850\n                                                                                                                    // 8851\n\t_complete: function () {                                                                                           // 8852\n\t\tL.Util.cancelAnimFrame(this._animId);                                                                             // 8853\n                                                                                                                    // 8854\n\t\tthis._inProgress = false;                                                                                         // 8855\n\t\tthis.fire('end');                                                                                                 // 8856\n\t},                                                                                                                 // 8857\n                                                                                                                    // 8858\n\t_easeOut: function (t) {                                                                                           // 8859\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);                                                                   // 8860\n\t}                                                                                                                  // 8861\n});                                                                                                                 // 8862\n                                                                                                                    // 8863\n                                                                                                                    // 8864\n/*                                                                                                                  // 8865\n * Extends L.Map to handle zoom animations.                                                                         // 8866\n */                                                                                                                 // 8867\n                                                                                                                    // 8868\nL.Map.mergeOptions({                                                                                                // 8869\n\tzoomAnimation: true,                                                                                               // 8870\n\tzoomAnimationThreshold: 4                                                                                          // 8871\n});                                                                                                                 // 8872\n                                                                                                                    // 8873\nif (L.DomUtil.TRANSITION) {                                                                                         // 8874\n                                                                                                                    // 8875\n\tL.Map.addInitHook(function () {                                                                                    // 8876\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera                        // 8877\n\t\tthis._zoomAnimated = this.options.zoomAnimation && L.DomUtil.TRANSITION &&                                        // 8878\n\t\t\t\tL.Browser.any3d && !L.Browser.android23 && !L.Browser.mobileOpera;                                              // 8879\n                                                                                                                    // 8880\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events                  // 8881\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally            // 8882\n\t\tif (this._zoomAnimated) {                                                                                         // 8883\n\t\t\tL.DomEvent.on(this._mapPane, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);                          // 8884\n\t\t}                                                                                                                 // 8885\n\t});                                                                                                                // 8886\n}                                                                                                                   // 8887\n                                                                                                                    // 8888\nL.Map.include(!L.DomUtil.TRANSITION ? {} : {                                                                        // 8889\n                                                                                                                    // 8890\n\t_catchTransitionEnd: function (e) {                                                                                // 8891\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {                                            // 8892\n\t\t\tthis._onZoomTransitionEnd();                                                                                     // 8893\n\t\t}                                                                                                                 // 8894\n\t},                                                                                                                 // 8895\n                                                                                                                    // 8896\n\t_nothingToAnimate: function () {                                                                                   // 8897\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;                                   // 8898\n\t},                                                                                                                 // 8899\n                                                                                                                    // 8900\n\t_tryAnimatedZoom: function (center, zoom, options) {                                                               // 8901\n                                                                                                                    // 8902\n\t\tif (this._animatingZoom) { return true; }                                                                         // 8903\n                                                                                                                    // 8904\n\t\toptions = options || {};                                                                                          // 8905\n                                                                                                                    // 8906\n\t\t// don't animate if disabled, not supported or zoom difference is too large                                       // 8907\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||                               // 8908\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }                      // 8909\n                                                                                                                    // 8910\n\t\t// offset is the pixel coords of the zoom origin relative to the current center                                   // 8911\n\t\tvar scale = this.getZoomScale(zoom),                                                                              // 8912\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale),                                              // 8913\n\t\t\torigin = this._getCenterLayerPoint()._add(offset);                                                               // 8914\n                                                                                                                    // 8915\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced                // 8916\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }                               // 8917\n                                                                                                                    // 8918\n\t\tthis                                                                                                              // 8919\n\t\t    .fire('movestart')                                                                                            // 8920\n\t\t    .fire('zoomstart');                                                                                           // 8921\n                                                                                                                    // 8922\n\t\tthis._animateZoom(center, zoom, origin, scale, null, true);                                                       // 8923\n                                                                                                                    // 8924\n\t\treturn true;                                                                                                      // 8925\n\t},                                                                                                                 // 8926\n                                                                                                                    // 8927\n\t_animateZoom: function (center, zoom, origin, scale, delta, backwards, forTouchZoom) {                             // 8928\n                                                                                                                    // 8929\n\t\tif (!forTouchZoom) {                                                                                              // 8930\n\t\t\tthis._animatingZoom = true;                                                                                      // 8931\n\t\t}                                                                                                                 // 8932\n                                                                                                                    // 8933\n\t\t// put transform transition on all layers with leaflet-zoom-animated class                                        // 8934\n\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');                                                           // 8935\n                                                                                                                    // 8936\n\t\t// remember what center/zoom to set after animation                                                               // 8937\n\t\tthis._animateToCenter = center;                                                                                   // 8938\n\t\tthis._animateToZoom = zoom;                                                                                       // 8939\n                                                                                                                    // 8940\n\t\t// disable any dragging during animation                                                                          // 8941\n\t\tif (L.Draggable) {                                                                                                // 8942\n\t\t\tL.Draggable._disabled = true;                                                                                    // 8943\n\t\t}                                                                                                                 // 8944\n                                                                                                                    // 8945\n\t\tL.Util.requestAnimFrame(function () {                                                                             // 8946\n\t\t\tthis.fire('zoomanim', {                                                                                          // 8947\n\t\t\t\tcenter: center,                                                                                                 // 8948\n\t\t\t\tzoom: zoom,                                                                                                     // 8949\n\t\t\t\torigin: origin,                                                                                                 // 8950\n\t\t\t\tscale: scale,                                                                                                   // 8951\n\t\t\t\tdelta: delta,                                                                                                   // 8952\n\t\t\t\tbackwards: backwards                                                                                            // 8953\n\t\t\t});                                                                                                              // 8954\n\t\t}, this);                                                                                                         // 8955\n\t},                                                                                                                 // 8956\n                                                                                                                    // 8957\n\t_onZoomTransitionEnd: function () {                                                                                // 8958\n                                                                                                                    // 8959\n\t\tthis._animatingZoom = false;                                                                                      // 8960\n                                                                                                                    // 8961\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');                                                        // 8962\n                                                                                                                    // 8963\n\t\tthis._resetView(this._animateToCenter, this._animateToZoom, true, true);                                          // 8964\n                                                                                                                    // 8965\n\t\tif (L.Draggable) {                                                                                                // 8966\n\t\t\tL.Draggable._disabled = false;                                                                                   // 8967\n\t\t}                                                                                                                 // 8968\n\t}                                                                                                                  // 8969\n});                                                                                                                 // 8970\n                                                                                                                    // 8971\n                                                                                                                    // 8972\n/*                                                                                                                  // 8973\n\tZoom animation logic for L.TileLayer.                                                                              // 8974\n*/                                                                                                                  // 8975\n                                                                                                                    // 8976\nL.TileLayer.include({                                                                                               // 8977\n\t_animateZoom: function (e) {                                                                                       // 8978\n\t\tif (!this._animating) {                                                                                           // 8979\n\t\t\tthis._animating = true;                                                                                          // 8980\n\t\t\tthis._prepareBgBuffer();                                                                                         // 8981\n\t\t}                                                                                                                 // 8982\n                                                                                                                    // 8983\n\t\tvar bg = this._bgBuffer,                                                                                          // 8984\n\t\t    transform = L.DomUtil.TRANSFORM,                                                                              // 8985\n\t\t    initialTransform = e.delta ? L.DomUtil.getTranslateString(e.delta) : bg.style[transform],                     // 8986\n\t\t    scaleStr = L.DomUtil.getScaleString(e.scale, e.origin);                                                       // 8987\n                                                                                                                    // 8988\n\t\tbg.style[transform] = e.backwards ?                                                                               // 8989\n\t\t\t\tscaleStr + ' ' + initialTransform :                                                                             // 8990\n\t\t\t\tinitialTransform + ' ' + scaleStr;                                                                              // 8991\n\t},                                                                                                                 // 8992\n                                                                                                                    // 8993\n\t_endZoomAnim: function () {                                                                                        // 8994\n\t\tvar front = this._tileContainer,                                                                                  // 8995\n\t\t    bg = this._bgBuffer;                                                                                          // 8996\n                                                                                                                    // 8997\n\t\tfront.style.visibility = '';                                                                                      // 8998\n\t\tfront.parentNode.appendChild(front); // Bring to fore                                                             // 8999\n                                                                                                                    // 9000\n\t\t// force reflow                                                                                                   // 9001\n\t\tL.Util.falseFn(bg.offsetWidth);                                                                                   // 9002\n                                                                                                                    // 9003\n\t\tthis._animating = false;                                                                                          // 9004\n\t},                                                                                                                 // 9005\n                                                                                                                    // 9006\n\t_clearBgBuffer: function () {                                                                                      // 9007\n\t\tvar map = this._map;                                                                                              // 9008\n                                                                                                                    // 9009\n\t\tif (map && !map._animatingZoom && !map.touchZoom._zooming) {                                                      // 9010\n\t\t\tthis._bgBuffer.innerHTML = '';                                                                                   // 9011\n\t\t\tthis._bgBuffer.style[L.DomUtil.TRANSFORM] = '';                                                                  // 9012\n\t\t}                                                                                                                 // 9013\n\t},                                                                                                                 // 9014\n                                                                                                                    // 9015\n\t_prepareBgBuffer: function () {                                                                                    // 9016\n                                                                                                                    // 9017\n\t\tvar front = this._tileContainer,                                                                                  // 9018\n\t\t    bg = this._bgBuffer;                                                                                          // 9019\n                                                                                                                    // 9020\n\t\t// if foreground layer doesn't have many tiles but bg layer does,                                                 // 9021\n\t\t// keep the existing bg layer and just zoom it some more                                                          // 9022\n                                                                                                                    // 9023\n\t\tvar bgLoaded = this._getLoadedTilesPercentage(bg),                                                                // 9024\n\t\t    frontLoaded = this._getLoadedTilesPercentage(front);                                                          // 9025\n                                                                                                                    // 9026\n\t\tif (bg && bgLoaded > 0.5 && frontLoaded < 0.5) {                                                                  // 9027\n                                                                                                                    // 9028\n\t\t\tfront.style.visibility = 'hidden';                                                                               // 9029\n\t\t\tthis._stopLoadingImages(front);                                                                                  // 9030\n\t\t\treturn;                                                                                                          // 9031\n\t\t}                                                                                                                 // 9032\n                                                                                                                    // 9033\n\t\t// prepare the buffer to become the front tile pane                                                               // 9034\n\t\tbg.style.visibility = 'hidden';                                                                                   // 9035\n\t\tbg.style[L.DomUtil.TRANSFORM] = '';                                                                               // 9036\n                                                                                                                    // 9037\n\t\t// switch out the current layer to be the new bg layer (and vice-versa)                                           // 9038\n\t\tthis._tileContainer = bg;                                                                                         // 9039\n\t\tbg = this._bgBuffer = front;                                                                                      // 9040\n                                                                                                                    // 9041\n\t\tthis._stopLoadingImages(bg);                                                                                      // 9042\n                                                                                                                    // 9043\n\t\t//prevent bg buffer from clearing right after zoom                                                                // 9044\n\t\tclearTimeout(this._clearBgBufferTimer);                                                                           // 9045\n\t},                                                                                                                 // 9046\n                                                                                                                    // 9047\n\t_getLoadedTilesPercentage: function (container) {                                                                  // 9048\n\t\tvar tiles = container.getElementsByTagName('img'),                                                                // 9049\n\t\t    i, len, count = 0;                                                                                            // 9050\n                                                                                                                    // 9051\n\t\tfor (i = 0, len = tiles.length; i < len; i++) {                                                                   // 9052\n\t\t\tif (tiles[i].complete) {                                                                                         // 9053\n\t\t\t\tcount++;                                                                                                        // 9054\n\t\t\t}                                                                                                                // 9055\n\t\t}                                                                                                                 // 9056\n\t\treturn count / len;                                                                                               // 9057\n\t},                                                                                                                 // 9058\n                                                                                                                    // 9059\n\t// stops loading all tiles in the background layer                                                                 // 9060\n\t_stopLoadingImages: function (container) {                                                                         // 9061\n\t\tvar tiles = Array.prototype.slice.call(container.getElementsByTagName('img')),                                    // 9062\n\t\t    i, len, tile;                                                                                                 // 9063\n                                                                                                                    // 9064\n\t\tfor (i = 0, len = tiles.length; i < len; i++) {                                                                   // 9065\n\t\t\ttile = tiles[i];                                                                                                 // 9066\n                                                                                                                    // 9067\n\t\t\tif (!tile.complete) {                                                                                            // 9068\n\t\t\t\ttile.onload = L.Util.falseFn;                                                                                   // 9069\n\t\t\t\ttile.onerror = L.Util.falseFn;                                                                                  // 9070\n\t\t\t\ttile.src = L.Util.emptyImageUrl;                                                                                // 9071\n                                                                                                                    // 9072\n\t\t\t\ttile.parentNode.removeChild(tile);                                                                              // 9073\n\t\t\t}                                                                                                                // 9074\n\t\t}                                                                                                                 // 9075\n\t}                                                                                                                  // 9076\n});                                                                                                                 // 9077\n                                                                                                                    // 9078\n                                                                                                                    // 9079\n/*                                                                                                                  // 9080\n * Provides L.Map with convenient shortcuts for using browser geolocation features.                                 // 9081\n */                                                                                                                 // 9082\n                                                                                                                    // 9083\nL.Map.include({                                                                                                     // 9084\n\t_defaultLocateOptions: {                                                                                           // 9085\n\t\twatch: false,                                                                                                     // 9086\n\t\tsetView: false,                                                                                                   // 9087\n\t\tmaxZoom: Infinity,                                                                                                // 9088\n\t\ttimeout: 10000,                                                                                                   // 9089\n\t\tmaximumAge: 0,                                                                                                    // 9090\n\t\tenableHighAccuracy: false                                                                                         // 9091\n\t},                                                                                                                 // 9092\n                                                                                                                    // 9093\n\tlocate: function (/*Object*/ options) {                                                                            // 9094\n                                                                                                                    // 9095\n\t\toptions = this._locateOptions = L.extend(this._defaultLocateOptions, options);                                    // 9096\n                                                                                                                    // 9097\n\t\tif (!navigator.geolocation) {                                                                                     // 9098\n\t\t\tthis._handleGeolocationError({                                                                                   // 9099\n\t\t\t\tcode: 0,                                                                                                        // 9100\n\t\t\t\tmessage: 'Geolocation not supported.'                                                                           // 9101\n\t\t\t});                                                                                                              // 9102\n\t\t\treturn this;                                                                                                     // 9103\n\t\t}                                                                                                                 // 9104\n                                                                                                                    // 9105\n\t\tvar onResponse = L.bind(this._handleGeolocationResponse, this),                                                   // 9106\n\t\t\tonError = L.bind(this._handleGeolocationError, this);                                                            // 9107\n                                                                                                                    // 9108\n\t\tif (options.watch) {                                                                                              // 9109\n\t\t\tthis._locationWatchId =                                                                                          // 9110\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);                                       // 9111\n\t\t} else {                                                                                                          // 9112\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);                                          // 9113\n\t\t}                                                                                                                 // 9114\n\t\treturn this;                                                                                                      // 9115\n\t},                                                                                                                 // 9116\n                                                                                                                    // 9117\n\tstopLocate: function () {                                                                                          // 9118\n\t\tif (navigator.geolocation) {                                                                                      // 9119\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);                                                         // 9120\n\t\t}                                                                                                                 // 9121\n\t\tif (this._locateOptions) {                                                                                        // 9122\n\t\t\tthis._locateOptions.setView = false;                                                                             // 9123\n\t\t}                                                                                                                 // 9124\n\t\treturn this;                                                                                                      // 9125\n\t},                                                                                                                 // 9126\n                                                                                                                    // 9127\n\t_handleGeolocationError: function (error) {                                                                        // 9128\n\t\tvar c = error.code,                                                                                               // 9129\n\t\t    message = error.message ||                                                                                    // 9130\n\t\t            (c === 1 ? 'permission denied' :                                                                      // 9131\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));                                                      // 9132\n                                                                                                                    // 9133\n\t\tif (this._locateOptions.setView && !this._loaded) {                                                               // 9134\n\t\t\tthis.fitWorld();                                                                                                 // 9135\n\t\t}                                                                                                                 // 9136\n                                                                                                                    // 9137\n\t\tthis.fire('locationerror', {                                                                                      // 9138\n\t\t\tcode: c,                                                                                                         // 9139\n\t\t\tmessage: 'Geolocation error: ' + message + '.'                                                                   // 9140\n\t\t});                                                                                                               // 9141\n\t},                                                                                                                 // 9142\n                                                                                                                    // 9143\n\t_handleGeolocationResponse: function (pos) {                                                                       // 9144\n\t\tvar lat = pos.coords.latitude,                                                                                    // 9145\n\t\t    lng = pos.coords.longitude,                                                                                   // 9146\n\t\t    latlng = new L.LatLng(lat, lng),                                                                              // 9147\n                                                                                                                    // 9148\n\t\t    latAccuracy = 180 * pos.coords.accuracy / 40075017,                                                           // 9149\n\t\t    lngAccuracy = latAccuracy / Math.cos(L.LatLng.DEG_TO_RAD * lat),                                              // 9150\n                                                                                                                    // 9151\n\t\t    bounds = L.latLngBounds(                                                                                      // 9152\n\t\t            [lat - latAccuracy, lng - lngAccuracy],                                                               // 9153\n\t\t            [lat + latAccuracy, lng + lngAccuracy]),                                                              // 9154\n                                                                                                                    // 9155\n\t\t    options = this._locateOptions;                                                                                // 9156\n                                                                                                                    // 9157\n\t\tif (options.setView) {                                                                                            // 9158\n\t\t\tvar zoom = Math.min(this.getBoundsZoom(bounds), options.maxZoom);                                                // 9159\n\t\t\tthis.setView(latlng, zoom);                                                                                      // 9160\n\t\t}                                                                                                                 // 9161\n                                                                                                                    // 9162\n\t\tvar data = {                                                                                                      // 9163\n\t\t\tlatlng: latlng,                                                                                                  // 9164\n\t\t\tbounds: bounds,                                                                                                  // 9165\n\t\t\ttimestamp: pos.timestamp                                                                                         // 9166\n\t\t};                                                                                                                // 9167\n                                                                                                                    // 9168\n\t\tfor (var i in pos.coords) {                                                                                       // 9169\n\t\t\tif (typeof pos.coords[i] === 'number') {                                                                         // 9170\n\t\t\t\tdata[i] = pos.coords[i];                                                                                        // 9171\n\t\t\t}                                                                                                                // 9172\n\t\t}                                                                                                                 // 9173\n                                                                                                                    // 9174\n\t\tthis.fire('locationfound', data);                                                                                 // 9175\n\t}                                                                                                                  // 9176\n});                                                                                                                 // 9177\n                                                                                                                    // 9178\n                                                                                                                    // 9179\n}(window, document));                                                                                               // 9180\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/bevanhunt:leaflet/.npm/package/node_modules/leaflet-providers/leaflet-providers.js                      //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n(function (root, factory) {                                                                                         // 1\n    if (typeof define === 'function' && define.amd) {                                                               // 2\n        // AMD. Register as an anonymous module.                                                                    // 3\n        define(['leaflet'], factory);                                                                               // 4\n    } else {                                                                                                        // 5\n        // Assume leaflet is loaded into global object L already                                                    // 6\n        factory(L);                                                                                                 // 7\n    }                                                                                                               // 8\n}(this, function (L) {                                                                                              // 9\n\t'use strict';                                                                                                      // 10\n                                                                                                                    // 11\n\tL.TileLayer.Provider = L.TileLayer.extend({                                                                        // 12\n\t\tinitialize: function (arg, options) {                                                                             // 13\n\t\t\tvar providers = L.TileLayer.Provider.providers;                                                                  // 14\n                                                                                                                    // 15\n\t\t\tvar parts = arg.split('.');                                                                                      // 16\n                                                                                                                    // 17\n\t\t\tvar providerName = parts[0];                                                                                     // 18\n\t\t\tvar variantName = parts[1];                                                                                      // 19\n                                                                                                                    // 20\n\t\t\tif (!providers[providerName]) {                                                                                  // 21\n\t\t\t\tthrow 'No such provider (' + providerName + ')';                                                                // 22\n\t\t\t}                                                                                                                // 23\n                                                                                                                    // 24\n\t\t\tvar provider = {                                                                                                 // 25\n\t\t\t\turl: providers[providerName].url,                                                                               // 26\n\t\t\t\toptions: providers[providerName].options                                                                        // 27\n\t\t\t};                                                                                                               // 28\n                                                                                                                    // 29\n\t\t\t// overwrite values in provider from variant.                                                                    // 30\n\t\t\tif (variantName && 'variants' in providers[providerName]) {                                                      // 31\n\t\t\t\tif (!(variantName in providers[providerName].variants)) {                                                       // 32\n\t\t\t\t\tthrow 'No such variant of ' + providerName + ' (' + variantName + ')';                                         // 33\n\t\t\t\t}                                                                                                               // 34\n\t\t\t\tvar variant = providers[providerName].variants[variantName];                                                    // 35\n\t\t\t\tvar variantOptions;                                                                                             // 36\n\t\t\t\tif (typeof variant === 'string') {                                                                              // 37\n\t\t\t\t\tvariantOptions = {                                                                                             // 38\n\t\t\t\t\t\tvariant: variant                                                                                              // 39\n\t\t\t\t\t};                                                                                                             // 40\n\t\t\t\t} else {                                                                                                        // 41\n\t\t\t\t\tvariantOptions = variant.options;                                                                              // 42\n\t\t\t\t}                                                                                                               // 43\n\t\t\t\tprovider = {                                                                                                    // 44\n\t\t\t\t\turl: variant.url || provider.url,                                                                              // 45\n\t\t\t\t\toptions: L.Util.extend({}, provider.options, variantOptions)                                                   // 46\n\t\t\t\t};                                                                                                              // 47\n\t\t\t} else if (typeof provider.url === 'function') {                                                                 // 48\n\t\t\t\tprovider.url = provider.url(parts.splice(1, parts.length - 1).join('.'));                                       // 49\n\t\t\t}                                                                                                                // 50\n                                                                                                                    // 51\n\t\t\tvar forceHTTP = window.location.protocol === 'file:' || provider.options.forceHTTP;                              // 52\n\t\t\tif (provider.url.indexOf('//') === 0 && forceHTTP) {                                                             // 53\n\t\t\t\tprovider.url = 'http:' + provider.url;                                                                          // 54\n\t\t\t}                                                                                                                // 55\n                                                                                                                    // 56\n\t\t\t// replace attribution placeholders with their values from toplevel provider attribution,                        // 57\n\t\t\t// recursively                                                                                                   // 58\n\t\t\tvar attributionReplacer = function (attr) {                                                                      // 59\n\t\t\t\tif (attr.indexOf('{attribution.') === -1) {                                                                     // 60\n\t\t\t\t\treturn attr;                                                                                                   // 61\n\t\t\t\t}                                                                                                               // 62\n\t\t\t\treturn attr.replace(/\\{attribution.(\\w*)\\}/,                                                                    // 63\n\t\t\t\t\tfunction (match, attributionName) {                                                                            // 64\n\t\t\t\t\t\treturn attributionReplacer(providers[attributionName].options.attribution);                                   // 65\n\t\t\t\t\t}                                                                                                              // 66\n\t\t\t\t);                                                                                                              // 67\n\t\t\t};                                                                                                               // 68\n\t\t\tprovider.options.attribution = attributionReplacer(provider.options.attribution);                                // 69\n                                                                                                                    // 70\n\t\t\t// Compute final options combining provider options with any user overrides                                      // 71\n\t\t\tvar layerOpts = L.Util.extend({}, provider.options, options);                                                    // 72\n\t\t\tL.TileLayer.prototype.initialize.call(this, provider.url, layerOpts);                                            // 73\n\t\t}                                                                                                                 // 74\n\t});                                                                                                                // 75\n                                                                                                                    // 76\n\t/**                                                                                                                // 77\n\t * Definition of providers.                                                                                        // 78\n\t * see http://leafletjs.com/reference.html#tilelayer for options in the options map.                               // 79\n\t */                                                                                                                // 80\n                                                                                                                    // 81\n\tL.TileLayer.Provider.providers = {                                                                                 // 82\n\t\tOpenStreetMap: {                                                                                                  // 83\n\t\t\turl: '//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',                                                             // 84\n\t\t\toptions: {                                                                                                       // 85\n\t\t\t\tmaxZoom: 19,                                                                                                    // 86\n\t\t\t\tattribution:                                                                                                    // 87\n\t\t\t\t\t'&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'                                    // 88\n\t\t\t},                                                                                                               // 89\n\t\t\tvariants: {                                                                                                      // 90\n\t\t\t\tMapnik: {},                                                                                                     // 91\n\t\t\t\tBlackAndWhite: {                                                                                                // 92\n\t\t\t\t\turl: 'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',                                                 // 93\n\t\t\t\t\toptions: {                                                                                                     // 94\n\t\t\t\t\t\tmaxZoom: 18                                                                                                   // 95\n\t\t\t\t\t}                                                                                                              // 96\n\t\t\t\t},                                                                                                              // 97\n\t\t\t\tDE: {                                                                                                           // 98\n\t\t\t\t\turl: 'http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png',                                           // 99\n\t\t\t\t\toptions: {                                                                                                     // 100\n\t\t\t\t\t\tmaxZoom: 18                                                                                                   // 101\n\t\t\t\t\t}                                                                                                              // 102\n\t\t\t\t},                                                                                                              // 103\n\t\t\t\tFrance: {                                                                                                       // 104\n\t\t\t\t\turl: 'http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png',                                                 // 105\n\t\t\t\t\toptions: {                                                                                                     // 106\n\t\t\t\t\t\tattribution: '&copy; Openstreetmap France | {attribution.OpenStreetMap}'                                      // 107\n\t\t\t\t\t}                                                                                                              // 108\n\t\t\t\t},                                                                                                              // 109\n\t\t\t\tHOT: {                                                                                                          // 110\n\t\t\t\t\turl: 'http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',                                                   // 111\n\t\t\t\t\toptions: {                                                                                                     // 112\n\t\t\t\t\t\tattribution: '{attribution.OpenStreetMap}, Tiles courtesy of <a href=\"http://hot.openstreetmap.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a>'\n\t\t\t\t\t}                                                                                                              // 114\n\t\t\t\t}                                                                                                               // 115\n\t\t\t}                                                                                                                // 116\n\t\t},                                                                                                                // 117\n\t\tOpenSeaMap: {                                                                                                     // 118\n\t\t\turl: 'http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png',                                                      // 119\n\t\t\toptions: {                                                                                                       // 120\n\t\t\t\tattribution: 'Map data: &copy; <a href=\"http://www.openseamap.org\">OpenSeaMap</a> contributors'                 // 121\n\t\t\t}                                                                                                                // 122\n\t\t},                                                                                                                // 123\n\t\tOpenTopoMap: {                                                                                                    // 124\n\t\t\turl: '//{s}.tile.opentopomap.org/{z}/{x}/{y}.png',                                                               // 125\n\t\t\toptions: {                                                                                                       // 126\n\t\t\t\tmaxZoom: 16,                                                                                                    // 127\n\t\t\t\tattribution: 'Map data: {attribution.OpenStreetMap}, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)'\n\t\t\t}                                                                                                                // 129\n\t\t},                                                                                                                // 130\n\t\tThunderforest: {                                                                                                  // 131\n\t\t\turl: '//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png',                                                   // 132\n\t\t\toptions: {                                                                                                       // 133\n\t\t\t\tattribution:                                                                                                    // 134\n\t\t\t\t\t'&copy; <a href=\"http://www.opencyclemap.org\">OpenCycleMap</a>, {attribution.OpenStreetMap}',                  // 135\n\t\t\t\tvariant: 'cycle'                                                                                                // 136\n\t\t\t},                                                                                                               // 137\n\t\t\tvariants: {                                                                                                      // 138\n\t\t\t\tOpenCycleMap: 'cycle',                                                                                          // 139\n\t\t\t\tTransport: {                                                                                                    // 140\n\t\t\t\t\toptions: {                                                                                                     // 141\n\t\t\t\t\t\tvariant: 'transport',                                                                                         // 142\n\t\t\t\t\t\tmaxZoom: 19                                                                                                   // 143\n\t\t\t\t\t}                                                                                                              // 144\n\t\t\t\t},                                                                                                              // 145\n\t\t\t\tTransportDark: {                                                                                                // 146\n\t\t\t\t\toptions: {                                                                                                     // 147\n\t\t\t\t\t\tvariant: 'transport-dark',                                                                                    // 148\n\t\t\t\t\t\tmaxZoom: 19                                                                                                   // 149\n\t\t\t\t\t}                                                                                                              // 150\n\t\t\t\t},                                                                                                              // 151\n\t\t\t\tLandscape: 'landscape',                                                                                         // 152\n\t\t\t\tOutdoors: 'outdoors'                                                                                            // 153\n\t\t\t}                                                                                                                // 154\n\t\t},                                                                                                                // 155\n\t\tOpenMapSurfer: {                                                                                                  // 156\n\t\t\turl: 'http://openmapsurfer.uni-hd.de/tiles/{variant}/x={x}&y={y}&z={z}',                                         // 157\n\t\t\toptions: {                                                                                                       // 158\n\t\t\t\tmaxZoom: 20,                                                                                                    // 159\n\t\t\t\tvariant: 'roads',                                                                                               // 160\n\t\t\t\tattribution: 'Imagery from <a href=\"http://giscience.uni-hd.de/\">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'\n\t\t\t},                                                                                                               // 162\n\t\t\tvariants: {                                                                                                      // 163\n\t\t\t\tRoads: 'roads',                                                                                                 // 164\n\t\t\t\tAdminBounds: {                                                                                                  // 165\n\t\t\t\t\toptions: {                                                                                                     // 166\n\t\t\t\t\t\tvariant: 'adminb',                                                                                            // 167\n\t\t\t\t\t\tmaxZoom: 19                                                                                                   // 168\n\t\t\t\t\t}                                                                                                              // 169\n\t\t\t\t},                                                                                                              // 170\n\t\t\t\tGrayscale: {                                                                                                    // 171\n\t\t\t\t\toptions: {                                                                                                     // 172\n\t\t\t\t\t\tvariant: 'roadsg',                                                                                            // 173\n\t\t\t\t\t\tmaxZoom: 19                                                                                                   // 174\n\t\t\t\t\t}                                                                                                              // 175\n\t\t\t\t}                                                                                                               // 176\n\t\t\t}                                                                                                                // 177\n\t\t},                                                                                                                // 178\n\t\tHydda: {                                                                                                          // 179\n\t\t\turl: 'http://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png',                                         // 180\n\t\t\toptions: {                                                                                                       // 181\n\t\t\t\tvariant: 'full',                                                                                                // 182\n\t\t\t\tattribution: 'Tiles courtesy of <a href=\"http://openstreetmap.se/\" target=\"_blank\">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'\n\t\t\t},                                                                                                               // 184\n\t\t\tvariants: {                                                                                                      // 185\n\t\t\t\tFull: 'full',                                                                                                   // 186\n\t\t\t\tBase: 'base',                                                                                                   // 187\n\t\t\t\tRoadsAndLabels: 'roads_and_labels'                                                                              // 188\n\t\t\t}                                                                                                                // 189\n\t\t},                                                                                                                // 190\n\t\tMapQuestOpen: {                                                                                                   // 191\n\t\t\t/* Mapquest does support https, but with a different subdomain:                                                  // 192\n\t\t\t * https://otile{s}-s.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}                                             // 193\n\t\t\t * which makes implementing protocol relativity impossible.                                                      // 194\n\t\t\t */                                                                                                              // 195\n\t\t\turl: 'http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}',                                           // 196\n\t\t\toptions: {                                                                                                       // 197\n\t\t\t\ttype: 'map',                                                                                                    // 198\n\t\t\t\text: 'jpg',                                                                                                     // 199\n\t\t\t\tattribution:                                                                                                    // 200\n\t\t\t\t\t'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; ' +                                 // 201\n\t\t\t\t\t'Map data {attribution.OpenStreetMap}',                                                                        // 202\n\t\t\t\tsubdomains: '1234'                                                                                              // 203\n\t\t\t},                                                                                                               // 204\n\t\t\tvariants: {                                                                                                      // 205\n\t\t\t\tOSM: {},                                                                                                        // 206\n\t\t\t\tAerial: {                                                                                                       // 207\n\t\t\t\t\toptions: {                                                                                                     // 208\n\t\t\t\t\t\ttype: 'sat',                                                                                                  // 209\n\t\t\t\t\t\tattribution:                                                                                                  // 210\n\t\t\t\t\t\t\t'Tiles Courtesy of <a href=\"http://www.mapquest.com/\">MapQuest</a> &mdash; ' +                               // 211\n\t\t\t\t\t\t\t'Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'                    // 212\n\t\t\t\t\t}                                                                                                              // 213\n\t\t\t\t},                                                                                                              // 214\n\t\t\t\tHybridOverlay: {                                                                                                // 215\n\t\t\t\t\toptions: {                                                                                                     // 216\n\t\t\t\t\t\ttype: 'hyb',                                                                                                  // 217\n\t\t\t\t\t\text: 'png',                                                                                                   // 218\n\t\t\t\t\t\topacity: 0.9                                                                                                  // 219\n\t\t\t\t\t}                                                                                                              // 220\n\t\t\t\t}                                                                                                               // 221\n\t\t\t}                                                                                                                // 222\n\t\t},                                                                                                                // 223\n\t\tMapBox: {                                                                                                         // 224\n\t\t\turl: '//api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',                                // 225\n\t\t\toptions: {                                                                                                       // 226\n\t\t\t\tattribution:                                                                                                    // 227\n\t\t\t\t\t'Imagery from <a href=\"http://mapbox.com/about/maps/\">MapBox</a> &mdash; ' +                                   // 228\n\t\t\t\t\t'Map data {attribution.OpenStreetMap}',                                                                        // 229\n\t\t\t\tsubdomains: 'abcd'                                                                                              // 230\n\t\t\t}                                                                                                                // 231\n\t\t},                                                                                                                // 232\n\t\tStamen: {                                                                                                         // 233\n\t\t\turl: '//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.png',                                            // 234\n\t\t\toptions: {                                                                                                       // 235\n\t\t\t\tattribution:                                                                                                    // 236\n\t\t\t\t\t'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, ' +                                               // 237\n\t\t\t\t\t'<a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; ' +                                // 238\n\t\t\t\t\t'Map data {attribution.OpenStreetMap}',                                                                        // 239\n\t\t\t\tsubdomains: 'abcd',                                                                                             // 240\n\t\t\t\tminZoom: 0,                                                                                                     // 241\n\t\t\t\tmaxZoom: 20,                                                                                                    // 242\n\t\t\t\tvariant: 'toner',                                                                                               // 243\n\t\t\t\text: 'png'                                                                                                      // 244\n\t\t\t},                                                                                                               // 245\n\t\t\tvariants: {                                                                                                      // 246\n\t\t\t\tToner: 'toner',                                                                                                 // 247\n\t\t\t\tTonerBackground: 'toner-background',                                                                            // 248\n\t\t\t\tTonerHybrid: 'toner-hybrid',                                                                                    // 249\n\t\t\t\tTonerLines: 'toner-lines',                                                                                      // 250\n\t\t\t\tTonerLabels: 'toner-labels',                                                                                    // 251\n\t\t\t\tTonerLite: 'toner-lite',                                                                                        // 252\n\t\t\t\tWatercolor: {                                                                                                   // 253\n\t\t\t\t\toptions: {                                                                                                     // 254\n\t\t\t\t\t\tvariant: 'watercolor',                                                                                        // 255\n\t\t\t\t\t\tminZoom: 1,                                                                                                   // 256\n\t\t\t\t\t\tmaxZoom: 16                                                                                                   // 257\n\t\t\t\t\t}                                                                                                              // 258\n\t\t\t\t},                                                                                                              // 259\n\t\t\t\tTerrain: {                                                                                                      // 260\n\t\t\t\t\toptions: {                                                                                                     // 261\n\t\t\t\t\t\tvariant: 'terrain',                                                                                           // 262\n\t\t\t\t\t\tminZoom: 4,                                                                                                   // 263\n\t\t\t\t\t\tmaxZoom: 18,                                                                                                  // 264\n\t\t\t\t\t\tbounds: [[22, -132], [70, -56]]                                                                               // 265\n\t\t\t\t\t}                                                                                                              // 266\n\t\t\t\t},                                                                                                              // 267\n\t\t\t\tTerrainBackground: {                                                                                            // 268\n\t\t\t\t\toptions: {                                                                                                     // 269\n\t\t\t\t\t\tvariant: 'terrain-background',                                                                                // 270\n\t\t\t\t\t\tminZoom: 4,                                                                                                   // 271\n\t\t\t\t\t\tmaxZoom: 18,                                                                                                  // 272\n\t\t\t\t\t\tbounds: [[22, -132], [70, -56]]                                                                               // 273\n\t\t\t\t\t}                                                                                                              // 274\n\t\t\t\t},                                                                                                              // 275\n\t\t\t\tTopOSMRelief: {                                                                                                 // 276\n\t\t\t\t\toptions: {                                                                                                     // 277\n\t\t\t\t\t\tvariant: 'toposm-color-relief',                                                                               // 278\n\t\t\t\t\t\text: 'jpg',                                                                                                   // 279\n\t\t\t\t\t\tbounds: [[22, -132], [51, -56]]                                                                               // 280\n\t\t\t\t\t}                                                                                                              // 281\n\t\t\t\t},                                                                                                              // 282\n\t\t\t\tTopOSMFeatures: {                                                                                               // 283\n\t\t\t\t\toptions: {                                                                                                     // 284\n\t\t\t\t\t\tvariant: 'toposm-features',                                                                                   // 285\n\t\t\t\t\t\tbounds: [[22, -132], [51, -56]],                                                                              // 286\n\t\t\t\t\t\topacity: 0.9                                                                                                  // 287\n\t\t\t\t\t}                                                                                                              // 288\n\t\t\t\t}                                                                                                               // 289\n\t\t\t}                                                                                                                // 290\n\t\t},                                                                                                                // 291\n\t\tEsri: {                                                                                                           // 292\n\t\t\turl: '//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}',                      // 293\n\t\t\toptions: {                                                                                                       // 294\n\t\t\t\tvariant: 'World_Street_Map',                                                                                    // 295\n\t\t\t\tattribution: 'Tiles &copy; Esri'                                                                                // 296\n\t\t\t},                                                                                                               // 297\n\t\t\tvariants: {                                                                                                      // 298\n\t\t\t\tWorldStreetMap: {                                                                                               // 299\n\t\t\t\t\toptions: {                                                                                                     // 300\n\t\t\t\t\t\tattribution:                                                                                                  // 301\n\t\t\t\t\t\t\t'{attribution.Esri} &mdash; ' +                                                                              // 302\n\t\t\t\t\t\t\t'Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'\n\t\t\t\t\t}                                                                                                              // 304\n\t\t\t\t},                                                                                                              // 305\n\t\t\t\tDeLorme: {                                                                                                      // 306\n\t\t\t\t\toptions: {                                                                                                     // 307\n\t\t\t\t\t\tvariant: 'Specialty/DeLorme_World_Base_Map',                                                                  // 308\n\t\t\t\t\t\tminZoom: 1,                                                                                                   // 309\n\t\t\t\t\t\tmaxZoom: 11,                                                                                                  // 310\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme'                                       // 311\n\t\t\t\t\t}                                                                                                              // 312\n\t\t\t\t},                                                                                                              // 313\n\t\t\t\tWorldTopoMap: {                                                                                                 // 314\n\t\t\t\t\toptions: {                                                                                                     // 315\n\t\t\t\t\t\tvariant: 'World_Topo_Map',                                                                                    // 316\n\t\t\t\t\t\tattribution:                                                                                                  // 317\n\t\t\t\t\t\t\t'{attribution.Esri} &mdash; ' +                                                                              // 318\n\t\t\t\t\t\t\t'Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'\n\t\t\t\t\t}                                                                                                              // 320\n\t\t\t\t},                                                                                                              // 321\n\t\t\t\tWorldImagery: {                                                                                                 // 322\n\t\t\t\t\toptions: {                                                                                                     // 323\n\t\t\t\t\t\tvariant: 'World_Imagery',                                                                                     // 324\n\t\t\t\t\t\tattribution:                                                                                                  // 325\n\t\t\t\t\t\t\t'{attribution.Esri} &mdash; ' +                                                                              // 326\n\t\t\t\t\t\t\t'Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\n\t\t\t\t\t}                                                                                                              // 328\n\t\t\t\t},                                                                                                              // 329\n\t\t\t\tWorldTerrain: {                                                                                                 // 330\n\t\t\t\t\toptions: {                                                                                                     // 331\n\t\t\t\t\t\tvariant: 'World_Terrain_Base',                                                                                // 332\n\t\t\t\t\t\tmaxZoom: 13,                                                                                                  // 333\n\t\t\t\t\t\tattribution:                                                                                                  // 334\n\t\t\t\t\t\t\t'{attribution.Esri} &mdash; ' +                                                                              // 335\n\t\t\t\t\t\t\t'Source: USGS, Esri, TANA, DeLorme, and NPS'                                                                 // 336\n\t\t\t\t\t}                                                                                                              // 337\n\t\t\t\t},                                                                                                              // 338\n\t\t\t\tWorldShadedRelief: {                                                                                            // 339\n\t\t\t\t\toptions: {                                                                                                     // 340\n\t\t\t\t\t\tvariant: 'World_Shaded_Relief',                                                                               // 341\n\t\t\t\t\t\tmaxZoom: 13,                                                                                                  // 342\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: Esri'                                                        // 343\n\t\t\t\t\t}                                                                                                              // 344\n\t\t\t\t},                                                                                                              // 345\n\t\t\t\tWorldPhysical: {                                                                                                // 346\n\t\t\t\t\toptions: {                                                                                                     // 347\n\t\t\t\t\t\tvariant: 'World_Physical_Map',                                                                                // 348\n\t\t\t\t\t\tmaxZoom: 8,                                                                                                   // 349\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Source: US National Park Service'                                    // 350\n\t\t\t\t\t}                                                                                                              // 351\n\t\t\t\t},                                                                                                              // 352\n\t\t\t\tOceanBasemap: {                                                                                                 // 353\n\t\t\t\t\toptions: {                                                                                                     // 354\n\t\t\t\t\t\tvariant: 'Ocean_Basemap',                                                                                     // 355\n\t\t\t\t\t\tmaxZoom: 13,                                                                                                  // 356\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri'\n\t\t\t\t\t}                                                                                                              // 358\n\t\t\t\t},                                                                                                              // 359\n\t\t\t\tNatGeoWorldMap: {                                                                                               // 360\n\t\t\t\t\toptions: {                                                                                                     // 361\n\t\t\t\t\t\tvariant: 'NatGeo_World_Map',                                                                                  // 362\n\t\t\t\t\t\tmaxZoom: 16,                                                                                                  // 363\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC'\n\t\t\t\t\t}                                                                                                              // 365\n\t\t\t\t},                                                                                                              // 366\n\t\t\t\tWorldGrayCanvas: {                                                                                              // 367\n\t\t\t\t\toptions: {                                                                                                     // 368\n\t\t\t\t\t\tvariant: 'Canvas/World_Light_Gray_Base',                                                                      // 369\n\t\t\t\t\t\tmaxZoom: 16,                                                                                                  // 370\n\t\t\t\t\t\tattribution: '{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ'                                               // 371\n\t\t\t\t\t}                                                                                                              // 372\n\t\t\t\t}                                                                                                               // 373\n\t\t\t}                                                                                                                // 374\n\t\t},                                                                                                                // 375\n\t\tOpenWeatherMap: {                                                                                                 // 376\n\t\t\turl: 'http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png',                                         // 377\n\t\t\toptions: {                                                                                                       // 378\n\t\t\t\tmaxZoom: 19,                                                                                                    // 379\n\t\t\t\tattribution: 'Map data &copy; <a href=\"http://openweathermap.org\">OpenWeatherMap</a>',                          // 380\n\t\t\t\topacity: 0.5                                                                                                    // 381\n\t\t\t},                                                                                                               // 382\n\t\t\tvariants: {                                                                                                      // 383\n\t\t\t\tClouds: 'clouds',                                                                                               // 384\n\t\t\t\tCloudsClassic: 'clouds_cls',                                                                                    // 385\n\t\t\t\tPrecipitation: 'precipitation',                                                                                 // 386\n\t\t\t\tPrecipitationClassic: 'precipitation_cls',                                                                      // 387\n\t\t\t\tRain: 'rain',                                                                                                   // 388\n\t\t\t\tRainClassic: 'rain_cls',                                                                                        // 389\n\t\t\t\tPressure: 'pressure',                                                                                           // 390\n\t\t\t\tPressureContour: 'pressure_cntr',                                                                               // 391\n\t\t\t\tWind: 'wind',                                                                                                   // 392\n\t\t\t\tTemperature: 'temp',                                                                                            // 393\n\t\t\t\tSnow: 'snow'                                                                                                    // 394\n\t\t\t}                                                                                                                // 395\n\t\t},                                                                                                                // 396\n\t\tHERE: {                                                                                                           // 397\n\t\t\t/*                                                                                                               // 398\n\t\t\t * HERE maps, formerly Nokia maps.                                                                               // 399\n\t\t\t * These basemaps are free, but you need an API key. Please sign up at                                           // 400\n\t\t\t * http://developer.here.com/getting-started                                                                     // 401\n\t\t\t *                                                                                                               // 402\n\t\t\t * Note that the base urls contain '.cit' whichs is HERE's                                                       // 403\n\t\t\t * 'Customer Integration Testing' environment. Please remove for production                                      // 404\n\t\t\t * envirionments.                                                                                                // 405\n\t\t\t */                                                                                                              // 406\n\t\t\turl:                                                                                                             // 407\n\t\t\t\t'//{s}.{base}.maps.cit.api.here.com/maptile/2.1/' +                                                             // 408\n\t\t\t\t'maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?' +                                                             // 409\n\t\t\t\t'app_id={app_id}&app_code={app_code}',                                                                          // 410\n\t\t\toptions: {                                                                                                       // 411\n\t\t\t\tattribution:                                                                                                    // 412\n\t\t\t\t\t'Map &copy; 1987-2014 <a href=\"http://developer.here.com\">HERE</a>',                                           // 413\n\t\t\t\tsubdomains: '1234',                                                                                             // 414\n\t\t\t\tmapID: 'newest',                                                                                                // 415\n\t\t\t\t'app_id': '<insert your app_id here>',                                                                          // 416\n\t\t\t\t'app_code': '<insert your app_code here>',                                                                      // 417\n\t\t\t\tbase: 'base',                                                                                                   // 418\n\t\t\t\tvariant: 'normal.day',                                                                                          // 419\n\t\t\t\tmaxZoom: 20                                                                                                     // 420\n\t\t\t},                                                                                                               // 421\n\t\t\tvariants: {                                                                                                      // 422\n\t\t\t\tnormalDay: 'normal.day',                                                                                        // 423\n\t\t\t\tnormalDayCustom: 'normal.day.custom',                                                                           // 424\n\t\t\t\tnormalDayGrey: 'normal.day.grey',                                                                               // 425\n\t\t\t\tnormalDayMobile: 'normal.day.mobile',                                                                           // 426\n\t\t\t\tnormalDayGreyMobile: 'normal.day.grey.mobile',                                                                  // 427\n\t\t\t\tnormalDayTransit: 'normal.day.transit',                                                                         // 428\n\t\t\t\tnormalDayTransitMobile: 'normal.day.transit.mobile',                                                            // 429\n\t\t\t\tnormalNight: 'normal.night',                                                                                    // 430\n\t\t\t\tnormalNightMobile: 'normal.night.mobile',                                                                       // 431\n\t\t\t\tnormalNightGrey: 'normal.night.grey',                                                                           // 432\n\t\t\t\tnormalNightGreyMobile: 'normal.night.grey.mobile',                                                              // 433\n                                                                                                                    // 434\n\t\t\t\tcarnavDayGrey: 'carnav.day.grey',                                                                               // 435\n\t\t\t\thybridDay: {                                                                                                    // 436\n\t\t\t\t\toptions: {                                                                                                     // 437\n\t\t\t\t\t\tbase: 'aerial',                                                                                               // 438\n\t\t\t\t\t\tvariant: 'hybrid.day'                                                                                         // 439\n\t\t\t\t\t}                                                                                                              // 440\n\t\t\t\t},                                                                                                              // 441\n\t\t\t\thybridDayMobile: {                                                                                              // 442\n\t\t\t\t\toptions: {                                                                                                     // 443\n\t\t\t\t\t\tbase: 'aerial',                                                                                               // 444\n\t\t\t\t\t\tvariant: 'hybrid.day.mobile'                                                                                  // 445\n\t\t\t\t\t}                                                                                                              // 446\n\t\t\t\t},                                                                                                              // 447\n\t\t\t\tpedestrianDay: 'pedestrian.day',                                                                                // 448\n\t\t\t\tpedestrianNight: 'pedestrian.night',                                                                            // 449\n\t\t\t\tsatelliteDay: {                                                                                                 // 450\n\t\t\t\t\toptions: {                                                                                                     // 451\n\t\t\t\t\t\tbase: 'aerial',                                                                                               // 452\n\t\t\t\t\t\tvariant: 'satellite.day'                                                                                      // 453\n\t\t\t\t\t}                                                                                                              // 454\n\t\t\t\t},                                                                                                              // 455\n\t\t\t\tterrainDay: {                                                                                                   // 456\n\t\t\t\t\toptions: {                                                                                                     // 457\n\t\t\t\t\t\tbase: 'aerial',                                                                                               // 458\n\t\t\t\t\t\tvariant: 'terrain.day'                                                                                        // 459\n\t\t\t\t\t}                                                                                                              // 460\n\t\t\t\t},                                                                                                              // 461\n\t\t\t\tterrainDayMobile: {                                                                                             // 462\n\t\t\t\t\toptions: {                                                                                                     // 463\n\t\t\t\t\t\tbase: 'aerial',                                                                                               // 464\n\t\t\t\t\t\tvariant: 'terrain.day.mobile'                                                                                 // 465\n\t\t\t\t\t}                                                                                                              // 466\n\t\t\t\t}                                                                                                               // 467\n\t\t\t}                                                                                                                // 468\n\t\t},                                                                                                                // 469\n\t\tAcetate: {                                                                                                        // 470\n\t\t\turl: 'http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png',                                            // 471\n\t\t\toptions: {                                                                                                       // 472\n\t\t\t\tattribution:                                                                                                    // 473\n\t\t\t\t\t'&copy;2012 Esri & Stamen, Data from OSM and Natural Earth',                                                   // 474\n\t\t\t\tsubdomains: '0123',                                                                                             // 475\n\t\t\t\tminZoom: 2,                                                                                                     // 476\n\t\t\t\tmaxZoom: 18,                                                                                                    // 477\n\t\t\t\tvariant: 'acetate-base'                                                                                         // 478\n\t\t\t},                                                                                                               // 479\n\t\t\tvariants: {                                                                                                      // 480\n\t\t\t\tbasemap: 'acetate-base',                                                                                        // 481\n\t\t\t\tterrain: 'terrain',                                                                                             // 482\n\t\t\t\tall: 'acetate-hillshading',                                                                                     // 483\n\t\t\t\tforeground: 'acetate-fg',                                                                                       // 484\n\t\t\t\troads: 'acetate-roads',                                                                                         // 485\n\t\t\t\tlabels: 'acetate-labels',                                                                                       // 486\n\t\t\t\thillshading: 'hillshading'                                                                                      // 487\n\t\t\t}                                                                                                                // 488\n\t\t},                                                                                                                // 489\n\t\tFreeMapSK: {                                                                                                      // 490\n\t\t\turl: 'http://{s}.freemap.sk/T/{z}/{x}/{y}.jpeg',                                                                 // 491\n\t\t\toptions: {                                                                                                       // 492\n\t\t\t\tminZoom: 8,                                                                                                     // 493\n\t\t\t\tmaxZoom: 16,                                                                                                    // 494\n\t\t\t\tsubdomains: ['t1', 't2', 't3', 't4'],                                                                           // 495\n\t\t\t\tattribution:                                                                                                    // 496\n\t\t\t\t\t'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href=\"http://freemap.sk\">Freemap.sk</a>'           // 497\n\t\t\t}                                                                                                                // 498\n\t\t},                                                                                                                // 499\n\t\tMtbMap: {                                                                                                         // 500\n\t\t\turl: 'http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png',                                                       // 501\n\t\t\toptions: {                                                                                                       // 502\n\t\t\t\tattribution:                                                                                                    // 503\n\t\t\t\t\t'{attribution.OpenStreetMap} &amp; USGS'                                                                       // 504\n\t\t\t}                                                                                                                // 505\n\t\t},                                                                                                                // 506\n\t\tCartoDB: {                                                                                                        // 507\n\t\t\turl: 'http://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png',                                               // 508\n\t\t\toptions: {                                                                                                       // 509\n\t\t\t\tattribution: '{attribution.OpenStreetMap} &copy; <a href=\"http://cartodb.com/attributions\">CartoDB</a>',        // 510\n\t\t\t\tsubdomains: 'abcd',                                                                                             // 511\n\t\t\t\tmaxZoom: 19,                                                                                                    // 512\n\t\t\t\tvariant: 'light_all'                                                                                            // 513\n\t\t\t},                                                                                                               // 514\n\t\t\tvariants: {                                                                                                      // 515\n\t\t\t\tPositron: 'light_all',                                                                                          // 516\n\t\t\t\tPositronNoLabels: 'light_nolabels',                                                                             // 517\n\t\t\t\tDarkMatter: 'dark_all',                                                                                         // 518\n\t\t\t\tDarkMatterNoLabels: 'dark_nolabels'                                                                             // 519\n\t\t\t}                                                                                                                // 520\n\t\t},                                                                                                                // 521\n\t\tHikeBike: {                                                                                                       // 522\n\t\t\turl: 'http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png',                                                   // 523\n\t\t\toptions: {                                                                                                       // 524\n\t\t\t\tmaxZoom: 19,                                                                                                    // 525\n\t\t\t\tattribution: '{attribution.OpenStreetMap}',                                                                     // 526\n\t\t\t\tvariant: 'hikebike'                                                                                             // 527\n\t\t\t},                                                                                                               // 528\n\t\t\tvariants: {                                                                                                      // 529\n\t\t\t\tHikeBike: {},                                                                                                   // 530\n\t\t\t\tHillShading: {                                                                                                  // 531\n\t\t\t\t\toptions: {                                                                                                     // 532\n\t\t\t\t\t\tmaxZoom: 15,                                                                                                  // 533\n\t\t\t\t\t\tvariant: 'hillshading'                                                                                        // 534\n\t\t\t\t\t}                                                                                                              // 535\n\t\t\t\t}                                                                                                               // 536\n\t\t\t}                                                                                                                // 537\n\t\t},                                                                                                                // 538\n\t\tBasemapAT: {                                                                                                      // 539\n\t\t\turl: '//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}',                            // 540\n\t\t\toptions: {                                                                                                       // 541\n\t\t\t\tmaxZoom: 19,                                                                                                    // 542\n\t\t\t\tattribution: 'Datenquelle: <a href=\"www.basemap.at\">basemap.at</a>',                                            // 543\n\t\t\t\tsubdomains: ['', '1', '2', '3', '4'],                                                                           // 544\n\t\t\t\tformat: 'png',                                                                                                  // 545\n\t\t\t\tbounds: [[46.358770, 8.782379], [49.037872, 17.189532]],                                                        // 546\n\t\t\t\tvariant: 'geolandbasemap'                                                                                       // 547\n\t\t\t},                                                                                                               // 548\n\t\t\tvariants: {                                                                                                      // 549\n\t\t\t\tbasemap: 'geolandbasemap',                                                                                      // 550\n\t\t\t\tgrau: 'bmapgrau',                                                                                               // 551\n\t\t\t\toverlay: 'bmapoverlay',                                                                                         // 552\n\t\t\t\thighdpi: {                                                                                                      // 553\n\t\t\t\t\toptions: {                                                                                                     // 554\n\t\t\t\t\t\tvariant: 'bmaphidpi',                                                                                         // 555\n\t\t\t\t\t\tformat: 'jpeg'                                                                                                // 556\n\t\t\t\t\t}                                                                                                              // 557\n\t\t\t\t},                                                                                                              // 558\n\t\t\t\torthofoto: {                                                                                                    // 559\n\t\t\t\t\toptions: {                                                                                                     // 560\n\t\t\t\t\t\tvariant: 'bmaporthofoto30cm',                                                                                 // 561\n\t\t\t\t\t\tformat: 'jpeg'                                                                                                // 562\n\t\t\t\t\t}                                                                                                              // 563\n\t\t\t\t}                                                                                                               // 564\n\t\t\t}                                                                                                                // 565\n\t\t},                                                                                                                // 566\n\t\tNASAGIBS: {                                                                                                       // 567\n\t\t\turl: '//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}',\n\t\t\toptions: {                                                                                                       // 569\n\t\t\t\tattribution:                                                                                                    // 570\n\t\t\t\t\t'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System ' +\n\t\t\t\t\t'(<a href=\"https://earthdata.nasa.gov\">ESDIS</a>) with funding provided by NASA/HQ.',                          // 572\n\t\t\t\tbounds: [[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]],                                     // 573\n\t\t\t\tminZoom: 1,                                                                                                     // 574\n\t\t\t\tmaxZoom: 9,                                                                                                     // 575\n\t\t\t\tformat: 'jpg',                                                                                                  // 576\n\t\t\t\ttime: '',                                                                                                       // 577\n\t\t\t\ttilematrixset: 'GoogleMapsCompatible_Level'                                                                     // 578\n\t\t\t},                                                                                                               // 579\n\t\t\tvariants: {                                                                                                      // 580\n\t\t\t\tModisTerraTrueColorCR: 'MODIS_Terra_CorrectedReflectance_TrueColor',                                            // 581\n\t\t\t\tModisTerraBands367CR: 'MODIS_Terra_CorrectedReflectance_Bands367',                                              // 582\n\t\t\t\tViirsEarthAtNight2012: {                                                                                        // 583\n\t\t\t\t\toptions: {                                                                                                     // 584\n\t\t\t\t\t\tvariant: 'VIIRS_CityLights_2012',                                                                             // 585\n\t\t\t\t\t\tmaxZoom: 8                                                                                                    // 586\n\t\t\t\t\t}                                                                                                              // 587\n\t\t\t\t},                                                                                                              // 588\n\t\t\t\tModisTerraLSTDay: {                                                                                             // 589\n\t\t\t\t\toptions: {                                                                                                     // 590\n\t\t\t\t\t\tvariant: 'MODIS_Terra_Land_Surface_Temp_Day',                                                                 // 591\n\t\t\t\t\t\tformat: 'png',                                                                                                // 592\n\t\t\t\t\t\tmaxZoom: 7,                                                                                                   // 593\n\t\t\t\t\t\topacity: 0.75                                                                                                 // 594\n\t\t\t\t\t}                                                                                                              // 595\n\t\t\t\t},                                                                                                              // 596\n\t\t\t\tModisTerraSnowCover: {                                                                                          // 597\n\t\t\t\t\toptions: {                                                                                                     // 598\n\t\t\t\t\t\tvariant: 'MODIS_Terra_Snow_Cover',                                                                            // 599\n\t\t\t\t\t\tformat: 'png',                                                                                                // 600\n\t\t\t\t\t\tmaxZoom: 8,                                                                                                   // 601\n\t\t\t\t\t\topacity: 0.75                                                                                                 // 602\n\t\t\t\t\t}                                                                                                              // 603\n\t\t\t\t},                                                                                                              // 604\n\t\t\t\tModisTerraAOD: {                                                                                                // 605\n\t\t\t\t\toptions: {                                                                                                     // 606\n\t\t\t\t\t\tvariant: 'MODIS_Terra_Aerosol',                                                                               // 607\n\t\t\t\t\t\tformat: 'png',                                                                                                // 608\n\t\t\t\t\t\tmaxZoom: 6,                                                                                                   // 609\n\t\t\t\t\t\topacity: 0.75                                                                                                 // 610\n\t\t\t\t\t}                                                                                                              // 611\n\t\t\t\t},                                                                                                              // 612\n\t\t\t\tModisTerraChlorophyll: {                                                                                        // 613\n\t\t\t\t\toptions: {                                                                                                     // 614\n\t\t\t\t\t\tvariant: 'MODIS_Terra_Chlorophyll_A',                                                                         // 615\n\t\t\t\t\t\tformat: 'png',                                                                                                // 616\n\t\t\t\t\t\tmaxZoom: 7,                                                                                                   // 617\n\t\t\t\t\t\topacity: 0.75                                                                                                 // 618\n\t\t\t\t\t}                                                                                                              // 619\n\t\t\t\t}                                                                                                               // 620\n\t\t\t}                                                                                                                // 621\n\t\t}                                                                                                                 // 622\n\t};                                                                                                                 // 623\n                                                                                                                    // 624\n\tL.tileLayer.provider = function (provider, options) {                                                              // 625\n\t\treturn new L.TileLayer.Provider(provider, options);                                                               // 626\n\t};                                                                                                                 // 627\n                                                                                                                    // 628\n\treturn L;                                                                                                          // 629\n}));                                                                                                                // 630\n                                                                                                                    // 631\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/bevanhunt:leaflet/.npm/package/node_modules/leaflet.markercluster/dist/leaflet.markercluster.js         //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n/*                                                                                                                  // 1\n Leaflet.markercluster, Provides Beautiful Animated Marker Clustering functionality for Leaflet, a JS library for interactive maps.\n https://github.com/Leaflet/Leaflet.markercluster                                                                   // 3\n (c) 2012-2013, Dave Leaver, smartrak                                                                               // 4\n*/                                                                                                                  // 5\n!function(t,e){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var n=t,s=this._map.getZoom();if(t.__parent)for(;n.__parent._zoom>=s;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,n):this._animationAddLayerNonAnimated(t,n)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,i,n,s=this._map,r=this._featureGroup,o=this._nonPointGroup;for(e=0,i=t.length;i>e;e++)if(n=t[e],n.getLatLng){if(!this.hasLayer(n))if(s){if(this._addLayer(n,this._maxZoom),n.__parent&&2===n.__parent.getChildCount()){var a=n.__parent.getAllChildMarkers(),h=a[0]===n?a[1]:a[0];r.removeLayer(h)}}else this._needsClustering.push(n)}else o.addLayer(n);return s&&(r.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)),this},removeLayers:function(t){var e,i,n,s=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,i=t.length;i>e;e++)n=t[e],this._arraySplice(this._needsClustering,n),r.removeLayer(n);return this}for(e=0,i=t.length;i>e;e++)n=t[e],n.__parent?(this._removeLayer(n,!0,!0),s.hasLayer(n)&&(s.removeLayer(n),n.setOpacity&&n.setOpacity(1))):r.removeLayer(n);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),s.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;if(this._topClusterLevel)t.extend(this._topClusterLevel._bounds);else for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)t.call(e,n[i]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var i=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off(\"moveend\",i,this),this.off(\"animationend\",i,this),t._icon)e();else if(t.__parent._icon){var n=function(){this.off(\"spiderfied\",n,this),e()};this.on(\"spiderfied\",n,this),t.__parent.spiderfy()}};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<this._map.getZoom()?(this._map.on(\"moveend\",i,this),this._map.panTo(t.getLatLng())):(this._map.on(\"moveend\",i,this),this.on(\"animationend\",i,this),this._map.setView(t.getLatLng(),t.__parent._zoom+1),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw\"Map has no maxZoom specified\";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);for(this._needsRemoving=[],e=0,i=this._needsClustering.length;i>e;e++)n=this._needsClustering[e],n.getLatLng?n.__parent||this._addLayer(n,this._maxZoom):this._featureGroup.addLayer(n);this._needsClustering=[],this._map.on(\"zoomend\",this._zoomEnd,this),this._map.on(\"moveend\",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(t){t.off(\"zoomend\",this._zoomEnd,this),t.off(\"moveend\",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\"),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeLayer:function(t,e,i){var n=this._gridClusters,s=this._gridUnclustered,r=this._featureGroup,o=this._map;if(e)for(var a=this._maxZoom;a>=0&&s[a].removeObject(t,o.project(t.getLatLng(),a));a--);var h,_=t.__parent,u=_._markers;for(this._arraySplice(u,t);_&&(_._childCount--,!(_._zoom<0));)e&&_._childCount<=1?(h=_._markers[0]===t?_._markers[1]:_._markers[0],n[_._zoom].removeObject(_,o.project(_._cLatLng,_._zoom)),s[_._zoom].addObject(h,o.project(h.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(h),h.__parent=_.__parent,_._icon&&(r.removeLayer(_),i||r.addLayer(h))):(_._recalculateBounds(),i&&_._icon||_._updateIcon()),_=_.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type=\"cluster\"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=\" marker-cluster-\";return i+=10>e?\"small\":100>e?\"medium\":\"large\",new L.DivIcon({html:\"<div><span>\"+e+\"</span></div>\",className:\"marker-cluster\"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on(\"clusterclick\",this._zoomOrSpiderfy,this),i&&(this.on(\"clustermouseover\",this._showCoverage,this),this.on(\"clustermouseout\",this._hideCoverage,this),t.on(\"zoomend\",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off(\"clusterclick\",this._zoomOrSpiderfy,this),e&&(this.off(\"clustermouseover\",this._showCoverage,this),this.off(\"clustermouseout\",this._hideCoverage,this),n.off(\"zoomend\",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var i=t;i>=0;i--)this._gridClusters[i]=new L.DistanceGrid(e),this._gridUnclustered[i]=new L.DistanceGrid(e);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var i,n,s=this._gridClusters,r=this._gridUnclustered;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){i=this._map.project(t.getLatLng(),e);var o=s[e].getNearObject(i);if(o)return o._addChild(t),t.__parent=o,void 0;if(o=r[e].getNearObject(i)){var a=o.__parent;a&&this._removeLayer(o,!1);var h=new L.MarkerCluster(this,e,o,t);s[e].addObject(h,this._map.project(h._cLatLng,e)),o.__parent=h,t.__parent=h;var _=h;for(n=e-1;n>a._zoom;n--)_=new L.MarkerCluster(this,n,_),s[n].addObject(_,this._map.project(o.getLatLng(),n));for(a._addChild(_),n=e;n>=0&&r[n].removeObject(o,this._map.project(o.getLatLng(),n));n--);return}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var t=this._map,e=t.getBounds(),i=e._southWest,n=e._northEast,s=L.Browser.mobile?0:Math.abs(i.lat-n.lat),r=L.Browser.mobile?0:Math.abs(i.lng-n.lng);return new L.LatLngBounds(new L.LatLng(i.lat-s,i.lng-r,!0),new L.LatLng(n.lat+s,n.lng+r,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=\" leaflet-cluster-anim\",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\")),this._inZoomAnimation--,this.fire(\"animationend\")},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),s=this._featureGroup;this._topClusterLevel._recursively(n,t,0,function(r){var o,a=r._latlng,h=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(s.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.setOpacity(0),r._recursivelyAddChildrenToMap(a,e,n)),i=h.length-1;i>=0;i--)o=h[i],n.contains(o._latlng)||s.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),s.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(n,t,0,function(t){s.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var s=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];r.setLatLng(r.getLatLng()),r.setOpacity(1)}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});s._animationEnd()})},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){n.removeLayer(t),t.setOpacity(1),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),s=this._zoom+1,r=i.getZoom();e.length>0&&n>s;){s++;var o=[];for(t=0;t<e.length;t++)o=o.concat(e[t]._childClusters);e=o}n>s?this._group._map.setView(this._latlng,s):r>=n?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,i=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(i),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||i);var n=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(i.lat*e+this._wLatLng.lat*this._childCount)/n,this._wLatLng.lng=(i.lng*e+this._wLatLng.lng*this._childCount)/n):this._latlng=this._wLatLng=new L.LatLng(i.lat,i.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i,n,s=t._markers;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))},function(t){var i,n,s=t._childClusters;for(i=s.length-1;i>=0;i--)n=s[i],n._icon&&(n._setPos(e),n.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.setOpacity(1),n._recursivelyRemoveChildrenFromMap(t,e)):n.setOpacity(0),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var s=n._markers.length-1;s>=0;s--){var r=n._markers[s];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.setOpacity&&r.setOpacity(0)),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,s;this._recursively(t,-1,e-1,function(t){for(s=t._markers.length-1;s>=0;s--)n=t._markers[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))},function(t){for(s=t._childClusters.length-1;s>=0;s--)n=t._childClusters[s],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.setOpacity&&n.setOpacity(1))})},_recursively:function(t,e,i,n,s){var r,o,a=this._childClusters,h=this._zoom;if(e>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s);else if(n&&n(this),s&&this._zoom===i&&s(this),i>h)for(r=a.length-1;r>=0;r--)o=a[r],t.intersects(o._bounds)&&o._recursively(t,e,i,n,s)},_recalculateBounds:function(){var t,e=this._markers,i=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,t=e.length-1;t>=0;t--)this._expandBounds(e[t]);for(t=i.length-1;t>=0;t--)this._expandBounds(i[t])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),s=this._grid,r=s[n]=s[n]||{},o=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,o.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,s=this._getCoord(e.x),r=this._getCoord(e.y),o=this._grid,a=o[r]=o[r]||{},h=a[s]=a[s]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=h.length;n>i;i++)if(h[i]===t)return h.splice(i,1),1===n&&delete a[s],!0},eachObject:function(t,e){var i,n,s,r,o,a,h,_=this._grid;for(i in _){o=_[i];for(n in o)for(a=o[n],s=0,r=a.length;r>s;s++)h=t.call(e,a[s]),h&&(s--,r--)}},getNearObject:function(t){var e,i,n,s,r,o,a,h,_=this._getCoord(t.x),u=this._getCoord(t.y),l=this._objectPoint,d=this._sqCellSize,p=null;for(e=u-1;u+1>=e;e++)if(s=this._grid[e])for(i=_-1;_+1>=i;i++)if(r=s[i])for(n=0,o=r.length;o>n;n++)a=r[n],h=this._sqDist(l[L.Util.stamp(a)],t),d>h&&(d=h,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,s,r=0,o=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],s=this.getDistant(n,t),s>0&&(a.push(n),s>r&&(r=s,o=n));return{maxPoint:o,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,s=null,r=null;for(e=t.length-1;e>=0;e--){var o=t[e];(i===!1||o.lat>i)&&(s=o,i=o.lat),(n===!1||o.lat<n)&&(r=o,n=o.lat)}var a=[].concat(this.buildConvexHull([r,s],t),this.buildConvexHull([s,r],t));return a}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,s=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,s):(s.y+=10,t=this._generatePointsCircle(e.length,s)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=s/this._2PI,o=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*o,a[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,s=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,r=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,o=0,a=[];for(a.length=t,i=t-1;i>=0;i--)o+=s/n+5e-4*i,a[i]=new L.Point(e.x+n*Math.cos(o),e.y+n*Math.sin(o))._round(),n+=this._2PI*r/o;return a},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,s=i._featureGroup,r=this.getAllChildMarkers();for(this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],s.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS(\"http://www.w3.org/2000/svg\",\"animate\").toString().indexOf(\"SVGAnimate\")>-1}(),_animationSpiderfy:function(t,i){var n,s,r,o,a=this,h=this._group,_=h._map,u=h._featureGroup,l=_.latLngToLayerPoint(this._latlng);for(n=t.length-1;n>=0;n--)s=t[n],s.setOpacity?(s.setZIndexOffset(1e6),s.setOpacity(0),u.addLayer(s),s._setPos(l)):u.addLayer(s);h._forceLayout(),h._animationStart();var d=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(n=t.length-1;n>=0;n--)if(o=_.layerPointToLatLng(i[n]),s=t[n],s._preSpiderfyLatlng=s._latlng,s.setLatLng(o),s.setOpacity&&s.setOpacity(1),r=new L.Polyline([a._latlng,o],{weight:1.5,color:\"#222\",opacity:d}),_.addLayer(r),s._spiderLeg=r,L.Path.SVG&&this.SVG_ANIMATION){var c=r._path.getTotalLength();r._path.setAttribute(\"stroke-dasharray\",c+\",\"+c);var m=e.createElementNS(p,\"animate\");m.setAttribute(\"attributeName\",\"stroke-dashoffset\"),m.setAttribute(\"begin\",\"indefinite\"),m.setAttribute(\"from\",c),m.setAttribute(\"to\",0),m.setAttribute(\"dur\",.25),r._path.appendChild(m),m.beginElement(),m=e.createElementNS(p,\"animate\"),m.setAttribute(\"attributeName\",\"stroke-opacity\"),m.setAttribute(\"attributeName\",\"stroke-opacity\"),m.setAttribute(\"begin\",\"indefinite\"),m.setAttribute(\"from\",0),m.setAttribute(\"to\",.5),m.setAttribute(\"dur\",.25),r._path.appendChild(m),m.beginElement()}if(a.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),n=t.length-1;n>=0;n--)s=t[n]._spiderLeg,s.options.opacity=.5,s._path.setAttribute(\"stroke-opacity\",.5);setTimeout(function(){h._animationEnd(),h.fire(\"spiderfied\")},200)},_animationUnspiderfy:function(t){var e,i,n,s=this._group,r=s._map,o=s._featureGroup,a=t?r._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):r.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(),_=L.Path.SVG&&this.SVG_ANIMATION;for(s._animationStart(),this.setOpacity(1),i=h.length-1;i>=0;i--)e=h[i],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(a),e.setOpacity(0)):o.removeLayer(e),_&&(n=e._spiderLeg._path.childNodes[0],n.setAttribute(\"to\",n.getAttribute(\"from\")),n.setAttribute(\"from\",0),n.beginElement(),n=e._spiderLeg._path.childNodes[1],n.setAttribute(\"from\",.5),n.setAttribute(\"to\",0),n.setAttribute(\"stroke-opacity\",0),n.beginElement(),e._spiderLeg._path.setAttribute(\"stroke-opacity\",0)));setTimeout(function(){var t=0;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&t++;for(i=h.length-1;i>=0;i--)e=h[i],e._spiderLeg&&(e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&o.removeLayer(e),r.removeLayer(e._spiderLeg),delete e._spiderLeg);s._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var i,n,s,r,o=this._group,a=o._map,h=o._featureGroup;for(i=t.length-1;i>=0;i--)r=a.layerPointToLatLng(e[i]),n=t[i],n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),h.addLayer(n),s=new L.Polyline([this._latlng,r],{weight:1.5,color:\"#222\"}),a.addLayer(s),n._spiderLeg=s;this.setOpacity(.3),o.fire(\"spiderfied\")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on(\"click\",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.on(\"zoomend\",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off(\"click\",this._unspiderfyWrapper,this),this._map.off(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on(\"zoomanim\",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,\"leaflet-touching\")||(this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document);\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/bevanhunt:leaflet/.npm/package/node_modules/spin.js/spin.js                                             //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n/**                                                                                                                 // 1\n * Copyright (c) 2011-2014 Felix Gnass                                                                              // 2\n * Licensed under the MIT license                                                                                   // 3\n * http://spin.js.org/                                                                                              // 4\n *                                                                                                                  // 5\n * Example:                                                                                                         // 6\n    var opts = {                                                                                                    // 7\n      lines: 12             // The number of lines to draw                                                          // 8\n    , length: 7             // The length of each line                                                              // 9\n    , width: 5              // The line thickness                                                                   // 10\n    , radius: 10            // The radius of the inner circle                                                       // 11\n    , scale: 1.0            // Scales overall size of the spinner                                                   // 12\n    , corners: 1            // Roundness (0..1)                                                                     // 13\n    , color: '#000'         // #rgb or #rrggbb                                                                      // 14\n    , opacity: 1/4          // Opacity of the lines                                                                 // 15\n    , rotate: 0             // Rotation offset                                                                      // 16\n    , direction: 1          // 1: clockwise, -1: counterclockwise                                                   // 17\n    , speed: 1              // Rounds per second                                                                    // 18\n    , trail: 100            // Afterglow percentage                                                                 // 19\n    , fps: 20               // Frames per second when using setTimeout()                                            // 20\n    , zIndex: 2e9           // Use a high z-index by default                                                        // 21\n    , className: 'spinner'  // CSS class to assign to the element                                                   // 22\n    , top: '50%'            // center vertically                                                                    // 23\n    , left: '50%'           // center horizontally                                                                  // 24\n    , shadow: false         // Whether to render a shadow                                                           // 25\n    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)                                // 26\n    , position: 'absolute'  // Element positioning                                                                  // 27\n    }                                                                                                               // 28\n    var target = document.getElementById('foo')                                                                     // 29\n    var spinner = new Spinner(opts).spin(target)                                                                    // 30\n */                                                                                                                 // 31\n;(function (root, factory) {                                                                                        // 32\n                                                                                                                    // 33\n  /* CommonJS */                                                                                                    // 34\n  if (typeof exports == 'object') module.exports = factory()                                                        // 35\n                                                                                                                    // 36\n  /* AMD module */                                                                                                  // 37\n  else if (typeof define == 'function' && define.amd) define(factory)                                               // 38\n                                                                                                                    // 39\n  /* Browser global */                                                                                              // 40\n  else root.Spinner = factory()                                                                                     // 41\n}(this, function () {                                                                                               // 42\n  \"use strict\"                                                                                                      // 43\n                                                                                                                    // 44\n  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */                                                 // 45\n    , animations = {} /* Animation rules keyed by their name */                                                     // 46\n    , useCssAnimations /* Whether to use CSS animations or setTimeout */                                            // 47\n    , sheet /* A stylesheet to hold the @keyframe or VML rules. */                                                  // 48\n                                                                                                                    // 49\n  /**                                                                                                               // 50\n   * Utility function to create elements. If no tag name is given,                                                  // 51\n   * a DIV is created. Optionally properties can be passed.                                                         // 52\n   */                                                                                                               // 53\n  function createEl (tag, prop) {                                                                                   // 54\n    var el = document.createElement(tag || 'div')                                                                   // 55\n      , n                                                                                                           // 56\n                                                                                                                    // 57\n    for (n in prop) el[n] = prop[n]                                                                                 // 58\n    return el                                                                                                       // 59\n  }                                                                                                                 // 60\n                                                                                                                    // 61\n  /**                                                                                                               // 62\n   * Appends children and returns the parent.                                                                       // 63\n   */                                                                                                               // 64\n  function ins (parent /* child1, child2, ...*/) {                                                                  // 65\n    for (var i = 1, n = arguments.length; i < n; i++) {                                                             // 66\n      parent.appendChild(arguments[i])                                                                              // 67\n    }                                                                                                               // 68\n                                                                                                                    // 69\n    return parent                                                                                                   // 70\n  }                                                                                                                 // 71\n                                                                                                                    // 72\n  /**                                                                                                               // 73\n   * Creates an opacity keyframe animation rule and returns its name.                                               // 74\n   * Since most mobile Webkits have timing issues with animation-delay,                                             // 75\n   * we create separate rules for each line/segment.                                                                // 76\n   */                                                                                                               // 77\n  function addAnimation (alpha, trail, i, lines) {                                                                  // 78\n    var name = ['opacity', trail, ~~(alpha * 100), i, lines].join('-')                                              // 79\n      , start = 0.01 + i/lines * 100                                                                                // 80\n      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)                                                    // 81\n      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()                 // 82\n      , pre = prefix && '-' + prefix + '-' || ''                                                                    // 83\n                                                                                                                    // 84\n    if (!animations[name]) {                                                                                        // 85\n      sheet.insertRule(                                                                                             // 86\n        '@' + pre + 'keyframes ' + name + '{' +                                                                     // 87\n        '0%{opacity:' + z + '}' +                                                                                   // 88\n        start + '%{opacity:' + alpha + '}' +                                                                        // 89\n        (start+0.01) + '%{opacity:1}' +                                                                             // 90\n        (start+trail) % 100 + '%{opacity:' + alpha + '}' +                                                          // 91\n        '100%{opacity:' + z + '}' +                                                                                 // 92\n        '}', sheet.cssRules.length)                                                                                 // 93\n                                                                                                                    // 94\n      animations[name] = 1                                                                                          // 95\n    }                                                                                                               // 96\n                                                                                                                    // 97\n    return name                                                                                                     // 98\n  }                                                                                                                 // 99\n                                                                                                                    // 100\n  /**                                                                                                               // 101\n   * Tries various vendor prefixes and returns the first supported property.                                        // 102\n   */                                                                                                               // 103\n  function vendor (el, prop) {                                                                                      // 104\n    var s = el.style                                                                                                // 105\n      , pp                                                                                                          // 106\n      , i                                                                                                           // 107\n                                                                                                                    // 108\n    prop = prop.charAt(0).toUpperCase() + prop.slice(1)                                                             // 109\n    if (s[prop] !== undefined) return prop                                                                          // 110\n    for (i = 0; i < prefixes.length; i++) {                                                                         // 111\n      pp = prefixes[i]+prop                                                                                         // 112\n      if (s[pp] !== undefined) return pp                                                                            // 113\n    }                                                                                                               // 114\n  }                                                                                                                 // 115\n                                                                                                                    // 116\n  /**                                                                                                               // 117\n   * Sets multiple style properties at once.                                                                        // 118\n   */                                                                                                               // 119\n  function css (el, prop) {                                                                                         // 120\n    for (var n in prop) {                                                                                           // 121\n      el.style[vendor(el, n) || n] = prop[n]                                                                        // 122\n    }                                                                                                               // 123\n                                                                                                                    // 124\n    return el                                                                                                       // 125\n  }                                                                                                                 // 126\n                                                                                                                    // 127\n  /**                                                                                                               // 128\n   * Fills in default values.                                                                                       // 129\n   */                                                                                                               // 130\n  function merge (obj) {                                                                                            // 131\n    for (var i = 1; i < arguments.length; i++) {                                                                    // 132\n      var def = arguments[i]                                                                                        // 133\n      for (var n in def) {                                                                                          // 134\n        if (obj[n] === undefined) obj[n] = def[n]                                                                   // 135\n      }                                                                                                             // 136\n    }                                                                                                               // 137\n    return obj                                                                                                      // 138\n  }                                                                                                                 // 139\n                                                                                                                    // 140\n  /**                                                                                                               // 141\n   * Returns the line color from the given string or array.                                                         // 142\n   */                                                                                                               // 143\n  function getColor (color, idx) {                                                                                  // 144\n    return typeof color == 'string' ? color : color[idx % color.length]                                             // 145\n  }                                                                                                                 // 146\n                                                                                                                    // 147\n  // Built-in defaults                                                                                              // 148\n                                                                                                                    // 149\n  var defaults = {                                                                                                  // 150\n    lines: 12             // The number of lines to draw                                                            // 151\n  , length: 7             // The length of each line                                                                // 152\n  , width: 5              // The line thickness                                                                     // 153\n  , radius: 10            // The radius of the inner circle                                                         // 154\n  , scale: 1.0            // Scales overall size of the spinner                                                     // 155\n  , corners: 1            // Roundness (0..1)                                                                       // 156\n  , color: '#000'         // #rgb or #rrggbb                                                                        // 157\n  , opacity: 1/4          // Opacity of the lines                                                                   // 158\n  , rotate: 0             // Rotation offset                                                                        // 159\n  , direction: 1          // 1: clockwise, -1: counterclockwise                                                     // 160\n  , speed: 1              // Rounds per second                                                                      // 161\n  , trail: 100            // Afterglow percentage                                                                   // 162\n  , fps: 20               // Frames per second when using setTimeout()                                              // 163\n  , zIndex: 2e9           // Use a high z-index by default                                                          // 164\n  , className: 'spinner'  // CSS class to assign to the element                                                     // 165\n  , top: '50%'            // center vertically                                                                      // 166\n  , left: '50%'           // center horizontally                                                                    // 167\n  , shadow: false         // Whether to render a shadow                                                             // 168\n  , hwaccel: false        // Whether to use hardware acceleration (might be buggy)                                  // 169\n  , position: 'absolute'  // Element positioning                                                                    // 170\n  }                                                                                                                 // 171\n                                                                                                                    // 172\n  /** The constructor */                                                                                            // 173\n  function Spinner (o) {                                                                                            // 174\n    this.opts = merge(o || {}, Spinner.defaults, defaults)                                                          // 175\n  }                                                                                                                 // 176\n                                                                                                                    // 177\n  // Global defaults that override the built-ins:                                                                   // 178\n  Spinner.defaults = {}                                                                                             // 179\n                                                                                                                    // 180\n  merge(Spinner.prototype, {                                                                                        // 181\n    /**                                                                                                             // 182\n     * Adds the spinner to the given target element. If this instance is already                                    // 183\n     * spinning, it is automatically removed from its previous target b calling                                     // 184\n     * stop() internally.                                                                                           // 185\n     */                                                                                                             // 186\n    spin: function (target) {                                                                                       // 187\n      this.stop()                                                                                                   // 188\n                                                                                                                    // 189\n      var self = this                                                                                               // 190\n        , o = self.opts                                                                                             // 191\n        , el = self.el = createEl(null, {className: o.className})                                                   // 192\n                                                                                                                    // 193\n      css(el, {                                                                                                     // 194\n        position: o.position                                                                                        // 195\n      , width: 0                                                                                                    // 196\n      , zIndex: o.zIndex                                                                                            // 197\n      , left: o.left                                                                                                // 198\n      , top: o.top                                                                                                  // 199\n      })                                                                                                            // 200\n                                                                                                                    // 201\n      if (target) {                                                                                                 // 202\n        target.insertBefore(el, target.firstChild || null)                                                          // 203\n      }                                                                                                             // 204\n                                                                                                                    // 205\n      el.setAttribute('role', 'progressbar')                                                                        // 206\n      self.lines(el, self.opts)                                                                                     // 207\n                                                                                                                    // 208\n      if (!useCssAnimations) {                                                                                      // 209\n        // No CSS animation support, use setTimeout() instead                                                       // 210\n        var i = 0                                                                                                   // 211\n          , start = (o.lines - 1) * (1 - o.direction) / 2                                                           // 212\n          , alpha                                                                                                   // 213\n          , fps = o.fps                                                                                             // 214\n          , f = fps / o.speed                                                                                       // 215\n          , ostep = (1 - o.opacity) / (f * o.trail / 100)                                                           // 216\n          , astep = f / o.lines                                                                                     // 217\n                                                                                                                    // 218\n        ;(function anim () {                                                                                        // 219\n          i++                                                                                                       // 220\n          for (var j = 0; j < o.lines; j++) {                                                                       // 221\n            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)                                // 222\n                                                                                                                    // 223\n            self.opacity(el, j * o.direction + start, alpha, o)                                                     // 224\n          }                                                                                                         // 225\n          self.timeout = self.el && setTimeout(anim, ~~(1000 / fps))                                                // 226\n        })()                                                                                                        // 227\n      }                                                                                                             // 228\n      return self                                                                                                   // 229\n    }                                                                                                               // 230\n                                                                                                                    // 231\n    /**                                                                                                             // 232\n     * Stops and removes the Spinner.                                                                               // 233\n     */                                                                                                             // 234\n  , stop: function () {                                                                                             // 235\n      var el = this.el                                                                                              // 236\n      if (el) {                                                                                                     // 237\n        clearTimeout(this.timeout)                                                                                  // 238\n        if (el.parentNode) el.parentNode.removeChild(el)                                                            // 239\n        this.el = undefined                                                                                         // 240\n      }                                                                                                             // 241\n      return this                                                                                                   // 242\n    }                                                                                                               // 243\n                                                                                                                    // 244\n    /**                                                                                                             // 245\n     * Internal method that draws the individual lines. Will be overwritten                                         // 246\n     * in VML fallback mode below.                                                                                  // 247\n     */                                                                                                             // 248\n  , lines: function (el, o) {                                                                                       // 249\n      var i = 0                                                                                                     // 250\n        , start = (o.lines - 1) * (1 - o.direction) / 2                                                             // 251\n        , seg                                                                                                       // 252\n                                                                                                                    // 253\n      function fill (color, shadow) {                                                                               // 254\n        return css(createEl(), {                                                                                    // 255\n          position: 'absolute'                                                                                      // 256\n        , width: o.scale * (o.length + o.width) + 'px'                                                              // 257\n        , height: o.scale * o.width + 'px'                                                                          // 258\n        , background: color                                                                                         // 259\n        , boxShadow: shadow                                                                                         // 260\n        , transformOrigin: 'left'                                                                                   // 261\n        , transform: 'rotate(' + ~~(360/o.lines*i + o.rotate) + 'deg) translate(' + o.scale*o.radius + 'px' + ',0)' // 262\n        , borderRadius: (o.corners * o.scale * o.width >> 1) + 'px'                                                 // 263\n        })                                                                                                          // 264\n      }                                                                                                             // 265\n                                                                                                                    // 266\n      for (; i < o.lines; i++) {                                                                                    // 267\n        seg = css(createEl(), {                                                                                     // 268\n          position: 'absolute'                                                                                      // 269\n        , top: 1 + ~(o.scale * o.width / 2) + 'px'                                                                  // 270\n        , transform: o.hwaccel ? 'translate3d(0,0,0)' : ''                                                          // 271\n        , opacity: o.opacity                                                                                        // 272\n        , animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1 / o.speed + 's linear infinite'\n        })                                                                                                          // 274\n                                                                                                                    // 275\n        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px #000'), {top: '2px'}))                                     // 276\n        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))                                     // 277\n      }                                                                                                             // 278\n      return el                                                                                                     // 279\n    }                                                                                                               // 280\n                                                                                                                    // 281\n    /**                                                                                                             // 282\n     * Internal method that adjusts the opacity of a single line.                                                   // 283\n     * Will be overwritten in VML fallback mode below.                                                              // 284\n     */                                                                                                             // 285\n  , opacity: function (el, i, val) {                                                                                // 286\n      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val                                            // 287\n    }                                                                                                               // 288\n                                                                                                                    // 289\n  })                                                                                                                // 290\n                                                                                                                    // 291\n                                                                                                                    // 292\n  function initVML () {                                                                                             // 293\n                                                                                                                    // 294\n    /* Utility function to create a VML tag */                                                                      // 295\n    function vml (tag, attr) {                                                                                      // 296\n      return createEl('<' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">', attr)                 // 297\n    }                                                                                                               // 298\n                                                                                                                    // 299\n    // No CSS transforms but VML support, add a CSS rule for VML elements:                                          // 300\n    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')                                                        // 301\n                                                                                                                    // 302\n    Spinner.prototype.lines = function (el, o) {                                                                    // 303\n      var r = o.scale * (o.length + o.width)                                                                        // 304\n        , s = o.scale * 2 * r                                                                                       // 305\n                                                                                                                    // 306\n      function grp () {                                                                                             // 307\n        return css(                                                                                                 // 308\n          vml('group', {                                                                                            // 309\n            coordsize: s + ' ' + s                                                                                  // 310\n          , coordorigin: -r + ' ' + -r                                                                              // 311\n          })                                                                                                        // 312\n        , { width: s, height: s }                                                                                   // 313\n        )                                                                                                           // 314\n      }                                                                                                             // 315\n                                                                                                                    // 316\n      var margin = -(o.width + o.length) * o.scale * 2 + 'px'                                                       // 317\n        , g = css(grp(), {position: 'absolute', top: margin, left: margin})                                         // 318\n        , i                                                                                                         // 319\n                                                                                                                    // 320\n      function seg (i, dx, filter) {                                                                                // 321\n        ins(                                                                                                        // 322\n          g                                                                                                         // 323\n        , ins(                                                                                                      // 324\n            css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx})                                           // 325\n          , ins(                                                                                                    // 326\n              css(                                                                                                  // 327\n                vml('roundrect', {arcsize: o.corners})                                                              // 328\n              , { width: r                                                                                          // 329\n                , height: o.scale * o.width                                                                         // 330\n                , left: o.scale * o.radius                                                                          // 331\n                , top: -o.scale * o.width >> 1                                                                      // 332\n                , filter: filter                                                                                    // 333\n                }                                                                                                   // 334\n              )                                                                                                     // 335\n            , vml('fill', {color: getColor(o.color, i), opacity: o.opacity})                                        // 336\n            , vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change           // 337\n            )                                                                                                       // 338\n          )                                                                                                         // 339\n        )                                                                                                           // 340\n      }                                                                                                             // 341\n                                                                                                                    // 342\n      if (o.shadow)                                                                                                 // 343\n        for (i = 1; i <= o.lines; i++) {                                                                            // 344\n          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')         // 345\n        }                                                                                                           // 346\n                                                                                                                    // 347\n      for (i = 1; i <= o.lines; i++) seg(i)                                                                         // 348\n      return ins(el, g)                                                                                             // 349\n    }                                                                                                               // 350\n                                                                                                                    // 351\n    Spinner.prototype.opacity = function (el, i, val, o) {                                                          // 352\n      var c = el.firstChild                                                                                         // 353\n      o = o.shadow && o.lines || 0                                                                                  // 354\n      if (c && i + o < c.childNodes.length) {                                                                       // 355\n        c = c.childNodes[i + o]; c = c && c.firstChild; c = c && c.firstChild                                       // 356\n        if (c) c.opacity = val                                                                                      // 357\n      }                                                                                                             // 358\n    }                                                                                                               // 359\n  }                                                                                                                 // 360\n                                                                                                                    // 361\n  if (typeof document !== 'undefined') {                                                                            // 362\n    sheet = (function () {                                                                                          // 363\n      var el = createEl('style', {type : 'text/css'})                                                               // 364\n      ins(document.getElementsByTagName('head')[0], el)                                                             // 365\n      return el.sheet || el.styleSheet                                                                              // 366\n    }())                                                                                                            // 367\n                                                                                                                    // 368\n    var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})                                             // 369\n                                                                                                                    // 370\n    if (!vendor(probe, 'transform') && probe.adj) initVML()                                                         // 371\n    else useCssAnimations = vendor(probe, 'animation')                                                              // 372\n  }                                                                                                                 // 373\n                                                                                                                    // 374\n  return Spinner                                                                                                    // 375\n                                                                                                                    // 376\n}));                                                                                                                // 377\n                                                                                                                    // 378\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/bevanhunt:leaflet/lib/leaflet_spin.js                                                                   //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nL.SpinMapMixin = {                                                                                                  // 1\n    spin: function (state, options) {                                                                               // 2\n        if (!!state) {                                                                                              // 3\n            // start spinning !                                                                                     // 4\n            if (!this._spinner) {                                                                                   // 5\n                this._spinner = new Spinner(options).spin(this._container);                                         // 6\n                this._spinning = 0;                                                                                 // 7\n            }                                                                                                       // 8\n            this._spinning++;                                                                                       // 9\n        }                                                                                                           // 10\n        else {                                                                                                      // 11\n            this._spinning--;                                                                                       // 12\n            if (this._spinning <= 0) {                                                                              // 13\n                // end spinning !                                                                                   // 14\n                if (this._spinner) {                                                                                // 15\n                    this._spinner.stop();                                                                           // 16\n                    this._spinner = null;                                                                           // 17\n                }                                                                                                   // 18\n            }                                                                                                       // 19\n        }                                                                                                           // 20\n    }                                                                                                               // 21\n};                                                                                                                  // 22\n                                                                                                                    // 23\nL.Map.include(L.SpinMapMixin);                                                                                      // 24\n                                                                                                                    // 25\nL.Map.addInitHook(function () {                                                                                     // 26\n    this.on('layeradd', function (e) {                                                                              // 27\n        // If added layer is currently loading, spin !                                                              // 28\n        if (e.layer.loading) this.spin(true);                                                                       // 29\n        if (typeof e.layer.on != 'function') return;                                                                // 30\n        e.layer.on('data:loading', function () { this.spin(true); }, this);                                         // 31\n        e.layer.on('data:loaded',  function () { this.spin(false); }, this);                                        // 32\n    }, this);                                                                                                       // 33\n    this.on('layerremove', function (e) {                                                                           // 34\n        // Clean-up                                                                                                 // 35\n        if (e.layer.loading) this.spin(false);                                                                      // 36\n        if (typeof e.layer.on != 'function') return;                                                                // 37\n        e.layer.off('data:loaded');                                                                                 // 38\n        e.layer.off('data:loading');                                                                                // 39\n    }, this);                                                                                                       // 40\n});                                                                                                                 // 41\n                                                                                                                    // 42\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['bevanhunt:leaflet'] = {};\n\n})();\n","servePath":"/packages/bevanhunt_leaflet.js"}]