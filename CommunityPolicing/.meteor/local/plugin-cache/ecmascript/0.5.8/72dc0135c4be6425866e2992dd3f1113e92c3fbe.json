{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.drilldown.js","filenameRelative":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.drilldown.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.drilldown.js.map","sourceFileName":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.drilldown.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.drilldown"},"ignored":false,"code":"/**\n * Drilldown module.\n * @module foundation.drilldown\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n * @requires foundation.util.nest\n */\n!function ($, Foundation) {\n  'use strict';\n\n  /**\n   * Creates a new instance of a drilldown menu.\n   * @class\n   * @param {jQuery} element - jQuery object to make into an accordion menu.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n\n  function Drilldown(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\n\n    Foundation.Nest.Feather(this.$element, 'drilldown');\n\n    this._init();\n\n    Foundation.registerPlugin(this);\n    Foundation.Keyboard.register('Drilldown', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'up',\n      'ARROW_DOWN': 'down',\n      'ARROW_LEFT': 'previous',\n      'ESCAPE': 'close',\n      'TAB': 'down',\n      'SHIFT_TAB': 'up'\n    });\n  }\n  Drilldown.defaults = {\n    /**\n     * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method.\n     * @option\n     * @example '<li><a>Back</a></li>'\n     */\n    backButton: '<li class=\"js-drilldown-back\" tabindex=\"0\"><a>Back</a></li>',\n    /**\n     * Markup used to wrap drilldown menu. Use a class name for independent styling, or the JS applied class: `is-drilldown`.\n     * @option\n     * @example '<div></div>'\n     */\n    wrapper: '<div></div>',\n    /**\n     * Allow the menu to return to root list on body click.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n  };\n  /**\n   * Initializes the drilldown by creating jQuery collections of elements\n   * @private\n   */\n  // holdOpen: false\n  Drilldown.prototype._init = function () {\n    this.$submenuAnchors = this.$element.find('li.has-submenu');\n    this.$submenus = this.$submenuAnchors.children('[data-submenu]').addClass('is-drilldown-sub') /*.wrap($(this.options.wrapper).addClass('is-drilldown-sub'))*/;\n    // this.$rootElems = this.$element.children('[data-submenu]')/*.addClass('first-sub')*/;\n    this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem');\n    // this.$submenus;\n\n    this._prepareMenu();\n    // this._getMaxDims();\n    this._keyboardEvents();\n  };\n  /**\n   * prepares drilldown menu by setting attributes to links and elements\n   * sets a min height to prevent content jumping\n   * wraps the element if not already wrapped\n   * @private\n   * @function\n   */\n  Drilldown.prototype._prepareMenu = function () {\n    var _this = this;\n    // if(!this.options.holdOpen){\n    //   this._menuLinkEvents();\n    // }\n    this.$submenuAnchors.each(function () {\n      var $sub = $(this);\n      $sub.find('a')[0].removeAttribute('href');\n      $sub.children('[data-submenu]').attr({\n        'aria-hidden': true,\n        'tabindex': 0,\n        'role': 'menu'\n      });\n      _this._events($sub);\n    });\n    this.$submenus.each(function () {\n      var $menu = $(this),\n          $back = $menu.find('.js-drilldown-back');\n      if (!$back.length) {\n        $menu.prepend(_this.options.backButton);\n        _this._back($menu);\n      }\n    });\n    if (!this.$element.parent().hasClass('is-drilldown')) {\n      this.$wrapper = $(this.options.wrapper).addClass('is-drilldown').css(this._getMaxDims());\n      this.$element.wrap(this.$wrapper);\n    }\n  };\n  /**\n   * Adds event handlers to elements in the menu.\n   * @function\n   * @private\n   * @param {jQuery} $elem - the current menu item to add handlers to.\n   */\n  Drilldown.prototype._events = function ($elem) {\n    var _this = this;\n\n    $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n      e.stopImmediatePropagation();\n      e.preventDefault();\n\n      if (e.target !== e.currentTarget.firstElementChild) {\n        return false;\n      }\n      _this._show($elem);\n\n      if (_this.options.closeOnClick) {\n        var $body = $('body').not(_this.$wrapper);\n        $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\n          e.preventDefault();\n          _this._hideAll();\n          $body.off('.zf.drilldown');\n        });\n      }\n    });\n  };\n  /**\n   * Adds keydown event listener to `li`'s in the menu.\n   * @private\n   */\n  Drilldown.prototype._keyboardEvents = function () {\n    var _this = this;\n    this.$menuItems.add(this.$element.find('.js-drilldown-back')).on('keydown.zf.drilldown', function (e) {\n      var $element = $(this),\n          $elements = $element.parent('ul').children('li'),\n          $prevElement,\n          $nextElement;\n\n      $elements.each(function (i) {\n        if ($(this).is($element)) {\n          $prevElement = $elements.eq(Math.max(0, i - 1));\n          $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n          return;\n        }\n      });\n      Foundation.Keyboard.handleKey(e, _this, {\n        next: function () {\n          function next() {\n            if ($element.is(_this.$submenuAnchors)) {\n              _this._show($element);\n              $element.on(Foundation.transitionend($element), function () {\n                $element.find('ul li').filter(_this.$menuItems).first().focus();\n              });\n            }\n          }\n\n          return next;\n        }(),\n        previous: function () {\n          function previous() {\n            _this._hide($element.parent('ul'));\n            $element.parent('ul').on(Foundation.transitionend($element), function () {\n              setTimeout(function () {\n                $element.parent('ul').parent('li').focus();\n              }, 1);\n            });\n          }\n\n          return previous;\n        }(),\n        up: function () {\n          function up() {\n            $prevElement.focus();\n          }\n\n          return up;\n        }(),\n        down: function () {\n          function down() {\n            $nextElement.focus();\n          }\n\n          return down;\n        }(),\n        close: function () {\n          function close() {\n            _this._back();\n            //_this.$menuItems.first().focus(); // focus to first element\n          }\n\n          return close;\n        }(),\n        open: function () {\n          function open() {\n            if (!$element.is(_this.$menuItems)) {\n              // not menu item means back button\n              _this._hide($element.parent('ul'));\n              setTimeout(function () {\n                $element.parent('ul').parent('li').focus();\n              }, 1);\n            } else if ($element.is(_this.$submenuAnchors)) {\n              _this._show($element);\n              setTimeout(function () {\n                $element.find('ul li').filter(_this.$menuItems).first().focus();\n              }, 1);\n            }\n          }\n\n          return open;\n        }(),\n        handled: function () {\n          function handled() {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          }\n\n          return handled;\n        }()\n      });\n    }); // end keyboardAccess\n  };\n\n  /**\n   * Closes all open elements, and returns to root menu.\n   * @function\n   * @fires Drilldown#closed\n   */\n  Drilldown.prototype._hideAll = function () {\n    var $elem = this.$element.find('.is-drilldown-sub.is-active').addClass('is-closing');\n    $elem.one(Foundation.transitionend($elem), function (e) {\n      $elem.removeClass('is-active is-closing');\n    });\n    /**\n     * Fires when the menu is fully closed.\n     * @event Drilldown#closed\n     */\n    this.$element.trigger('closed.zf.drilldown');\n  };\n  /**\n   * Adds event listener for each `back` button, and closes open menus.\n   * @function\n   * @fires Drilldown#back\n   * @param {jQuery} $elem - the current sub-menu to add `back` event.\n   */\n  Drilldown.prototype._back = function ($elem) {\n    var _this = this;\n    $elem.off('click.zf.drilldown');\n    $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\n      e.stopImmediatePropagation();\n      // console.log('mouseup on back');\n      _this._hide($elem);\n    });\n  };\n  /**\n   * Adds event listener to menu items w/o submenus to close open menus on click.\n   * @function\n   * @private\n   */\n  Drilldown.prototype._menuLinkEvents = function () {\n    var _this = this;\n    this.$menuItems.not('.has-submenu').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n      // e.stopImmediatePropagation();\n      setTimeout(function () {\n        _this._hideAll();\n      }, 0);\n    });\n  };\n  /**\n   * Opens a submenu.\n   * @function\n   * @fires Drilldown#open\n   * @param {jQuery} $elem - the current element with a submenu to open.\n   */\n  Drilldown.prototype._show = function ($elem) {\n    $elem.children('[data-submenu]').addClass('is-active');\n\n    this.$element.trigger('open.zf.drilldown', [$elem]);\n  };\n  /**\n   * Hides a submenu\n   * @function\n   * @fires Drilldown#hide\n   * @param {jQuery} $elem - the current sub-menu to hide.\n   */\n  Drilldown.prototype._hide = function ($elem) {\n    var _this = this;\n    $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {\n      $elem.removeClass('is-active is-closing');\n    });\n    /**\n     * Fires when the submenu is has closed.\n     * @event Drilldown#hide\n     */\n    $elem.trigger('hide.zf.drilldown', [$elem]);\n  };\n  /**\n   * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n   * Prevents content jumping.\n   * @function\n   * @private\n   */\n  Drilldown.prototype._getMaxDims = function () {\n    var max = 0,\n        result = {};\n    this.$submenus.add(this.$element).each(function () {\n      var numOfElems = $(this).children('li').length;\n      max = numOfElems > max ? numOfElems : max;\n    });\n\n    result.height = max * this.$menuItems[0].getBoundingClientRect().height + 'px';\n    result.width = this.$element[0].getBoundingClientRect().width + 'px';\n\n    return result;\n  };\n  /**\n   * Destroys the Drilldown Menu\n   * @function\n   */\n  Drilldown.prototype.destroy = function () {\n    this._hideAll();\n    Foundation.Nest.Burn(this.$element, 'drilldown');\n    this.$element.unwrap().find('.js-drilldown-back').remove().end().find('.is-active, .is-closing, .is-drilldown-sub').removeClass('is-active is-closing is-drilldown-sub').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role').off('.zf.drilldown').end().off('zf.drilldown');\n\n    Foundation.unregisterPlugin(this);\n  };\n  Foundation.plugin(Drilldown, 'Drilldown');\n}(jQuery, window.Foundation);","ast":null,"map":{"version":3,"sources":["/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.drilldown.js"],"names":[],"mappings":"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","file":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.drilldown.js.map","sourcesContent":["/**\n * Drilldown module.\n * @module foundation.drilldown\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n * @requires foundation.util.nest\n */\n!function($, Foundation){\n  'use strict';\n\n  /**\n   * Creates a new instance of a drilldown menu.\n   * @class\n   * @param {jQuery} element - jQuery object to make into an accordion menu.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  function Drilldown(element, options){\n    this.$element = element;\n    this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\n\n    Foundation.Nest.Feather(this.$element, 'drilldown');\n\n    this._init();\n\n    Foundation.registerPlugin(this);\n    Foundation.Keyboard.register('Drilldown', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'up',\n      'ARROW_DOWN': 'down',\n      'ARROW_LEFT': 'previous',\n      'ESCAPE': 'close',\n      'TAB': 'down',\n      'SHIFT_TAB': 'up'\n    });\n  }\n  Drilldown.defaults = {\n    /**\n     * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method.\n     * @option\n     * @example '<li><a>Back</a></li>'\n     */\n    backButton: '<li class=\"js-drilldown-back\" tabindex=\"0\"><a>Back</a></li>',\n    /**\n     * Markup used to wrap drilldown menu. Use a class name for independent styling, or the JS applied class: `is-drilldown`.\n     * @option\n     * @example '<div></div>'\n     */\n    wrapper: '<div></div>',\n    /**\n     * Allow the menu to return to root list on body click.\n     * @option\n     * @example false\n     */\n    closeOnClick: false,\n    // holdOpen: false\n  };\n  /**\n   * Initializes the drilldown by creating jQuery collections of elements\n   * @private\n   */\n  Drilldown.prototype._init = function(){\n    this.$submenuAnchors = this.$element.find('li.has-submenu');\n    this.$submenus = this.$submenuAnchors.children('[data-submenu]').addClass('is-drilldown-sub')/*.wrap($(this.options.wrapper).addClass('is-drilldown-sub'))*/;\n    // this.$rootElems = this.$element.children('[data-submenu]')/*.addClass('first-sub')*/;\n    this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem');\n    // this.$submenus;\n\n\n    this._prepareMenu();\n    // this._getMaxDims();\n    this._keyboardEvents();\n  };\n  /**\n   * prepares drilldown menu by setting attributes to links and elements\n   * sets a min height to prevent content jumping\n   * wraps the element if not already wrapped\n   * @private\n   * @function\n   */\n  Drilldown.prototype._prepareMenu = function(){\n    var _this = this;\n    // if(!this.options.holdOpen){\n    //   this._menuLinkEvents();\n    // }\n    this.$submenuAnchors.each(function(){\n      var $sub = $(this);\n      $sub.find('a')[0].removeAttribute('href');\n      $sub.children('[data-submenu]')\n          .attr({\n            'aria-hidden': true,\n            'tabindex': 0,\n            'role': 'menu'\n          });\n      _this._events($sub);\n    });\n    this.$submenus.each(function(){\n      var $menu = $(this),\n          $back = $menu.find('.js-drilldown-back');\n      if(!$back.length){\n        $menu.prepend(_this.options.backButton);\n        _this._back($menu);\n      }\n    });\n    if(!this.$element.parent().hasClass('is-drilldown')){\n      this.$wrapper = $(this.options.wrapper).addClass('is-drilldown').css(this._getMaxDims());\n      this.$element.wrap(this.$wrapper);\n    }\n\n  };\n  /**\n   * Adds event handlers to elements in the menu.\n   * @function\n   * @private\n   * @param {jQuery} $elem - the current menu item to add handlers to.\n   */\n  Drilldown.prototype._events = function($elem){\n    var _this = this;\n\n    $elem.off('click.zf.drilldown')\n    .on('click.zf.drilldown', function(e){\n      e.stopImmediatePropagation();\n      e.preventDefault();\n\n      if(e.target !== e.currentTarget.firstElementChild){\n        return false;\n      }\n      _this._show($elem);\n\n      if(_this.options.closeOnClick){\n        var $body = $('body').not(_this.$wrapper);\n        $body.off('.zf.drilldown').on('click.zf.drilldown', function(e){\n          e.preventDefault();\n          _this._hideAll();\n          $body.off('.zf.drilldown');\n        });\n      }\n    });\n  };\n  /**\n   * Adds keydown event listener to `li`'s in the menu.\n   * @private\n   */\n  Drilldown.prototype._keyboardEvents = function() {\n    var _this = this;\n    this.$menuItems.add(this.$element.find('.js-drilldown-back')).on('keydown.zf.drilldown', function(e){\n      var $element = $(this),\n          $elements = $element.parent('ul').children('li'),\n          $prevElement,\n          $nextElement;\n\n      $elements.each(function(i) {\n        if ($(this).is($element)) {\n          $prevElement = $elements.eq(Math.max(0, i-1));\n          $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\n          return;\n        }\n      });\n      Foundation.Keyboard.handleKey(e, _this, {\n        next: function() {\n          if ($element.is(_this.$submenuAnchors)) {\n            _this._show($element);\n            $element.on(Foundation.transitionend($element), function(){\n              $element.find('ul li').filter(_this.$menuItems).first().focus();\n            });\n          }\n        },\n        previous: function() {\n          _this._hide($element.parent('ul'));\n          $element.parent('ul').on(Foundation.transitionend($element), function(){\n            setTimeout(function() {\n              $element.parent('ul').parent('li').focus();\n            }, 1);\n          });\n        },\n        up: function() {\n          $prevElement.focus();\n        },\n        down: function() {\n          $nextElement.focus();\n        },\n        close: function() {\n          _this._back();\n          //_this.$menuItems.first().focus(); // focus to first element\n        },\n        open: function() {\n          if (!$element.is(_this.$menuItems)) { // not menu item means back button\n            _this._hide($element.parent('ul'));\n            setTimeout(function(){$element.parent('ul').parent('li').focus();}, 1);\n          } else if ($element.is(_this.$submenuAnchors)) {\n            _this._show($element);\n            setTimeout(function(){$element.find('ul li').filter(_this.$menuItems).first().focus();}, 1);\n          }\n        },\n        handled: function() {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n      });\n    }); // end keyboardAccess\n  };\n\n  /**\n   * Closes all open elements, and returns to root menu.\n   * @function\n   * @fires Drilldown#closed\n   */\n  Drilldown.prototype._hideAll = function(){\n    var $elem = this.$element.find('.is-drilldown-sub.is-active').addClass('is-closing');\n    $elem.one(Foundation.transitionend($elem), function(e){\n      $elem.removeClass('is-active is-closing');\n    });\n        /**\n         * Fires when the menu is fully closed.\n         * @event Drilldown#closed\n         */\n    this.$element.trigger('closed.zf.drilldown');\n  };\n  /**\n   * Adds event listener for each `back` button, and closes open menus.\n   * @function\n   * @fires Drilldown#back\n   * @param {jQuery} $elem - the current sub-menu to add `back` event.\n   */\n  Drilldown.prototype._back = function($elem){\n    var _this = this;\n    $elem.off('click.zf.drilldown');\n    $elem.children('.js-drilldown-back')\n      .on('click.zf.drilldown', function(e){\n        e.stopImmediatePropagation();\n        // console.log('mouseup on back');\n        _this._hide($elem);\n      });\n  };\n  /**\n   * Adds event listener to menu items w/o submenus to close open menus on click.\n   * @function\n   * @private\n   */\n  Drilldown.prototype._menuLinkEvents = function(){\n    var _this = this;\n    this.$menuItems.not('.has-submenu')\n        .off('click.zf.drilldown')\n        .on('click.zf.drilldown', function(e){\n          // e.stopImmediatePropagation();\n          setTimeout(function(){\n            _this._hideAll();\n          }, 0);\n      });\n  };\n  /**\n   * Opens a submenu.\n   * @function\n   * @fires Drilldown#open\n   * @param {jQuery} $elem - the current element with a submenu to open.\n   */\n  Drilldown.prototype._show = function($elem){\n    $elem.children('[data-submenu]').addClass('is-active');\n\n    this.$element.trigger('open.zf.drilldown', [$elem]);\n  };\n  /**\n   * Hides a submenu\n   * @function\n   * @fires Drilldown#hide\n   * @param {jQuery} $elem - the current sub-menu to hide.\n   */\n  Drilldown.prototype._hide = function($elem){\n    var _this = this;\n    $elem.addClass('is-closing')\n         .one(Foundation.transitionend($elem), function(){\n           $elem.removeClass('is-active is-closing');\n         });\n    /**\n     * Fires when the submenu is has closed.\n     * @event Drilldown#hide\n     */\n    $elem.trigger('hide.zf.drilldown', [$elem]);\n\n  };\n  /**\n   * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n   * Prevents content jumping.\n   * @function\n   * @private\n   */\n  Drilldown.prototype._getMaxDims = function(){\n    var max = 0, result = {};\n    this.$submenus.add(this.$element).each(function(){\n      var numOfElems = $(this).children('li').length;\n      max = numOfElems > max ? numOfElems : max;\n    });\n\n    result.height = max * this.$menuItems[0].getBoundingClientRect().height + 'px';\n    result.width = this.$element[0].getBoundingClientRect().width + 'px';\n\n    return result;\n  };\n  /**\n   * Destroys the Drilldown Menu\n   * @function\n   */\n  Drilldown.prototype.destroy = function(){\n    this._hideAll();\n    Foundation.Nest.Burn(this.$element, 'drilldown');\n    this.$element.unwrap()\n                 .find('.js-drilldown-back').remove()\n                 .end().find('.is-active, .is-closing, .is-drilldown-sub').removeClass('is-active is-closing is-drilldown-sub')\n                 .end().find('[data-submenu]').removeAttr('aria-hidden tabindex role')\n                 .off('.zf.drilldown').end().off('zf.drilldown');\n\n    Foundation.unregisterPlugin(this);\n  };\n  Foundation.plugin(Drilldown, 'Drilldown');\n}(jQuery, window.Foundation);\n"]},"hash":"72dc0135c4be6425866e2992dd3f1113e92c3fbe"}
