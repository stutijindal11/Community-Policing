{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.magellan.js","filenameRelative":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.magellan.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.magellan.js.map","sourceFileName":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.magellan.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.magellan"},"ignored":false,"code":"/**\n * Magellan module.\n * @module foundation.magellan\n */\n!function (Foundation, $) {\n  'use strict';\n\n  /**\n   * Creates a new instance of Magellan.\n   * @class\n   * @fires Magellan#init\n   * @param {Object} element - jQuery object to add the trigger to.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n\n  function Magellan(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Magellan.defaults, options);\n\n    this._init();\n\n    Foundation.registerPlugin(this);\n  }\n\n  /**\n   * Default settings for plugin\n   */\n  Magellan.defaults = {\n    /**\n     * Amount of time, in ms, the animated scrolling should take between locations.\n     * @option\n     * @example 500\n     */\n    animationDuration: 500,\n    /**\n     * Animation style to use when scrolling between locations.\n     * @option\n     * @example 'ease-in-out'\n     */\n    animationEasing: 'linear',\n    /**\n     * Number of pixels to use as a marker for location changes.\n     * @option\n     * @example 50\n     */\n    threshold: 50,\n    /**\n     * Class applied to the active locations link on the magellan container.\n     * @option\n     * @example 'active'\n     */\n    activeClass: 'active',\n    /**\n     * Allows the script to manipulate the url of the current page, and if supported, alter the history.\n     * @option\n     * @example true\n     */\n    deepLinking: false\n  };\n\n  /**\n   * Initializes the Magellan plugin and calls functions to get equalizer functioning on load.\n   * @private\n   */\n  Magellan.prototype._init = function () {\n    var id = this.$element[0].id || Foundation.GetYoDigits(6, 'magellan'),\n        _this = this;\n    this.$targets = $('[data-magellan-target]');\n    this.$links = this.$element.find('a');\n    this.$element.attr({\n      'data-resize': id,\n      'data-scroll': id,\n      'id': id\n    });\n    this.$active = $();\n    this.scrollPos = parseInt(window.pageYOffset, 10);\n\n    this._events();\n  };\n  /**\n   * Calculates an array of pixel values that are the demarcation lines between locations on the page.\n   * Can be invoked if new elements are added or the size of a location changes.\n   * @function\n   */\n  Magellan.prototype.calcPoints = function () {\n    var _this = this,\n        body = document.body,\n        html = document.documentElement;\n\n    this.points = [];\n    this.winHeight = Math.round(Math.max(window.innerHeight, document.body.clientHeight));\n    this.docHeight = Math.round(Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight));\n\n    this.$targets.each(function () {\n      var $tar = $(this),\n          pt = Math.round($tar.offset().top - _this.options.threshold);\n      $tar.targetPoint = pt;\n      _this.points.push(pt);\n    });\n  };\n  /**\n   * Initializes events for Magellan.\n   * @private\n   */\n  Magellan.prototype._events = function () {\n    var _this = this,\n        $body = $('html, body'),\n        opts = {\n      duration: _this.options.animationDuration,\n      easing: _this.options.animationEasing\n    };\n\n    $(window).one('load', function () {\n      _this.calcPoints();\n      _this._updateActive();\n    });\n\n    this.$element.on({\n      'resizeme.zf.trigger': this.reflow.bind(this),\n      'scrollme.zf.trigger': this._updateActive.bind(this)\n    }).on('click.zf.magellan', 'a[href^=\"#\"]', function (e) {\n      e.preventDefault();\n      var arrival = this.getAttribute('href'),\n          scrollPos = $(arrival).offset().top - _this.options.threshold / 2;\n\n      // requestAnimationFrame is disabled for this plugin currently\n      // Foundation.Move(_this.options.animationDuration, $body, function(){\n      $body.stop(true).animate({\n        scrollTop: scrollPos\n      }, opts);\n    });\n    // });\n  };\n  /**\n   * Calls necessary functions to update Magellan upon DOM change\n   * @function\n   */\n  Magellan.prototype.reflow = function () {\n    this.calcPoints();\n    this._updateActive();\n  };\n  /**\n   * Updates the visibility of an active location link, and updates the url hash for the page, if deepLinking enabled.\n   * @private\n   * @function\n   * @fires Magellan#update\n   */\n  Magellan.prototype._updateActive = function () /*evt, elem, scrollPos*/{\n    var winPos = /*scrollPos ||*/parseInt(window.pageYOffset, 10),\n        curIdx;\n\n    if (winPos + this.winHeight === this.docHeight) {\n      curIdx = this.points.length - 1;\n    } else if (winPos < this.points[0]) {\n      curIdx = 0;\n    } else {\n      var isDown = this.scrollPos < winPos,\n          _this = this,\n          curVisible = this.points.filter(function (p, i) {\n        return isDown ? p <= winPos : p - _this.options.threshold <= winPos; //&& winPos >= _this.points[i -1] - _this.options.threshold;\n      });\n      curIdx = curVisible.length ? curVisible.length - 1 : 0;\n    }\n\n    this.$active.removeClass(this.options.activeClass);\n    this.$active = this.$links.eq(curIdx).addClass(this.options.activeClass);\n\n    if (this.options.deepLinking) {\n      var hash = this.$active[0].getAttribute('href');\n      if (window.history.pushState) {\n        window.history.pushState(null, null, hash);\n      } else {\n        window.location.hash = hash;\n      }\n    }\n\n    this.scrollPos = winPos;\n    /**\n     * Fires when magellan is finished updating to the new active element.\n     * @event Magellan#update\n     */\n    this.$element.trigger('update.zf.magellan', [this.$active]);\n  };\n  /**\n   * Destroys an instance of Magellan and resets the url of the window.\n   * @function\n   */\n  Magellan.prototype.destroy = function () {\n    this.$element.off('.zf.trigger .zf.magellan').find('.' + this.options.activeClass).removeClass(this.options.activeClass);\n\n    var hash = this.$active[0].getAttribute('href');\n\n    window.location.hash.replace(hash, '');\n\n    Foundation.unregisterPlugin(this);\n  };\n  Foundation.plugin(Magellan, 'Magellan');\n\n  // Exports for AMD/Browserify\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') module.exports = Magellan;\n  if (typeof define === 'function') define(['foundation'], function () {\n    return Magellan;\n  });\n}(Foundation, jQuery);","ast":null,"map":{"version":3,"sources":["/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.magellan.js"],"names":[],"mappings":"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","file":"/packages/anbuselvan:meteor-toggle-switch/vendor/css-toggle-switch/bower_components/foundation-sites/js/foundation.magellan.js.map","sourcesContent":["/**\n * Magellan module.\n * @module foundation.magellan\n */\n!function(Foundation, $) {\n  'use strict';\n\n  /**\n   * Creates a new instance of Magellan.\n   * @class\n   * @fires Magellan#init\n   * @param {Object} element - jQuery object to add the trigger to.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  function Magellan(element, options) {\n    this.$element = element;\n    this.options  = $.extend({}, Magellan.defaults, options);\n\n    this._init();\n\n    Foundation.registerPlugin(this);\n  }\n\n  /**\n   * Default settings for plugin\n   */\n  Magellan.defaults = {\n    /**\n     * Amount of time, in ms, the animated scrolling should take between locations.\n     * @option\n     * @example 500\n     */\n    animationDuration: 500,\n    /**\n     * Animation style to use when scrolling between locations.\n     * @option\n     * @example 'ease-in-out'\n     */\n    animationEasing: 'linear',\n    /**\n     * Number of pixels to use as a marker for location changes.\n     * @option\n     * @example 50\n     */\n    threshold: 50,\n    /**\n     * Class applied to the active locations link on the magellan container.\n     * @option\n     * @example 'active'\n     */\n    activeClass: 'active',\n    /**\n     * Allows the script to manipulate the url of the current page, and if supported, alter the history.\n     * @option\n     * @example true\n     */\n    deepLinking: false\n  };\n\n  /**\n   * Initializes the Magellan plugin and calls functions to get equalizer functioning on load.\n   * @private\n   */\n  Magellan.prototype._init = function() {\n    var id = this.$element[0].id || Foundation.GetYoDigits(6, 'magellan'),\n        _this = this;\n    this.$targets = $('[data-magellan-target]');\n    this.$links = this.$element.find('a');\n    this.$element.attr({\n      'data-resize': id,\n      'data-scroll': id,\n      'id': id\n    });\n    this.$active = $();\n    this.scrollPos = parseInt(window.pageYOffset, 10);\n\n    this._events();\n  };\n  /**\n   * Calculates an array of pixel values that are the demarcation lines between locations on the page.\n   * Can be invoked if new elements are added or the size of a location changes.\n   * @function\n   */\n  Magellan.prototype.calcPoints = function(){\n    var _this = this,\n        body = document.body,\n        html = document.documentElement;\n\n    this.points = [];\n    this.winHeight = Math.round(Math.max(window.innerHeight, document.body.clientHeight));\n    this.docHeight = Math.round(Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight));\n\n    this.$targets.each(function(){\n      var $tar = $(this),\n          pt = Math.round($tar.offset().top - _this.options.threshold);\n      $tar.targetPoint = pt;\n      _this.points.push(pt);\n    });\n  };\n  /**\n   * Initializes events for Magellan.\n   * @private\n   */\n  Magellan.prototype._events = function() {\n    var _this = this,\n        $body = $('html, body'),\n        opts = {\n          duration: _this.options.animationDuration,\n          easing:   _this.options.animationEasing\n        };\n\n    $(window).one('load', function(){\n      _this.calcPoints();\n      _this._updateActive();\n    });\n\n    this.$element.on({\n      'resizeme.zf.trigger': this.reflow.bind(this),\n      'scrollme.zf.trigger': this._updateActive.bind(this)\n    }).on('click.zf.magellan', 'a[href^=\"#\"]', function(e) {\n        e.preventDefault();\n        var arrival   = this.getAttribute('href'),\n            scrollPos = $(arrival).offset().top - _this.options.threshold / 2;\n\n        // requestAnimationFrame is disabled for this plugin currently\n        // Foundation.Move(_this.options.animationDuration, $body, function(){\n          $body.stop(true).animate({\n            scrollTop: scrollPos\n          }, opts);\n        });\n      // });\n  };\n  /**\n   * Calls necessary functions to update Magellan upon DOM change\n   * @function\n   */\n  Magellan.prototype.reflow = function(){\n    this.calcPoints();\n    this._updateActive();\n  };\n  /**\n   * Updates the visibility of an active location link, and updates the url hash for the page, if deepLinking enabled.\n   * @private\n   * @function\n   * @fires Magellan#update\n   */\n  Magellan.prototype._updateActive = function(/*evt, elem, scrollPos*/){\n    var winPos = /*scrollPos ||*/ parseInt(window.pageYOffset, 10),\n        curIdx;\n\n    if(winPos + this.winHeight === this.docHeight){ curIdx = this.points.length - 1; }\n    else if(winPos < this.points[0]){ curIdx = 0; }\n    else{\n      var isDown = this.scrollPos < winPos,\n          _this = this,\n          curVisible = this.points.filter(function(p, i){\n            return isDown ? p <= winPos : p - _this.options.threshold <= winPos;//&& winPos >= _this.points[i -1] - _this.options.threshold;\n          });\n      curIdx = curVisible.length ? curVisible.length - 1 : 0;\n    }\n\n    this.$active.removeClass(this.options.activeClass);\n    this.$active = this.$links.eq(curIdx).addClass(this.options.activeClass);\n\n    if(this.options.deepLinking){\n      var hash = this.$active[0].getAttribute('href');\n      if(window.history.pushState){\n        window.history.pushState(null, null, hash);\n      }else{\n        window.location.hash = hash;\n      }\n    }\n\n    this.scrollPos = winPos;\n    /**\n     * Fires when magellan is finished updating to the new active element.\n     * @event Magellan#update\n     */\n    this.$element.trigger('update.zf.magellan', [this.$active]);\n  };\n  /**\n   * Destroys an instance of Magellan and resets the url of the window.\n   * @function\n   */\n  Magellan.prototype.destroy = function(){\n    this.$element.off('.zf.trigger .zf.magellan')\n        .find('.' + this.options.activeClass).removeClass(this.options.activeClass);\n\n    var hash = this.$active[0].getAttribute('href');\n\n    window.location.hash.replace(hash, '');\n\n    Foundation.unregisterPlugin(this);\n  };\n  Foundation.plugin(Magellan, 'Magellan');\n\n  // Exports for AMD/Browserify\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined')\n    module.exports = Magellan;\n  if (typeof define === 'function')\n    define(['foundation'], function() {\n      return Magellan;\n    });\n\n}(Foundation, jQuery);\n"]},"hash":"8793500c3b7302e4c7e7c3a97069714a6e8c5597"}
